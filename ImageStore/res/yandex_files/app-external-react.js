if(window.Ya&&Ya.Rum){Ya.Rum.sendTimeMark("1604.2154");}window.YandexZen=window.YandexZen||{},window.YandexZen.app=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=166)}([function(e,t){e.exports=window.React},function(e,t,n){"use strict";function r(e,t){return e===t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,o=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}(t,n,arguments)||(o=e.apply(null,arguments)),n=arguments,o}}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];var i=0,a=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(n)),u=o(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return u.resultFunc=a,u.recomputations=function(){return i},u.resetRecomputations=function(){return i=0},u}}t.__esModule=!0,t.defaultMemoize=o,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var i=t.createSelector=s(o)},function(e,t,n){"use strict";n.r(t);var r=n(34);n.d(t,"createStore",function(){return r.b});var o=n(59);n.d(t,"combineReducers",function(){return o.a});var s=n(58);n.d(t,"bindActionCreators",function(){return s.a});var i=n(57);n.d(t,"applyMiddleware",function(){return i.a});var a=n(33);n.d(t,"compose",function(){return a.a});n(71)},function(e,t,n){"use strict";e.exports=function(){}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,o=r.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag",l="object"==typeof e,u=t.regeneratorRuntime;if(u)l&&(e.exports=u);else{(u=t.regeneratorRuntime=l?e.exports:{}).wrap=y;var d="suspendedStart",p="suspendedYield",h="executing",m="completed",f={},g={};g[i]=function(){return this};var _=Object.getPrototypeOf,b=_&&_(_(N([])));b&&b!==r&&o.call(b,i)&&(g=b);var v=C.prototype=k.prototype=Object.create(g);w.prototype=v.constructor=C,C.constructor=w,C[c]=w.displayName="GeneratorFunction",u.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(v),e},u.awrap=function(e){return{__await:e}},x(S.prototype),S.prototype[a]=function(){return this},u.AsyncIterator=S,u.async=function(e,t,n,r){var o=new S(y(e,t,n,r));return u.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(v),v[c]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},u.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},u.values=N,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return a.type="throw",a.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var s=this.tryEntries.length-1;s>=0;--s){var i=this.tryEntries[s],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var s=r;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var i=s?s.completion:{};return i.type=e,i.arg=t,s?(this.method="next",this.next=s.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;T(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),f}}}function y(e,t,n,r){var o=t&&t.prototype instanceof k?t:k,s=Object.create(o.prototype),i=new I(r||[]);return s._invoke=function(e,t,n){var r=d;return function(o,s){if(r===h)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw s;return P()}for(n.method=o,n.arg=s;;){var i=n.delegate;if(i){var a=O(i,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var c=E(e,t,n);if("normal"===c.type){if(r=n.done?m:p,c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}(e,n,i),s}function E(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function k(){}function w(){}function C(){}function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){var t;this._invoke=function(n,r){function s(){return new Promise(function(t,s){!function t(n,r,s,i){var a=E(e[n],e,r);if("throw"!==a.type){var c=a.arg,l=c.value;return l&&"object"==typeof l&&o.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,s,i)},function(e){t("throw",e,s,i)}):Promise.resolve(l).then(function(e){c.value=e,s(c)},i)}i(a.arg)}(n,r,t,s)})}return t=t?t.then(s,s):s()}}function O(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=E(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var s=o.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,f):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function N(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,s=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return s.next=s}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},,function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function e(e,t){return e(t={exports:{}},t.exports),t.exports}var n=e(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var o=n&&!0===n.clone;return o&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,o,s){var i=n.slice();return o.forEach(function(o,a){void 0===i[a]?i[a]=t(o,s):e(o)?i[a]=r(n[a],o,s):-1===n.indexOf(o)&&i.push(t(o,s))}),i}function r(o,s,i){var a=Array.isArray(s),c=i||{arrayMerge:n},l=c.arrayMerge||n;return a?Array.isArray(o)?l(o,s,i):t(s,i):function(n,o,s){var i={};return e(n)&&Object.keys(n).forEach(function(e){i[e]=t(n[e],s)}),Object.keys(o).forEach(function(a){e(o[a])&&n[a]?i[a]=r(n[a],o[a],s):i[a]=t(o[a],s)}),i}(o,s,i)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()});var r=e(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),o=r.svg,s=r.xlink,i={};i[o.name]=o.uri,i[s.name]=s.uri;var a,c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(n(i,t||{}))+">"+e+"</svg>"},l=r.svg,u=r.xlink,d={attrs:(a={style:["position: absolute","width: 0","height: 0"].join("; ")},a[l.name]=l.uri,a[u.name]=u.uri,a)},p=function(e){this.config=n(d,e||{}),this.symbols=[]};p.prototype.add=function(e){var t=this.symbols,n=this.find(e.id);return n?(t[t.indexOf(n)]=e,!1):(t.push(e),!0)},p.prototype.remove=function(e){var t=this.symbols,n=this.find(e);return!!n&&(t.splice(t.indexOf(n),1),n.destroy(),!0)},p.prototype.find=function(e){return this.symbols.filter(function(t){return t.id===e})[0]||null},p.prototype.has=function(e){return null!==this.find(e)},p.prototype.stringify=function(){var e=this.config.attrs,t=this.symbols.map(function(e){return e.stringify()}).join("");return c(t,e)},p.prototype.toString=function(){return this.stringify()},p.prototype.destroy=function(){this.symbols.forEach(function(e){return e.destroy()})};var h=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};h.prototype.stringify=function(){return this.content},h.prototype.toString=function(){return this.stringify()},h.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};var m=function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n},f=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return m(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(h),g={autoConfigure:!0,mountTo:"body",syncUrlsWithBaseTag:!1,listenLocationChangeEvent:!0,locationChangeEvent:"locationChange",locationChangeAngularEmitter:!1,usagesToUpdate:"use[*|href]",moveGradientsOutsideSymbol:!1},_=function(e){return Array.prototype.slice.call(e,0)},b=navigator.userAgent,v={isChrome:/chrome/i.test(b),isFirefox:/firefox/i.test(b),isIE:/msie/i.test(b)||/trident/i.test(b),isEdge:/edge/i.test(b)},y=function(e){var t=[];return _(e.querySelectorAll("style")).forEach(function(e){e.textContent+="",t.push(e)}),t},E=function(e){return(e||window.location.href).split("#")[0]},k=function(e){angular.module("ng").run(["$rootScope",function(t){t.$on("$locationChangeSuccess",function(t,n,r){!function(e,t){var n=document.createEvent("CustomEvent");n.initCustomEvent(e,!1,!1,t),window.dispatchEvent(n)}(e,{oldUrl:r,newUrl:n})})}])},w=function(e,t){return void 0===t&&(t="linearGradient, radialGradient, pattern"),_(e.querySelectorAll("symbol")).forEach(function(e){_(e.querySelectorAll(t)).forEach(function(t){e.parentNode.insertBefore(t,e)})}),e};var C=r.xlink.uri,x="xlink:href",S=/[{}|\\\^\[\]`"<>]/g;function O(e){return e.replace(S,function(e){return"%"+e[0].charCodeAt(0).toString(16).toUpperCase()})}var R,T=["clipPath","colorProfile","src","cursor","fill","filter","marker","markerStart","markerMid","markerEnd","mask","stroke","style"],I=T.map(function(e){return"["+e+"]"}).join(","),N=function(e,t,n,r){var o=O(n),s=O(r);(function(e,t){return _(e).reduce(function(e,n){if(!n.attributes)return e;var r=_(n.attributes),o=t?r.filter(t):r;return e.concat(o)},[])})(e.querySelectorAll(I),function(e){var t=e.localName,n=e.value;return-1!==T.indexOf(t)&&-1!==n.indexOf("url("+o)}).forEach(function(e){return e.value=e.value.replace(o,s)}),function(e,t,n){_(e).forEach(function(e){var r=e.getAttribute(x);if(r&&0===r.indexOf(t)){var o=r.replace(t,n);e.setAttributeNS(C,x,o)}})}(t,o,s)},P={MOUNT:"mount",SYMBOL_MOUNT:"symbol_mount"},A=function(e){function t(t){var r=this;void 0===t&&(t={}),e.call(this,n(g,t));var o=function(e){return e=e||Object.create(null),{on:function(t,n){(e[t]||(e[t]=[])).push(n)},off:function(t,n){e[t]&&e[t].splice(e[t].indexOf(n)>>>0,1)},emit:function(t,n){(e[t]||[]).map(function(e){e(n)}),(e["*"]||[]).map(function(e){e(t,n)})}}}();this._emitter=o,this.node=null;var s=this.config;if(s.autoConfigure&&this._autoConfigure(t),s.syncUrlsWithBaseTag){var i=document.getElementsByTagName("base")[0].getAttribute("href");o.on(P.MOUNT,function(){return r.updateUrls("#",i)})}var a=this._handleLocationChange.bind(this);this._handleLocationChange=a,s.listenLocationChangeEvent&&window.addEventListener(s.locationChangeEvent,a),s.locationChangeAngularEmitter&&k(s.locationChangeEvent),o.on(P.MOUNT,function(e){s.moveGradientsOutsideSymbol&&w(e)}),o.on(P.SYMBOL_MOUNT,function(e){s.moveGradientsOutsideSymbol&&w(e.parentNode),(v.isIE||v.isEdge)&&y(e)})}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={isMounted:{}};return r.isMounted.get=function(){return!!this.node},t.prototype._autoConfigure=function(e){var t=this.config;void 0===e.syncUrlsWithBaseTag&&(t.syncUrlsWithBaseTag=void 0!==document.getElementsByTagName("base")[0]),void 0===e.locationChangeAngularEmitter&&(t.locationChangeAngularEmitter="angular"in window),void 0===e.moveGradientsOutsideSymbol&&(t.moveGradientsOutsideSymbol=v.isFirefox)},t.prototype._handleLocationChange=function(e){var t=e.detail,n=t.oldUrl,r=t.newUrl;this.updateUrls(n,r)},t.prototype.add=function(t){var n=e.prototype.add.call(this,t);return this.isMounted&&n&&(t.mount(this.node),this._emitter.emit(P.SYMBOL_MOUNT,t.node)),n},t.prototype.attach=function(e){var t=this,n=this;if(n.isMounted)return n.node;var r="string"==typeof e?document.querySelector(e):e;return n.node=r,this.symbols.forEach(function(e){e.mount(n.node),t._emitter.emit(P.SYMBOL_MOUNT,e.node)}),_(r.querySelectorAll("symbol")).forEach(function(e){var t=f.createFromExistingNode(e);t.node=e,n.add(t)}),this._emitter.emit(P.MOUNT,r),r},t.prototype.destroy=function(){var e=this.config,t=this.symbols,n=this._emitter;t.forEach(function(e){return e.destroy()}),n.off("*"),window.removeEventListener(e.locationChangeEvent,this._handleLocationChange),this.isMounted&&this.unmount()},t.prototype.mount=function(e,t){void 0===e&&(e=this.config.mountTo),void 0===t&&(t=!1);if(this.isMounted)return this.node;var n="string"==typeof e?document.querySelector(e):e,r=this.render();return this.node=r,t&&n.childNodes[0]?n.insertBefore(r,n.childNodes[0]):n.appendChild(r),this._emitter.emit(P.MOUNT,r),r},t.prototype.render=function(){return m(this.stringify())},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},t.prototype.updateUrls=function(e,t){if(!this.isMounted)return!1;var n=document.querySelectorAll(this.config.usagesToUpdate);return N(this.node,n,E(e)+"#",E(t)+"#"),!0},Object.defineProperties(t.prototype,r),t}(p),L=e(function(e){
/*!
  * domready (c) Dustin Diaz 2014 - License MIT
  */
e.exports=function(){var e,t=[],n=document,r=n.documentElement.doScroll,o=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return o||n.addEventListener("DOMContentLoaded",e=function(){for(n.removeEventListener("DOMContentLoaded",e),o=1;e=t.shift();)e()}),function(e){o?setTimeout(e,0):t.push(e)}}()});!!window.__SVG_SPRITE__?R=window.__SVG_SPRITE__:(R=new A({attrs:{id:"__SVG_SPRITE_NODE__"}}),window.__SVG_SPRITE__=R);var M=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?R.attach(e):R.mount(document.body,!0)};return document.body?M():L(M),R})}).call(this,n(26))},function(e,t,n){(function(t){!function(t,n){e.exports=n()}(0,function(){"use strict";var e=function(e){var t=e.id,n=e.viewBox,r=e.content;this.id=t,this.viewBox=n,this.content=r};e.prototype.stringify=function(){return this.content},e.prototype.toString=function(){return this.stringify()},e.prototype.destroy=function(){var e=this;["id","viewBox","content"].forEach(function(t){return delete e[t]})};"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;function n(e,t){return e(t={exports:{}},t.exports),t.exports}var r=n(function(e,t){e.exports=function(){function e(e){var t=e&&"object"==typeof e;return t&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function t(t,n){var o=n&&!0===n.clone;return o&&e(t)?r(function(e){return Array.isArray(e)?[]:{}}(t),t,n):t}function n(n,o,s){var i=n.slice();return o.forEach(function(o,a){void 0===i[a]?i[a]=t(o,s):e(o)?i[a]=r(n[a],o,s):-1===n.indexOf(o)&&i.push(t(o,s))}),i}function r(o,s,i){var a=Array.isArray(s),c=i||{arrayMerge:n},l=c.arrayMerge||n;return a?Array.isArray(o)?l(o,s,i):t(s,i):function(n,o,s){var i={};return e(n)&&Object.keys(n).forEach(function(e){i[e]=t(n[e],s)}),Object.keys(o).forEach(function(a){e(o[a])&&n[a]?i[a]=r(n[a],o[a],s):i[a]=t(o[a],s)}),i}(o,s,i)}return r.all=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,n){return r(e,n,t)})},r}()}),o=n(function(e,t){t.default={svg:{name:"xmlns",uri:"http://www.w3.org/2000/svg"},xlink:{name:"xmlns:xlink",uri:"http://www.w3.org/1999/xlink"}},e.exports=t.default}),s=o.svg,i=o.xlink,a={};a[s.name]=s.uri,a[i.name]=i.uri;var c=function(e,t){return void 0===e&&(e=""),"<svg "+function(e){return Object.keys(e).map(function(t){return t+'="'+e[t].toString().replace(/"/g,"&quot;")+'"'}).join(" ")}(r(a,t||{}))+">"+e+"</svg>"};return function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={isMounted:{}};return n.isMounted.get=function(){return!!this.node},t.createFromExistingNode=function(e){return new t({id:e.getAttribute("id"),viewBox:e.getAttribute("viewBox"),content:e.outerHTML})},t.prototype.destroy=function(){this.isMounted&&this.unmount(),e.prototype.destroy.call(this)},t.prototype.mount=function(e){if(this.isMounted)return this.node;var t="string"==typeof e?document.querySelector(e):e,n=this.render();return this.node=n,t.appendChild(n),n},t.prototype.render=function(){var e=this.stringify();return function(e){var t=!!document.importNode,n=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;return t?document.importNode(n,!0):n}(c(e)).childNodes[0]},t.prototype.unmount=function(){this.node.parentNode.removeChild(this.node)},Object.defineProperties(t.prototype,n),t}(e)})}).call(this,n(26))},function(e,t,n){e.exports=n(141)()},function(e,t,n){var r=n(82)("wks"),o=n(28),s=n(10).Symbol,i="function"==typeof s;(e.exports=function(e){return r[e]||(r[e]=i&&s[e]||(i?s:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=window.ReactDOM},,function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){let t=!1;const n=function(){t||e(...arguments)};return n.cancel=(()=>{t=!0,"function"==typeof e.onCancel&&e.onCancel()}),n}},function(e,t,n){e.exports=!n(30)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(19),o=n(91),s=n(89),i=Object.defineProperty;t.f=n(15)?Object.defineProperty:function(e,t,n){if(r(e),t=s(t,!0),r(n),o)try{return i(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(16),o=n(42);e.exports=n(15)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(13);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";e.exports=n(128)},,function(e,t){e.exports={}},function(e,t,n){var r=n(10),o=n(17),s=n(18),i=n(28)("src"),a=Function.toString,c=(""+a).split("toString");n(24).inspectSource=function(e){return a.call(e)},(e.exports=function(e,t,n,a){var l="function"==typeof n;l&&(s(n,"name")||o(n,"name",t)),e[t]!==n&&(l&&(s(n,i)||o(n,i,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:a?e[t]?e[t]=n:o(e,t,n):(delete e[t],o(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[i]||a.call(this)})},function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=n(135)()},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(158);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(162),o=n(85);e.exports=function(e){return r(o(e))}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},,,function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],o=t.slice(0,-1);return function(){return o.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=n(35),o=n(68),s=n.n(o),i={INIT:"@@redux/INIT"};function a(e,t,n){var o;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,p=!1;function h(){d===u&&(d=u.slice())}function m(){return l}function f(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return h(),d.push(e),function(){if(t){t=!1,h();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++)t[n]();return e}return g({type:i.INIT}),(o={dispatch:g,subscribe:f,getState:m,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:i.INIT})}})[s.a]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[s.a]=function(){return this},e},o}},function(e,t,n){"use strict";var r=n(104),o="object"==typeof self&&self&&self.Object===Object&&self,s=(r.a||o||Function("return this")()).Symbol,i=Object.prototype,a=i.hasOwnProperty,c=i.toString,l=s?s.toStringTag:void 0;var u=function(e){var t=a.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var o=c.call(e);return r&&(t?e[l]=n:delete e[l]),o},d=Object.prototype.toString;var p=function(e){return d.call(e)},h="[object Null]",m="[object Undefined]",f=s?s.toStringTag:void 0;var g=function(e){return null==e?void 0===e?m:h:f&&f in Object(e)?u(e):p(e)};var _=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var b=function(e){return null!=e&&"object"==typeof e},v="[object Object]",y=Function.prototype,E=Object.prototype,k=y.toString,w=E.hasOwnProperty,C=k.call(Object);t.a=function(e){if(!b(e)||g(e)!=v)return!1;var t=_(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==C}},function(e,t,n){var r=n(136);e.exports=m,e.exports.parse=s,e.exports.compile=function(e,t){return c(s(e,t))},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=h;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function s(e,t){for(var n,r=[],s=0,i=0,a="",c=t&&t.delimiter||"/";null!=(n=o.exec(e));){var d=n[0],p=n[1],h=n.index;if(a+=e.slice(i,h),i=h+d.length,p)a+=p[1];else{var m=e[i],f=n[2],g=n[3],_=n[4],b=n[5],v=n[6],y=n[7];a&&(r.push(a),a="");var E=null!=f&&null!=m&&m!==f,k="+"===v||"*"===v,w="?"===v||"*"===v,C=n[2]||c,x=_||b;r.push({name:g||s++,prefix:f||"",delimiter:C,optional:w,repeat:k,partial:E,asterisk:!!y,pattern:x?u(x):y?".*":"[^"+l(C)+"]+?"})}}return i<e.length&&(a+=e.substr(i)),a&&r.push(a),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function a(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function c(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,o){for(var s="",c=n||{},l=(o||{}).pretty?i:encodeURIComponent,u=0;u<e.length;u++){var d=e[u];if("string"!=typeof d){var p,h=c[d.name];if(null==h){if(d.optional){d.partial&&(s+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(r(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var m=0;m<h.length;m++){if(p=l(h[m]),!t[u].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");s+=(0===m?d.prefix:d.delimiter)+p}}else{if(p=d.asterisk?a(h):l(h),!t[u].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');s+=d.prefix+p}}else s+=d}return s}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function p(e){return e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,s=!1!==n.end,i="",a=0;a<e.length;a++){var c=e[a];if("string"==typeof c)i+=l(c);else{var u=l(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+u+h+")*"),i+=h=c.optional?c.partial?u+"("+h+")?":"(?:"+u+"("+h+"))?":u+"("+h+")"}}var m=l(n.delimiter||"/"),f=i.slice(-m.length)===m;return o||(i=(f?i.slice(0,-m.length):i)+"(?:"+m+"(?=$))?"),i+=s?"$":o&&f?"":"(?="+m+"|$)",d(new RegExp("^"+i,p(n)),t)}function m(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(m(e[o],t,n).source);return d(new RegExp("(?:"+r.join("|")+")",p(n)),t)}(e,t,n):function(e,t,n){return h(s(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,s,i,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,s,i,a],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},,,function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(16).f,o=n(18),s=n(9)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,s)&&r(e,s,{configurable:!0,value:t})}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=!1},function(e,t,n){var r=n(82)("keys"),o=n(28);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){"use strict";var r=n(92),o=n(40);e.exports=n(73)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(o(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";e.exports=n(139)},,,,,function(e,t,n){n(116)("asyncIterator")},function(e,t,n){for(var r=n(118),o=n(87),s=n(23),i=n(10),a=n(17),c=n(22),l=n(9),u=l("iterator"),d=l("toStringTag"),p=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=o(h),f=0;f<m.length;f++){var g,_=m[f],b=h[_],v=i[_],y=v&&v.prototype;if(y&&(y[u]||a(y,u,p),y[d]||a(y,d,_),c[_]=p,b))for(g in r)y[g]||s(y,g,r[g],!0)}},,function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};o(n(0));var r=o(n(25));function o(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(33),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,s,i){var a,c=e(n,s,i),l=c.dispatch,u={getState:c.getState,dispatch:function(e){return l(e)}};return a=t.map(function(e){return e(u)}),l=r.a.apply(void 0,a)(c.dispatch),o({},c,{dispatch:l})}}}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}function o(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),o={},s=0;s<n.length;s++){var i=n[s],a=e[i];"function"==typeof a&&(o[i]=r(a,t))}return o}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(34);n(35),n(71);function o(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function s(e){for(var t=Object.keys(e),n={},s=0;s<t.length;s++){var i=t[s];0,"function"==typeof e[i]&&(n[i]=e[i])}var a,c=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:r.a.INIT}))throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.a.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}(n)}catch(e){a=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(a)throw a;for(var r=!1,s={},i=0;i<c.length;i++){var l=c[i],u=n[l],d=e[l],p=u(d,t);if(void 0===p){var h=o(l,t);throw new Error(h)}s[l]=p,r=r||p!==d}return r?s:e}}},function(e,t,n){e.exports=n(138)()},function(e,t,n){var r;!function(t){"use strict";var o=function(){},s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function i(){this.reads=[],this.writes=[],this.raf=s.bind(t),o("initialized",this)}function a(e){e.scheduled||(e.scheduled=!0,e.raf(function(e){o("flush");var t,n=e.writes,r=e.reads;try{o("flushing reads",r.length),c(r),o("flushing writes",n.length),c(n)}catch(e){t=e}e.scheduled=!1,(r.length||n.length)&&a(e);if(t){if(o("task errored",t.message),!e.catch)throw t;e.catch(t)}}.bind(null,e)),o("flush scheduled"))}function c(e){var t;for(o("run tasks");t=e.shift();)t()}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}i.prototype={constructor:i,measure:function(e,t){o("measure");var n=t?e.bind(t):e;return this.reads.push(n),a(this),n},mutate:function(e,t){o("mutate");var n=t?e.bind(t):e;return this.writes.push(n),a(this),n},clear:function(e){return o("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(o("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new i;"f"=="function"[0]?void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r):"o"==(typeof e)[0]&&(e.exports=u)}("undefined"!=typeof window?window:this)},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,s,i,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,s,i,a],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function s(e,n){function r(){var e=s;o(e)&&e.a.parentNode&&n(e.g)}var s=e;t(e.b,r),t(e.c,r),o(e)}function i(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}var a=null,c=null,l=null,u=null;function d(){return null===u&&(u=!!document.fonts),u}function p(){if(null===l){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}l=""!==e.style.font}return l}function h(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}i.prototype.load=function(e,t){var o=this,i=e||"BESbswy",l=0,u=t||3e3,p=(new Date).getTime();return new Promise(function(e,t){if(d()&&!function(){if(null===c)if(d()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);c=!!e&&603>parseInt(e[1],10)}else c=!1;return c}()){var m=new Promise(function(e,t){!function n(){(new Date).getTime()-p>=u?t():document.fonts.load(h(o,'"'+o.family+'"'),i).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}()}),f=new Promise(function(e,t){l=setTimeout(t,u)});Promise.race([f,m]).then(function(){clearTimeout(l),e(o)},function(){t(o)})}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}(function(){function c(){var t;(t=-1!=g&&-1!=_||-1!=g&&-1!=b||-1!=_&&-1!=b)&&((t=g!=_&&g!=b&&_!=b)||(null===a&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=a&&(g==v&&_==v&&b==v||g==y&&_==y&&b==y||g==E&&_==E&&b==E)),t=!t),t&&(k.parentNode&&k.parentNode.removeChild(k),clearTimeout(l),e(o))}var d=new n(i),m=new n(i),f=new n(i),g=-1,_=-1,b=-1,v=-1,y=-1,E=-1,k=document.createElement("div");k.dir="ltr",r(d,h(o,"sans-serif")),r(m,h(o,"serif")),r(f,h(o,"monospace")),k.appendChild(d.a),k.appendChild(m.a),k.appendChild(f.a),document.body.appendChild(k),v=d.a.offsetWidth,y=m.a.offsetWidth,E=f.a.offsetWidth,function e(){if((new Date).getTime()-p>=u)k.parentNode&&k.parentNode.removeChild(k),t(o);else{var n=document.hidden;!0!==n&&void 0!==n||(g=d.a.offsetWidth,_=m.a.offsetWidth,b=f.a.offsetWidth,c()),l=setTimeout(e,50)}}(),s(d,function(e){g=e,c()}),r(d,h(o,'"'+o.family+'",sans-serif')),s(m,function(e){_=e,c()}),r(m,h(o,'"'+o.family+'",serif')),s(f,function(e){b=e,c()}),r(f,h(o,'"'+o.family+'",monospace'))})})},e.exports=i}()},function(e){e.exports={header:{height:"166px"},feed:{marginBetweenRows:"8px"},zenOne:{header:{height:"74px"}}}},function(e){e.exports={a:"14px"}},function(e){e.exports={b:"20px",a:"396px"}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,s,i,a){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,s,i,a],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){e.exports=n(144)},function(e,t,n){var r,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(s){if(void 0===(o="function"==typeof(r=s)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=s(),!!0){var i=window.Cookies,a=window.Cookies=s();a.noConflict=function(){return window.Cookies=i,a}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}return function t(n){function r(t,o,s){var i;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=e({path:"/"},r.defaults,s)).expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*s.expires),s.expires=a}s.expires=s.expires?s.expires.toUTCString():"";try{i=JSON.stringify(o),/^[\{\[]/.test(i)&&(o=i)}catch(e){}o=n.write?n.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in s)s[l]&&(c+="; "+l,!0!==s[l]&&(c+="="+s[l]));return document.cookie=t+"="+o+c}t||(i={});for(var u=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,p=0;p<u.length;p++){var h=u[p].split("="),m=h.slice(1).join("=");this.json||'"'!==m.charAt(0)||(m=m.slice(1,-1));try{var f=h[0].replace(d,decodeURIComponent);if(m=n.read?n.read(m,f):n(m,f)||m.replace(d,decodeURIComponent),this.json)try{m=JSON.parse(m)}catch(e){}if(t===f){i=m;break}t||(i[f]=m)}catch(e){}}return i}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(t,n){r(t,"",e(n,{expires:-1}))},r.withConverter=t,r}(function(){})})},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var r,o=Array.isArray(t),s=Array.isArray(n);if(o&&s){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(o!=s)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var i=Object.keys(t);if(i.length!==Object.keys(n).length)return!1;var a=t instanceof Date,c=n instanceof Date;if(a&&c)return t.getTime()==n.getTime();if(a!=c)return!1;var l=t instanceof RegExp,u=n instanceof RegExp;if(l&&u)return t.toString()==n.toString();if(l!=u)return!1;for(r=0;r<i.length;r++)if(!Object.prototype.hasOwnProperty.call(n,i[r]))return!1;for(r=0;r<i.length;r++)if(!e(t[i[r]],n[i[r]]))return!1;return!0}return!1}},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r=n(92),o=n(40);e.exports=n(73)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(o(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(10),o=n(76),s=n(23),i=n(80),a=n(74),c=n(78),l=n(79),u=n(13),d=n(30),p=n(149),h=n(41),m=n(148);e.exports=function(e,t,n,f,g,_){var b=r[e],v=b,y=g?"set":"add",E=v&&v.prototype,k={},w=function(e){var t=E[e];s(E,e,"delete"==e?function(e){return!(_&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(_&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return _&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof v&&(_||E.forEach&&!d(function(){(new v).entries().next()}))){var C=new v,x=C[y](_?{}:-0,1)!=C,S=d(function(){C.has(1)}),O=p(function(e){new v(e)}),R=!_&&d(function(){for(var e=new v,t=5;t--;)e[y](t,t);return!e.has(-0)});O||((v=t(function(t,n){l(t,v,e);var r=m(new b,t,v);return null!=n&&c(n,g,r[y],r),r})).prototype=E,E.constructor=v),(S||R)&&(w("delete"),w("has"),g&&w("get")),(R||x)&&w(y),_&&E.clear&&delete E.clear}else v=f.getConstructor(t,e,g,y),i(v.prototype,n),a.NEED=!0;return h(v,e),k[e]=v,o(o.G+o.W+o.F*(v!=b),k),_||f.setStrong(v,e,g),v}},function(e,t,n){var r=n(28)("meta"),o=n(13),s=n(18),i=n(16).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(30)(function(){return c(Object.preventExtensions({}))}),u=function(e){i(e,r,{value:{i:"O"+ ++a,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!s(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!s(e,r)&&u(e),e}}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(10),o=n(24),s=n(17),i=n(23),a=n(27),c=function(e,t,n){var l,u,d,p,h=e&c.F,m=e&c.G,f=e&c.S,g=e&c.P,_=e&c.B,b=m?r:f?r[t]||(r[t]={}):(r[t]||{}).prototype,v=m?o:o[t]||(o[t]={}),y=v.prototype||(v.prototype={});for(l in m&&(n=t),n)d=((u=!h&&b&&void 0!==b[l])?b:n)[l],p=_&&u?a(d,r):g&&"function"==typeof d?a(Function.call,d):d,b&&i(b,l,d,e&c.U),v[l]!=d&&s(v,l,p),g&&y[l]!=d&&(y[l]=d)};r.core=o,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";var r=n(43),o=n(76),s=n(23),i=n(17),a=n(22),c=n(153),l=n(41),u=n(152),d=n(9)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,m,f,g,_){c(n,t,m);var b,v,y,E=function(e){if(!p&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},k=t+" Iterator",w="values"==f,C=!1,x=e.prototype,S=x[d]||x["@@iterator"]||f&&x[f],O=S||E(f),R=f?w?E("entries"):O:void 0,T="Array"==t&&x.entries||S;if(T&&(y=u(T.call(new e)))!==Object.prototype&&y.next&&(l(y,k,!0),r||"function"==typeof y[d]||i(y,d,h)),w&&S&&"values"!==S.name&&(C=!0,O=function(){return S.call(this)}),r&&!_||!p&&!C&&x[d]||i(x,d,O),a[t]=O,a[k]=h,f)if(b={values:w?O:E("values"),keys:g?O:E("keys"),entries:R},_)for(v in b)v in x||s(x,v,b[v]);else o(o.P+o.F*(p||C),t,b);return b}},function(e,t,n){var r=n(27),o=n(157),s=n(156),i=n(19),a=n(84),c=n(155),l={},u={};(t=e.exports=function(e,t,n,d,p){var h,m,f,g,_=p?function(){return e}:c(e),b=r(n,d,t?2:1),v=0;if("function"!=typeof _)throw TypeError(e+" is not iterable!");if(s(_)){for(h=a(e.length);h>v;v++)if((g=t?b(i(m=e[v])[0],m[1]):b(e[v]))===l||g===u)return g}else for(f=_.call(e);!(m=f.next()).done;)if((g=o(f,b,m.value,t))===l||g===u)return g}).BREAK=l,t.RETURN=u},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(23);e.exports=function(e,t,n){for(var o in t)r(e,o,t[o],n);return e}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(24),o=n(10),s=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return s[e]||(s[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(43)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(83),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(163),o=n(81);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t,n){var r=n(19),o=n(164),s=n(81),i=n(44)("IE_PROTO"),a=function(){},c=function(){var e,t=n(90)("iframe"),r=s.length;for(t.style.display="none",n(159).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[s[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[i]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(13);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(13),o=n(10).document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},function(e,t,n){e.exports=!n(15)&&!n(30)(function(){return 7!=Object.defineProperty(n(90)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(16).f,o=n(88),s=n(80),i=n(27),a=n(79),c=n(78),l=n(77),u=n(75),d=n(150),p=n(15),h=n(74).fastKey,m=n(40),f=p?"_s":"size",g=function(e,t){var n,r=h(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var u=e(function(e,r){a(e,u,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[f]=0,null!=r&&c(r,n,e[l],e)});return s(u.prototype,{clear:function(){for(var e=m(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var n=m(this,t),r=g(n,e);if(r){var o=r.n,s=r.p;delete n._i[r.i],r.r=!0,s&&(s.n=o),o&&(o.p=s),n._f==r&&(n._f=o),n._l==r&&(n._l=s),n[f]--}return!!r},forEach:function(e){m(this,t);for(var n,r=i(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(m(this,t),e)}}),p&&r(u.prototype,"size",{get:function(){return m(this,t)[f]}}),u},def:function(e,t,n){var r,o,s=g(e,t);return s?s.v=n:(e._l=s={i:o=h(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=s),r&&(r.n=s),e[f]++,"F"!==o&&(e._i[o]=s)),e},getEntry:g,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=m(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e){e.exports={a:{ru:"https://direct.yandex.ru/?partner",tr:"https://direct.yandex.com.tr/?partner"}}},function(e){e.exports={a:"24px"}},function(e){e.exports={small:{width:"23px",height:"32px",margin:"3px",ratio:1},medium:{width:"30px",height:"42px",margin:"9px",ratio:1.3}}},function(e,t,n){"use strict";(function(e){t.a=(t=>{let n=t.className;return e.createElement("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",width:"15",height:"15",viewBox:"0 0 15 15"},e.createElement("path",{fillRule:"nonzero",d:"M4.382 2.968a5.5 5.5 0 0 1 7.65 7.65l-7.65-7.65zM2.968 4.382l7.65 7.65a5.5 5.5 0 0 1-7.65-7.65zM7.5 0a7.5 7.5 0 1 0 0 15 7.5 7.5 0 0 0 0-15z"}))})}).call(this,n(0))},function(e,t,n){"use strict";(function(e){t.a=(t=>{let n=t.className;return e.createElement("svg",{className:n,xmlns:"http://www.w3.org/2000/svg",width:"14",height:"15",viewBox:"0 0 14 15"},e.createElement("path",{fillRule:"evenodd",d:"M5.314 13.182C4.021 14.486 2.25 15.09 0 14.99c1.261-.673 1.94-1.867 2.038-3.582C.778 10.197 0 8.53 0 6.689 0 2.995 3.134 0 7 0s7 2.995 7 6.689-3.134 6.688-7 6.688a7.326 7.326 0 0 1-1.686-.195zM7.762 3.087H6.213l.184 4.792h1.171l.194-4.792zm-.774 7.203a.93.93 0 0 0 .382-.08.986.986 0 0 0 .31-.214c.087-.09.156-.192.208-.308a.91.91 0 0 0 .077-.374.91.91 0 0 0-.077-.374 1.052 1.052 0 0 0-.208-.309.921.921 0 0 0-.31-.209.983.983 0 0 0-.382-.074.983.983 0 0 0-.988.966.91.91 0 0 0 .077.374 1.047 1.047 0 0 0 .528.523.93.93 0 0 0 .383.08z"}))})}).call(this,n(0))},function(e){e.exports={"lib-prefix":"zen-ui",colors:{blue:"#07f","blue-pair":"#f0f7ff","blue-light":"#d2ebff","blue-light-pair":"#214a6e",yellow:"#fc0","yellow-pair":"#241c00","yellow-light":"#fff8d9",red:"#f00000","red-pair":"#fcecec","red-light":"#ffd5d5","red-light-pair":"#f11111",green:"#00c000","green-pair":"#ebfaeb","gray-warm":"#f3f1ed","gray-warm-pair":"#4b4a49","gray-42":"#424242","gray-666":"#666","gray-a1":"#a1a1a1",border:"rgba(0, 0, 0, 0.2)","border-light":"rgba(255, 255, 255, 0.17)",disabled:"rgba(0, 0, 0, 0.08)","page-fade":"rgba(0, 0, 0, 0.12)","page-background":"#fcfcfc","disabled-text":"#a1a1a1",placeholder:"#a1a1a1","disabled-back":"#e8e8e8","checkbox-back":"#f3f1ed","checkbox-back-hover":"#f1eeea","checkbox-back-checked":"#d2ebff","checkbox-back-checked-hover":"#c7e6ff","checkbox-tick":"#0476ff"}}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}t.__esModule=!0;var o=r();o.withExtraArgument=r,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),r.hasSupport=e}}};r.update(),t.default=r},function(e,t,n){"use strict";var r=n(36),o=n.n(r),s={},i=0;t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,a=r.path,c=r.exact,l=void 0!==c&&c,u=r.strict,d=void 0!==u&&u,p=r.sensitive;if(null==a)return n;var h=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=s[n]||(s[n]={});if(r[e])return r[e];var a=[],c={re:o()(e,a,t),keys:a};return i<1e4&&(r[e]=c,i++),c}(a,{end:l,strict:d,sensitive:void 0!==p&&p}),m=h.re,f=h.keys,g=m.exec(e);if(!g)return null;var _=g[0],b=g.slice(1),v=e===_;return l&&!v?null:{path:a,url:"/"===a&&""===_?"/":_,isExact:v,params:f.reduce(function(e,t,n){return e[t.name]=b[n],e},{})}}},function(e,t){e.exports={getPartnerMetrikaCounterIds:e=>{switch(e.partner){case"omniwi":return 46113984;case"helium":return 46191072;case"osmium":return 46215975;default:return 44046119}},commonMetrikaCounterId:51446871,nativeFeedMetrikaCounterId:52453471}},function(e,t,n){"use strict";var r=n(46),o=(n(0),{childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0}),s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={};i[r.ForwardRef]={$$typeof:!0,render:!0};var a=Object.defineProperty,c=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(p){var h=d(n);h&&h!==p&&e(t,h,r)}var m=c(n);l&&(m=m.concat(l(n)));for(var f=i[t.$$typeof]||o,g=i[n.$$typeof]||o,_=0;_<m.length;++_){var b=m[_];if(!(s[b]||r&&r[b]||g&&g[b]||f&&f[b])){var v=u(n,b);try{a(t,b,v)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(26))},function(e,t,n){"use strict";n.r(t);var r=n(63),o=n.n(r);const s=new o.a("regular-ysans"),i=new o.a("bold-ysans"),a=new o.a("medium-ysans");window._fontsLoadPromise=Promise.all([s.load(),i.load(),a.load()]).then(()=>{window._isFontsLoaded=!0,document.documentElement.className+=" fonts-loaded"}).catch(e=>{console.warn(`Error on font face observer: ${JSON.stringify(e,null,2)}`)})},function(e,t,n){"use strict";n.r(t);n(4);function r(e,t,n,r,o,s,i){try{var a=e[s](i),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,s){var i=e.apply(t,n);function a(e){r(i,o,s,a,c,"next",e)}function c(e){r(i,o,s,a,c,"throw",e)}a(void 0)})}}var s=class{constructor(){this._events={}}on(e,t,n){this._events[e]||(this._events[e]=[]),this._events[e].push({listener:t,context:n})}off(e,t){if(!this._events[e])return;const n=this._events[e],r=n.length;for(let e=0;e<r;e++)if(n[e].listener===t)return void n.splice(e,1)}once(e,t,n){const r=()=>{this.off(e,t),this.off(e,r)};this.on(e,t,n),this.on(e,r)}addListener(){return this.on(...arguments)}removeListener(){return this.off(...arguments)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this._events[e]&&this._events[e].slice().forEach(e=>{let t=e.listener,r=e.context;t.apply(r,n)})}};const i=/[?&]([^&#]*)/,a=e=>{const t={},n=e.indexOf("?");if(-1===n)return t;let r=n;for(;;){const n=e.slice(r).match(i);if(!n)break;r+=n[0].length;const o=n[1].split("="),s=o[0],a=o[1],c=void 0===a?"":a;s&&(t[decodeURIComponent(s)]=decodeURIComponent(c))}return t},c=e=>{const t=Object.keys(e);return 0===t.length?"":t.reduce((t,n)=>{if(!n||void 0===e[n])return t;return`${t}${0===t.length?"?":"&"}${encodeURIComponent(n)}=${encodeURIComponent(e[n])}`},"")},l=(e,t)=>{const n=Object.assign({},a(e),t),r=e.indexOf("?"),o=e.indexOf("#"),s=-1!==o?o:e.length,i=-1!==r?r:s;return e.slice(0,i)+c(n)+e.slice(s)};var u=n(70),d=n.n(u);var p=(e,t)=>{const n=Object.keys(e),r={};for(let o=0;o<n.length;o++){const s=n[o];-1===t.indexOf(s)&&(r[s]=e[s])}return r};const h={};var m={get:function(){var e=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h[t]);case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),put:function(){var e=o(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:h[t]=n;case 1:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),remove:function(){var e=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:delete h[t];case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),isEnabled:()=>!0};const f="zen-db",g="zen-api-cache",_="undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB);let b;function v(e,t){return(_?(b||(b=new Promise((e,t)=>{const n=_.open(f,1);n.onerror=(()=>{t(n.error)}),n.onupgradeneeded=(()=>{n.result.createObjectStore(g)}),n.onsuccess=(()=>{e(n.result),n.result.onclose=(()=>{b=null})})})),b):Promise.reject(new Error("indexedDB is not supported."))).then(n=>new Promise((r,o)=>{const s=n.transaction(g,e);s.oncomplete=(()=>{r()}),s.onerror=(()=>{o(s.error)}),t(s.objectStore(g))}))}var y={get(e){let t;return v("readonly",n=>{t=n.get(e)}).then(()=>t.result)},set:(e,t)=>v("readwrite",n=>{n.put(t,e)}),delete:e=>v("readwrite",t=>{t.delete(e)}),clear:()=>v("readwrite",e=>{e.clear()}),keys(){const e=[];return v("readonly",t=>{const n=t.openKeyCursor?t.openKeyCursor():t.openCursor();n.onsuccess=(()=>{n.result&&(e.push(n.result.key),n.result.continue())})}).then(()=>e)}};var E={get:e=>y.get(e),put:(e,t)=>y.set(e,t),remove:e=>y.delete(e),isEnabled:()=>"undefined"!=typeof document&&(window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB)};const k=Object.prototype.hasOwnProperty,w=e=>Array.isArray(e)?e.slice():Object.assign({},e),C=e=>e&&"object"==typeof e,x=(e,t)=>{if(Array.isArray(e)){const n=Number(t),r=e.slice(0,n).concat(e.slice(n+1));return e.length!==r.length?r:null}{const n=Object.assign({},e);return delete n[t],k.call(e,t)!==k.call(n,t)?n:null}},S=e=>{const t=Number(e);if(!(String(t)===String(e)&&isFinite(t)&&t>=0&&Math.floor(t)===t))throw new Error(`Key '${e}' is not an array index.`)},O=e=>{const t="string"==typeof e?e.split("."):e;if(!Array.isArray(t))throw new Error("Expected the path to be a string or array.");if(0===t.length)throw new Error("Expected the path to have at least one item.");return t},R=(e,t)=>{const n=O(t);let r=e;for(let e=0;e<n.length;e++){const t=n[e];if(!C(r)||!k.call(r,t))return;r=r[t]}return r},T=(e,t,n)=>{if(!C(e))throw new Error("Value is not an object.");const r=O(t),o=w(e);let s=o,i=!1;for(let e=0;e<r.length;e++){const t=r[e],o=e===r.length-1;if(Array.isArray(s)&&S(t),o){const e=k.call(s,t),r=e?s[t]:void 0,o=s[t]="function"==typeof n?n(r):n;e&&Object.is(r,o)||(i=!0)}else if(k.call(s,t)){if(!C(s[t]))throw new Error("Value is not an object.");s=s[t]=w(s[t])}else s=s[t]={},i=!0}return i?o:e};var I={get:R,set:T,del:(e,t)=>{if(!C(e))throw new Error("Value is not an object.");const n=O(t);if(1===n.length){const t=n[0];return x(e,t)||e}const r=w(e);let o=r,s=!1;for(let e=0;e<n.length-1;e++){const t=n[e],r=e===n.length-2;if(Array.isArray(o)&&S(t),!k.call(o,t))break;if(!C(o[t]))throw new Error("Value is not an object.");if(r){const r=n[e+1];(o[t]=x(o[t],r))&&(s=!0)}else o=o[t]=w(o[t])}return s?r:e},modify:(e,t,n)=>T(e,t,n(R(e,t)))};n(45);const N="card",P="post",A="direct",L="iceboarding-grid",M="magic_card",D="gif",j="story",B="featuring_promo",F="carousel_card",U="personal_carousel",z="comment",V="profile-activity-onboarding",H="small",W="big",$="free",G={LEFT:"left",CENTER:"center",RIGHT:"right"},q=new Set(["similar","user-feedback-question"]),K={one_column:{columnCount:1,layoutableTypes:[N,D,A,"hint_eula",L,"similar",M,j,B],availableSizes:{[N]:[H],[A]:[H],hint_eula:[H],[L]:[H],similar:[H],[M]:[H],[D]:[H],[j]:[H],"user-feedback-question":[H],[B]:[H],[F]:[H],[z]:[H],[V]:[H]},initialDisplayedRowsNumber:6,rowDisplayStep:8},two_column:{columnCount:2,layoutableTypes:[],availableSizes:{}},two_column_small_cards:{columnCount:2,layoutableTypes:[],availableSizes:{[N]:[H],[A]:[H],hint_eula:[H],[L]:[H],similar:[H],[M]:[H],[D]:[H],[j]:[H],"user-feedback-question":[H],[z]:[H],[V]:[H]}},three_column:{columnCount:3},three_column_first_big:{columnCount:3},three_column_small_cards:{columnCount:3},common:{layoutableTypes:[N,P,A,M,D,j,B,"card-placeholder",z,V],availableSizes:{[N]:[H,W],[P]:[H],[A]:[H],hint_eula:[$],[L]:[$],similar:[$],[M]:[W],[D]:[H,W],[j]:[H],"card-placeholder":[H,W],placeholder:[$],"user-feedback-question":[$],similar_interests:[$],[B]:[H],[F]:[$],[U]:[$],[z]:[H],[V]:[H]},initialDisplayedRowsNumber:6,rowDisplayStep:9}},Y=e=>Object.keys(e).reduce((t,n)=>{const r=e[n],o=r.text,s=r.text_color,i=r.background_color;return t[n]={text:o,textColor:s,backgroundColor:i},t},{});function Q(e){if(e)return Object.keys(e).reduce((t,n)=>{const r=e[n],o=r.bulk_params,s=r.stat_events,i=r.links;return Object.assign({},t,{[n]:{bulkParams:o,statEvents:s,links:i}})},{})}const Z=e=>{let t=e.id,n=e.type,r=e.status,o=e.title,s=e.logo,i=e.logo_sizes,a=e.framed_logo,c=e.logo_background_color,l=e.title_background_color,u=e.title_color,d=e.feed_link,p=e.feed_api_link,h=e.subtitle,m=e.description,f=e.subscribers,g=e.social_links;return{id:t,type:n,status:r,title:o,logo:s,subtitle:h,description:m,subscribers:f,verified:e.verified,nirvana:e.nirvana,framedLogo:a,logoSizes:i,logoBackgroundColor:c,titleBackgroundColor:l,titleColor:u,feedLink:d,feedApiLink:p,socialLinks:g,link:e.link}},J=e=>Object.assign({},Z(e.source),{statParams:Q(e.stat_params)}),X=e=>e.items.map(J),ee=e=>{let t=e.source,n=e.bulk_params,r=e.stat_events;return Object.assign({},Z(t),{bulkParams:t.bulk_params||n,statEvents:t.stat_events||r})};function te(e){return{id:e.id,type:U,size:e.size,title:e.title,subtitle:e.subtitle,background:e.background,showMoreLink:e.show_more_link,items:e.items.map(ne),statEvents:e.stat_events,bulkParams:e.bulk_params}}const ne=e=>({id:e.id,type:e.type,source:J(e),statEvents:e.stat_events,bulkParams:e.bulk_params});function re(e){return void 0===e&&(e="item"),`${e}_${Math.random()*Date.now()}`}const oe=e=>{const t=e.country_id,n=e.language_ids,r=e.countries,o=e.languages;return{countryId:t,languageIds:n.reduce((e,t)=>(e[t]=!0,e),{}),countries:r.map(e=>{return{code:e.code,langs:e.langs,name:e.name}}),languages:o}},se=e=>{if(e)return"direct"===e.type?{type:"direct",domElemId:e.dom_elem_id,blockId:e.block_id,partnerStatId:e.partner_stat_id,isBig:e.is_big}:"adsense"===e.type?{type:"adsense",client:e.client,slot:e.slot}:void 0};function ie(e){return{id:e.id,title:e.title||" ",text:e.text||" ",bulkParams:e.bulk_params,statEvents:e.stat_events,source:Z(e.source),creationTime:e.creation_time,actionTime:e.action_time,requireUserData:e.require_user_data}}function ae(e){return Object.assign({ad:se(e.ad),domain:e.domain,domainTitle:e.domain_title,link:e.link,logo:e.logo,image:e.image,bigImage:e.big_card_image||e.image,blurredPreview:e.blurred_preview,cardColors:e.card_colors&&{card:e.card_colors.card,text:e.card_colors.text},mainColor:e.main_color,similarLink:e.similar.link,read:e.read,feedback:pe(e),feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link,badges:e.badges},ie(e))}function ce(e){return e.image&&e.big_card_image,Object.assign({type:N,isPromoted:e.is_promoted,isPromoPublication:e.is_promo_publication,cardBackgroundImage:e.card_background_image,cardBackgroundWhiteImage:e.card_background_white_image,customUserFeedbackData:Oe(e),rocket:!!e.zen_logo,pixels:e.pixels},ae(e))}const le=e=>{let t=e.link,n=e.preview,r=e.width,o=e.height;const s={link:t,preview:n};return(r||o)&&(s.hasSize=!0,s.width=r,s.height=o),s},ue=e=>{return{json:e.json,length:e.length}},de=e=>{let t=e.background,n=e.background_color,r=e.text_color,o=e.link_color;return{background:le(t),backgroundColor:n,textColor:r,linkColor:o}};function pe(e){const t=e.feedback_info;return t&&t.is_liked?"liked":t&&t.is_disliked?"disliked":null}const he=e=>{return{hasSound:e.has_sound,heartbeatTimes:e.heartbeat_pos,id:e.id,loop:e.loop,player:e.player,provider:e.provider,userAgent:e.userAgent,additionalParams:e.additional_params,autoplay:e.autoplay}};function me(e){return e.image&&!e.big_card_image&&console.warn("no big_card_image",e),Object.assign({type:D,video:he(e.video),stats:e.stats,statParams:Q(e.stat_params)},ae(e))}function fe(e){if("direct"!==I.get(e,"items.0.provider")||!I.get(e,"items.0.content"))return console.error(`Ad parsing error: ${JSON.stringify(e)}`),null;const t=e.items[0],n=t.content,r=t.stat_events,o=t.bulk_params;let s=!1;if(n.image&&n.image.length){const e=n.image;e[1]/e[2]>4/3&&(s=!0)}return{id:re(A),type:A,url:n.url,showUrl:n.linkHead+n.linkTail,domain:n.domain,title:n.title||" ",text:n.body,age:n.age,warning:n.warning,image:n.image,isWideImage:s,statEvents:r,bulkParams:o}}function ge(e){const t=e.source_id,n=e.image,r=e.background_color,o=e.text_color;return{id:t,image:n,name:e.name,textColor:o,textBackgroundColor:e.name_background_color,imageBackgroundColor:r}}const _e=e=>{return{link:e.link,title:e.title,image:e.image,name:e.name,statEvents:e.stat_events,bulkParams:e.bulk_params}},be=e=>({sources:X(e),category:e.category&&_e(e.category)}),ve=e=>{const t=e.items.filter(e=>{return"carousel"===e.type}).map(e=>{return e.sources});let n;return 0!==t.length&&(n=[].concat(...t).map(J)),{sources:n,list:e.items.filter(e=>{return"list_item"===e.type}).map(_e).reduce((e,t)=>(e[t.name]=t,e),{})}},ye=e=>{let t=e.items;return(void 0===t?[]:t).reduce((e,t)=>(t.type===D&&e.push(me(t)),e),[])},Ee=e=>{return{externalUrl:e.external_url}},ke={"no-user":Ee,"user-info":e=>{return{email:e.email,name:e.name,avatar:e.avatar}},"blocked-count":e=>{return{count:e.count,externalUrl:e.external_url}},language:e=>{return{country:e.country,externalUrl:e.external_url}},feedback:Ee,eula:Ee,logout:Ee,video:e=>{return{statEvents:e.stat_events,bulkParams:e.bulk_params,disabled:e.disabled}},autoplay:()=>({})},we={"no-user":"noUser","user-info":"userInfo","blocked-count":"blockedCount"},Ce=e=>{const t=e.items.reduce((e,t)=>{if(ke.hasOwnProperty(t.type)){e[we[t.type]||t.type]=ke[t.type](t)}return e},{});return t.userInfo||t.noUser||console.error("Inconsistent profile data"),t};function xe(e){const t=[],n=[],r=[],o=[];e.forEach(e=>{switch(e.type){case"channel":case"interest":r.push(J({source:e,stat_params:e.stat_params}));break;case"small_card":t.push(function(e){const t={title:e.title||" ",text:e.text||" ",link:e.link,domainTitle:e.domain_title,image:e.images&&e.images.horizontal,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:se(e.ad),rocket:!!e.zen_logo,cardColors:null,mainColor:null,feedLink:e.source.feed_link,commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link};return e.hasOwnProperty("card_colors")?t.cardColors=e.card_colors:e.hasOwnProperty("main_color")&&(t.mainColor=e.main_color),t}(e));break;case"ad":n.push(fe(e));break;case"rtb":o.push(Object.assign({},e,{ad:se(e.ad)}))}});const s=r.map(e=>{return e.id});return{docs:t,direct:n,sources:r,sourcesIds:s,rtb:o}}const Se=e=>({id:re("similar"),type:"similar",items:xe(e.items)});function Oe(e){if(!e.custom_user_feedback_data)return null;try{return{questions:e.custom_user_feedback_data.questions.map(e=>{return{id:e.id,type:e.type,display_type:e.display_type,text:e.text,answers:e.answers.map(e=>{let t=e.id,n=e.type,r=e.text,o=e.stats;return{id:t,type:n,text:r,isChecked:!1,stats:{statEvents:o.stat_events,bulkParams:o.bulk_params}}})}})}}catch(e){return console.warn("Error parsing custom_user_feedback_data",e),null}}function Re(e){return{id:e.id,type:e.type,source:ee(e),description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,feedbackButtons:Y(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params}}const Te=e=>{const t={};return Object.keys(e).forEach(n=>{t[n]={count:e[n]}}),t};var Ie=e=>{switch(e.type){case N:return ce(e);case P:return function(e){const t={type:P,id:e.id,style:de(e.style),link:e.link,similarLink:e.similar_link,source:Z(e.source),pixels:e.pixels,bulkParams:e.bulk_params,statEvents:e.stat_events,ad:se(e.ad),commentsDocumentId:e.comments_document_id,commentsLink:e.comments_link,badges:e.badges,requireUserData:e.require_user_data};return e.rich_text&&(t.richText=ue(e.rich_text)),e.image&&(t.image=le(e.image)),t.read=e.was_read,t.feedback=e.feedback_status,t.domainTitle=e.source.title,t}(e);case D:return me(e);case"ad":return fe(e);case L:return function(e){const t={id:re(L),type:e.type,sources:e.sources.map(ge),stats:e.stats,moreButton:void 0,bulkParams:e.bulk_params,statEvents:e.stat_events};return e.more_button&&(t.moreButton={link:e.more_button.click}),t}(e);case"hint_eula":return function(e){return{id:e.id,type:e.type,link:e.link,bulkParams:e.bulk_params,statEvents:e.stat_events}}(e);case j:return function(e){const t=ce(e);return t.type=j,t.isPromoNarrative="narrative_promo_text"===e.narrative_style,t}(e);case"card-placeholder":case"placeholder":return function(e){return{id:e.item_id.toString(),type:e.type,statEvents:e.stat_events,bulkParams:e.bulk_params}}(e);case"similar_interests":return function(e){return{id:e.id,type:e.type,title:e.title,items:e.items.map(e=>J({source:e,stat_params:e.stat_params}))}}(e);case B:return function(e){return{id:e.id,type:B,source:ee(e),header:e.header,description:e.description,blurredPreview:e.blurred_preview,background:e.background,mainColor:e.main_color,textColor:e.text_color,menu:e.menu,feedbackButtons:Y(e.feedback),statEvents:e.stat_events,bulkParams:e.bulk_params}}(e);case F:return function(e){return{id:e.id,type:F,carouselType:e.carousel_type,title:e.title,subtitle:e.subtitle,menu:e.menu,items:e.items.map(Re),statEvents:e.stat_events,bulkParams:e.bulk_params}}(e);case U:return te(e);case z:return function(e){return Object.assign({type:z,comment:e.comments&&e.comments[0]},ie(e))}(e);case V:return function(e){return{type:V,mode:e.mode,id:e.id}}(e);default:return console.warn(`Unsupported doc type: ${e.type}`),null}};function Ne(e){const t={lastSawFeed:{zenApp:null,zenAppIos:null},serverTime:null};return e&&(e.last_saw_feed&&(t.lastSawFeed.zenApp=e.last_saw_feed.zen_app,t.lastSawFeed.zenAppIos=e.last_saw_feed.zen_app_ios),t.serverTime=e.server_time),t}var Pe=e=>{let t=null;if(e.items){const n=e.items.reduce((t,n)=>{if(n){const r=Ie(n);r&&t.push(Object.assign({},r,{packId:e.rid}))}return t},[]);t=n.length>0?n:null}let n=null;e.interests_onboarding&&(n={sources:X(e.interests_onboarding),statParams:Q(e.interests_onboarding.stat_params)});let r=null;return e.pinned_carousel&&(r=te(e.pinned_carousel)),Object.assign({},e,{id:e.rid,receivedAt:e.received_at,ttl:1e3*e.ttl,storeTtl:1e3*e.store_ttl,source:e.sf,items:t,onboardingInterests:n,pinnedCarousel:r,isIceStart:e.ice_start,experimentsData:e.experiments_data||null,clientDefinition:e.client_definition||null,user:Ne(e.user),commentsDoc:e.comments_doc?Ie(e.comments_doc):null})};n(69);const Ae=()=>{const e=`; ${document.cookie}`.match(/; yandexuid=([^;]*)/);return e&&e[1]},Le=()=>{const e=`; ${document.cookie}`.match(/; yandex_login=([^;]*)/);return e&&e[1]},Me={PACK_SHOWN:"packShown",BULK_EVENT_LOGGED:"bulkEventLogger",API_RESPONSE_TTL_EXPIRED:"apiResponseTtlExpired",API_RESPONSE_ERROR_TTL_EXPIRED:"apiResponseErrorTtlExpired",NOT_SHOWN_PACK_UPDATED:"notShownPackUpdated",LAST_SHOWN_PACK_UPDATED:"lastShownPackUpdated"},De={ONBOARDING:"onboarding",EXPORT:"export",MORE:"more",BULK:"bulk",CLIENT_LOGS:"client_logs",SUBS:"subs",PROFILE:"profile",COUNTRY_LANG:"language",BLOCKED:"blocked",PREFERENCES:"preferences",SUBSCRIBERS:"subscribers",CATEGORY:"category",CATEGORIES:"categories",SUGGEST:"suggest",BLOCKED_SUGGEST:"blocked_suggest",VIDEO_RECOMMEND:"video_recommend",PUBLISHER_CONFIG:"publisher_config",COMMENTS_COUNTER:"comments_counter",SEND_APP_LINK_SMS:"send_app_link_sms",SOCIAL_PROFILE:"social_profile",SOCIAL_ACTIVITY_FEED:"social_activity_feed",SOCIAL_PROFILE_EDIT:"social_profile_edit",SOCIAL_INTERESTS_FEEDBACK:"social_interests_feedback",PROFILE_ONBOARDING_SHOWN:"profile_onboarding_shown",PROFILE_COMPLETE_ONBOARDING:"profile_complete_onboarding"},je={SESSION_CACHE:"cacheStorage",MULTI_SESSION_CACHE:"multiCacheStorage"},Be={NETWORK:"network",CACHE_BEFORE_NETWORK:"cache-before-network",CACHE_AFTER_NETWORK:"cache-after-network"},Fe=5e3,Ue="not-shown-pack",ze="last-shown-pack",Ve=e=>{if(!(e&&e.type&&e.apiResponse&&e.params))throw new Error("Invalid cache record scheme.")},He=(e,t)=>{const n=e.receivedAt,r=e.ttl,o=e.storeTtl,s=t?o:r;if(!("number"==typeof n&&"number"==typeof s&&n+s>Date.now()))throw new Error(`Invalid cache ${t?"store-ttl":"ttl"}.`)},We=e=>{if(!e.items)throw new Error("Invalid api response to put in cache.")},$e=(e,t,n,r)=>{const o=e&&e.userId&&t&&t.userId&&e.userId===t.userId&&Boolean(e.isAdblockEnabled)===Boolean(t.isAdblockEnabled)&&("number"!=typeof e.clid||e.clid===t.clid)&&("number"!=typeof e.referrerClid||e.referrerClid===t.referrerClid)&&("string"!=typeof e.referrerPlace||e.referrerPlace===t.referrerPlace)&&("string"!=typeof e.countryCode||e.countryCode===t.countryCode)&&d()(e.feedFilter,t.feedFilter)&&d()(e.zenFeatures&&p(e.zenFeatures,r),t.zenFeatures&&p(t.zenFeatures,r));let s=!0;if(e&&Array.isArray(e.clientExperiments)){const r=((e,t)=>{let n=[];return e&&Array.isArray(e.clientExperiments)&&n.push(...e.clientExperiments),t.experimentsData&&Object.keys(t.experimentsData).forEach(e=>{const r=t.experimentsData[e];r&&r.exp&&n.push(e)}),n})(t,n);s=e.clientExperiments.every(e=>r.includes(e))}if(!o||!s)throw new Error("ZenApi cache is not valid.")};var Ge=class{constructor(e,t){this._zenApi=e,this._eventEmitter=t}_getStorage(){const e=this._zenApi.getConfig();if(e.cache)switch(e.cache.type){case je.MULTI_SESSION_CACHE:if(E.isEnabled())return E;if(m.isEnabled())return m;break;case je.SESSION_CACHE:if(m.isEnabled())return m}throw new Error("ZenApi cache is not enabled.")}_getRecordKey(e){const t=this._zenApi.getConfig(),n=t.cache&&t.cache.namespace;if(!n)throw new Error("ZenApi cache.namespace is not configured.");return`${n}-${e}`}_get(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o,s,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=n._getStorage(),s=n._getRecordKey(e),r.next=4,o.get(s);case 4:return i=r.sent,n.validateRecord(i,t),r.abrupt("return",i);case 7:case"end":return r.stop()}},r,this)}))()}_put(e,t,n,r){var s=this;return o(regeneratorRuntime.mark(function o(){var i,a,c;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return i=s._getStorage(),a=s._getRecordKey(e),c=s.createRecord(t,n,r),o.next=5,i.put(a,c);case 5:case"end":return o.stop()}},o,this)}))()}_remove(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getStorage(),o=t._getRecordKey(e),n.next=4,r.remove(o);case 4:case"end":return n.stop()}},n,this)}))()}getValidationParams(){const e=this._zenApi.getConfig(),t=e.clid,n=e.referrerClid,r=e.referrerPlace,o=e.feedFilter,s=e.countryCode,i=e.clientExperiments,a=e.userInfo,c=e.zenFeatures,l=e.isAdblockEnabled,u=a.oauthToken,d=a.login,p=a.deviceId,h=a.profileId,m=a.yandexuid;return{clid:t,referrerClid:n,referrerPlace:r,feedFilter:o,countryCode:s,clientExperiments:i,userId:u||d||Le()||p||h||m||Ae(),zenFeatures:c,isAdblockEnabled:l}}createRecord(e,t,n){const r=this._zenApi.getConfig().apiResponseValidator,o=Pe(t);return We(o),r(o),{type:e,apiResponse:t,params:n}}validateRecord(e,t){let n=void 0===t?{}:t,r=n.byStoreTtl,o=void 0!==r&&r,s=n.ignoredZenFeatures,i=void 0===s?[]:s;Ve(e);const a=this._zenApi.getConfig(),c=a.apiResponseValidator,l=Pe(e.apiResponse),u=this.getValidationParams(a);He(l,o),$e(u,e.params,l,i),We(l),c(l)}getNotShownPack(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._get(Ue,e));case 1:case"end":return n.stop()}},n,this)}))()}getLastShownPack(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t._get(ze,e));case 1:case"end":return n.stop()}},n,this)}))()}putNotShownPack(e,t,n){var r=this;return o(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===n&&(n=r.getValidationParams()),o.next=3,r._put(Ue,e,t,n);case 3:r._eventEmitter.emit(Me.NOT_SHOWN_PACK_UPDATED,e,t,n);case 4:case"end":return o.stop()}},o,this)}))()}putLastShownPack(e,t,n){var r=this;return o(regeneratorRuntime.mark(function o(){return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return void 0===n&&(n=r.getValidationParams()),o.next=3,r._put(ze,e,t,n);case 3:r._eventEmitter.emit(Me.LAST_SHOWN_PACK_UPDATED,e,t,n);case 4:case"end":return o.stop()}},o,this)}))()}removeNotShownPack(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._remove(Ue));case 1:case"end":return t.stop()}},t,this)}))()}removeLastShownPack(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._remove(ze));case 1:case"end":return t.stop()}},t,this)}))()}},qe=e=>new Promise(t=>setTimeout(()=>t(),e));const Ke={credentials:"include",timeout:6e4},Ye={Accept:"application/json;"},Qe=e=>{const t=e.ok,n=e.url,r=e.status,o=e.statusText;if(!t)throw new Error(`${n} ${r} (${o})`);return(e=>{const t=e.headers.get("Content-Type");return t&&-1!==t.indexOf("application/json;")?e.json():e.text()})(e)},Ze=(e,t)=>{const n=Object.assign({},Ke,t),r=n.params?l(e,n.params):e;return new Promise((e,t)=>{fetch(r,n).then(Qe).then(e,t),qe(n.timeout).then(()=>{t(new Error("Request timeout."))})})},Je=function(e,t){void 0===t&&(t={});const n=Object.assign({},t,{method:"GET",params:Object.assign({},t.params||{},{rnd:Date.now()})});return Ze(e,n)},Xe=function(e){void 0===e&&(e={});const t=Object.assign({},Ye,e.headers);let n=e,r=n.body,o=n.method,s=void 0===o?"POST":o;return t["Content-Type"]||(t["Content-Type"]="application/json;",r&&"string"!=typeof r&&(r=JSON.stringify(r))),Object.assign({},e,{method:s,headers:t,body:r})},et=function(e,t){return void 0===t&&(t={}),Ze(e,Xe(t))},tt=function(e,t){return void 0===t&&(t={}),Ze(e,Xe(t))};var nt=class{constructor(e){this._zenApiInstance=e}_getExtraHeaders(){const e={},t=this._zenApiInstance.getConfig(),n=t.userInfo,r=t.zenFeatures,o=t.clientExperiments;return n.oauthToken&&(e.Authorization=`OAuth ${n.oauthToken}`),Object.keys(r).length>0&&(e["Zen-Features"]=JSON.stringify(r)),e["Zen-Client-Experiments"]=["zen-version:2.179.1",...Array.isArray(o)&&o.length>0?o:[]].join(", "),e}makeApiRequest(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o,s,i,a,c;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===t&&(t={}),o=t.noExtraHeaders?{}:n._getExtraHeaders(),s=t.method,i={params:t.params,headers:Object.assign({},o,t.headers),mode:t.mode,method:s},!t.body){r.next=17;break}if(c=Object.assign({},i,{body:t.body}),"PUT"!==s){r.next=12;break}return r.next=9,tt(e,c);case 9:a=r.sent,r.next=15;break;case 12:return r.next=14,et(e,c);case 14:a=r.sent;case 15:r.next=20;break;case 17:return r.next=19,Je(e,i);case 19:a=r.sent;case 20:return r.abrupt("return",a);case 21:case"end":return r.stop()}},r,this)}))()}};const rt={UPDATE_PRELOAD:"updatePreload"};var ot=class{constructor(){this._eventEmitter=new s,this._config={limits:{docImages:10}}}onNetworkResponse(e){const t=this._getUrlsToPreload(e);this._eventEmitter.emit(rt.UPDATE_PRELOAD,t)}addListener(e,t){this._eventEmitter.addListener(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_getUrlsToPreload(e){let t=[];return e&&e.items&&(t=t.concat(e.items.map(e=>e.cardBackgroundWhiteImage).filter(Boolean).slice(0,this._config.limits.docImages))),t}};const st=(e,t)=>{let n=null;return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];clearTimeout(n),n=setTimeout(()=>{n=null,e(...o)},t)}},it={GET_BEFORE_NETWORK:"GET_BEFORE_NETWORK",PUT_AFTER_NETWORK:"PUT_AFTER_NETWORK",GET_AFTER_NETWORK:"GET_AFTER_NETWORK"},at={default:[it.GET_BEFORE_NETWORK,it.PUT_AFTER_NETWORK,it.GET_AFTER_NETWORK],reload:[it.PUT_AFTER_NETWORK,it.GET_AFTER_NETWORK],"no-cache":[it.PUT_AFTER_NETWORK],"no-store":[]},ct={host:null,clid:null,referrerClid:null,referrerPlace:null,countryCode:null,zenFeatures:{},clientExperiments:null,apiResponseValidator:()=>null,links:{[De.ONBOARDING]:null,[De.MORE]:null,[De.BULK]:null,[De.SUBS]:null,[De.PROFILE]:null,[De.BLOCKED]:null,[De.PREFERENCES]:null,[De.SUBSCRIBERS]:null,[De.CATEGORIES]:null,[De.CATEGORY]:null,[De.SUGGEST]:null,[De.BLOCKED_SUGGEST]:null,[De.VIDEO_RECOMMEND]:null,[De.COUNTRY_LANG]:null,[De.COMMENTS_COUNTER]:null,[De.PROFILE__NEW]:null,[De.SOCIAL_ACTIVITY_FEED]:null,[De.SOCIAL_INTERESTS_FEEDBACK]:null,[De.COMPLETE_PROFILE_ONBOARDING]:null},userInfo:{oauthToken:null,login:null,deviceId:null,profileId:null,yandexuid:null,partnerId:null},cache:{type:je.SESSION_CACHE,namespace:"common",isPrefetchEnabled:!0},chromeExtensionId:null};var lt=class{constructor(e){this._config=ct,this._eventEmitter=new s,this._cache=new Ge(this,this._eventEmitter),this._network=new nt(this),this._preload=new ot,this._queue=Promise.resolve(),this._lastUsedPackId=null,this._lastUsedPackShown=!1,this._debouncedUpdateNotShownPack=st(e=>this._updateNotShownPack(e),Fe),e&&this.configure(e)}_isCacheEnabledForStep(e,t){if(!this._config.cache)return!1;const n=at[t];if(!n)throw new Error(`Cache mode '${t}' is not exist.`);return n.includes(e)}_getApiRequestUrl(e){const t={[De.EXPORT]:"export",[De.PUBLISHER_CONFIG]:"publisher-config"}[e];if(t){const e=this._config,n=e.host,r=e.clid,o=e.referrerClid,s=e.referrerPlace,i=e.countryCode,a=e.userInfo;if(!n)throw new Error("ZenApi host is not configured.");const c={clid:r||void 0,country_code:i||void 0,referrer_clid:o,referrer_place:s};return a&&a.partnerId&&(c.partner_user_id=String(a.partnerId)),l(`${n}api/v3/launcher/${t}`,c)}const n=this._config.links[e];if(!n)throw new Error(`ZenApi ${e} url is not configured.`);return n}_getApiRequestUrlWithUid(e,t){return this._getApiRequestUrl(e).replace("__uid__",t)}_getApiResponseFromNetworkAndMaybePutItToCache(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o,s,i,a,c,l;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return void 0===t&&(t={}),o=n._getApiRequestUrl(e),s=t.cache||"default",i=n._cache.getValidationParams(),r.next=6,n._network.makeApiRequest(o,t);case 6:return a=r.sent,c=Object.assign({},a,{received_at:Date.now()}),l=Pe(c),n._config.apiResponseValidator(l),n._isCacheEnabledForStep(it.PUT_AFTER_NETWORK,s)&&(n._cache.putNotShownPack(e,c,i).catch(()=>{}),n._preload.onNetworkResponse(l)),r.abrupt("return",{apiResponse:l,source:Be.NETWORK});case 12:case"end":return r.stop()}},r,this)}))()}_getApiResponseFromCacheBeforeNetwork(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._cache.getNotShownPack();case 2:if(r=n.sent,o=Pe(r.apiResponse),e!==De.MORE||r.type!==De.EXPORT){n.next=6;break}throw new Error("Can not apply cache from export to more request.");case 6:if(t._lastUsedPackId!==o.id){n.next=8;break}throw new Error(`Pack '${o.id}' has already been used.`);case 8:return n.abrupt("return",{apiResponse:o,source:Be.CACHE_BEFORE_NETWORK});case 9:case"end":return n.stop()}},n,this)}))()}_getApiResponseFromCacheAfterNetwork(){var e=this;return o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._cache.getNotShownPack({byStoreTtl:!0});case 3:n=t.sent,t.next=11;break;case 6:return t.prev=6,t.t0=t.catch(0),t.next=10,e._cache.getLastShownPack({byStoreTtl:!0});case 10:n=t.sent;case 11:return t.abrupt("return",{apiResponse:Pe(n.apiResponse),source:Be.CACHE_AFTER_NETWORK});case 12:case"end":return t.stop()}},t,this,[[0,6]])}))()}_getApiResponse(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o,s,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===t&&(t={}),o=t.cache||"default",!n._isCacheEnabledForStep(it.GET_BEFORE_NETWORK,o)){r.next=11;break}return r.prev=3,r.next=6,n._getApiResponseFromCacheBeforeNetwork(e);case 6:s=r.sent,r.next=11;break;case 9:r.prev=9,r.t0=r.catch(3);case 11:if(s){r.next=32;break}return r.prev=12,r.next=15,n._getApiResponseFromNetworkAndMaybePutItToCache(e,t);case 15:s=r.sent,r.next=32;break;case 18:if(r.prev=18,r.t1=r.catch(12),i=e===De.EXPORT,!n._isCacheEnabledForStep(it.GET_AFTER_NETWORK,o)||!i){r.next=30;break}return r.prev=22,r.next=25,n._getApiResponseFromCacheAfterNetwork();case 25:s=r.sent,r.next=30;break;case 28:r.prev=28,r.t2=r.catch(22);case 30:if(s){r.next=32;break}throw r.t1;case 32:return n._updateNotShownPack(),r.abrupt("return",s);case 34:case"end":return r.stop()}},r,this,[[3,9],[12,18],[22,28]])}))()}_hasValidNotShownPackInCache(e){var t=this;return o(regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t._getApiResponseFromCacheBeforeNetwork(e);case 3:return n.abrupt("return",!0);case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",!1);case 9:case"end":return n.stop()}},n,this,[[0,6]])}))()}_updateNotShownPack(e){var t=this;let n=void 0===e?{}:e,r=n.invalidate,s=void 0!==r&&r,i=n.requestType;this._config.cache&&this._config.cache.isPrefetchEnabled&&this._addToQueue(o(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i||De.MORE,e.t0=s,e.t0){e.next=6;break}return e.next=5,t._hasValidNotShownPackInCache(n);case 5:e.t0=!e.sent;case 6:if(!e.t0){e.next=14;break}return e.prev=7,e.next=10,t._getApiResponseFromNetworkAndMaybePutItToCache(n);case 10:e.next=14;break;case 12:e.prev=12,e.t1=e.catch(7);case 14:case"end":return e.stop()}},e,this,[[7,12]])})))}_addToQueue(e){const t=this._queue=this._queue.then(()=>e(),()=>e());return t.catch(()=>{}),t}configure(e){this._config="function"==typeof e?e(this._config):e}getConfig(){return this._config}getExport(e){return this._addToQueue(()=>this._getApiResponse(De.EXPORT,e))}getMore(){return this._addToQueue(()=>this._getApiResponse(De.MORE))}getSimilar(e){return this._network.makeApiRequest(e).then(Se)}sendBannerStats(e){return this._network.makeApiRequest(e)}sendAppLinkSms(e){const t=this._getApiRequestUrl(De.SEND_APP_LINK_SMS);return this._network.makeApiRequest(t,{params:{phone:e}})}getPublisherConfig(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getApiRequestUrl(De.PUBLISHER_CONFIG),t.next=3,e._network.makeApiRequest(n);case 3:return r=t.sent,t.abrupt("return",Pe(r));case 5:case"end":return t.stop()}},t,this)}))()}getProfile(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getApiRequestUrl(De.PROFILE),t.next=3,e._network.makeApiRequest(n);case 3:return r=t.sent,t.abrupt("return",Ce(r));case 5:case"end":return t.stop()}},t,this)}))()}getSuggest(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(De.SUGGEST),n.next=3,t._network.makeApiRequest(r,{params:{search_text:e}});case 3:return o=n.sent,n.abrupt("return",X(o));case 5:case"end":return n.stop()}},n,this)}))()}getBlockedSuggest(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(De.BLOCKED_SUGGEST),n.next=3,t._network.makeApiRequest(r,{params:{search_text:e}});case 3:return o=n.sent,n.abrupt("return",X(o));case 5:case"end":return n.stop()}},n,this)}))()}getCategories(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getApiRequestUrl(De.CATEGORIES),t.next=3,e._network.makeApiRequest(n);case 3:return r=t.sent,t.abrupt("return",ve(r));case 5:case"end":return t.stop()}},t,this)}))()}getCategory(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(De.CATEGORY).replace("__name__",e),n.next=3,t._network.makeApiRequest(r);case 3:return o=n.sent,n.abrupt("return",be(o));case 5:case"end":return n.stop()}},n,this)}))()}getPreferences(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrlWithUid(De.PREFERENCES,e),n.next=3,t._network.makeApiRequest(r);case 3:return o=n.sent,n.abrupt("return",X(o));case 5:case"end":return n.stop()}},n,this)}))()}getVideoRecommend(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getApiRequestUrl(De.VIDEO_RECOMMEND),t.next=3,e._network.makeApiRequest(n);case 3:return r=t.sent,t.abrupt("return",ye(r));case 5:case"end":return t.stop()}},t,this)}))()}getCountryLang(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e._getApiRequestUrl(De.COUNTRY_LANG),t.next=3,e._network.makeApiRequest(n);case 3:return r=t.sent,t.abrupt("return",oe(r));case 5:case"end":return t.stop()}},t,this)}))()}getCommentsCounters(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(De.COMMENTS_COUNTER),n.next=3,t._network.makeApiRequest(r,{body:{documentIds:e},mode:"cors",noExtraHeaders:!0,method:"POST"});case 3:return o=n.sent,n.abrupt("return",Te(o.counts));case 5:case"end":return n.stop()}},n,this)}))()}setCountryLang(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=n._getApiRequestUrl(De.COUNTRY_LANG),r.next=3,n._network.makeApiRequest(o,{body:{country_id:e,language_ids:t}});case 3:n.invalidateCache();case 4:case"end":return r.stop()}},r,this)}))()}getSocialProfile(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrlWithUid(De.SOCIAL_PROFILE,e),n.next=3,t._network.makeApiRequest(r);case 3:return o=n.sent,s={uid:o.uid,avatarUrl:o.avatarUrl,name:o.name,about:o.about,followerCount:o.followerCount,subscriptionCount:o.subscriptionCount,backgroundColor:o.backgroundColor,textColor:o.textColor,interests:o.interests.map(e=>J({source:e})),privacy:{hideInterests:o.privacy.hideInterests,hideActivity:o.privacy.hideActivity,hideSubscriptions:o.privacy.hideSubscriptions},isSleeping:o.isSleeping,onboardingRequired:o.onboardingRequired,csrfToken:o.csrfToken,passportRetPathPlaceholder:o.passportRetPathPlaceholder,passportAvatarEditLink:o.passportAvatarEditLink,passportDisplayNameEditLink:o.passportDisplayNameEditLink,supportRemoveProfileLink:o.supportRemoveProfileLink,source:J(o.source)},n.abrupt("return",s);case 6:case"end":return n.stop()}},n,this)}))()}getUserSubscribers(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrlWithUid(De.SUBSCRIBERS,e),n.next=3,t._network.makeApiRequest(r);case 3:return o=n.sent,n.abrupt("return",X(o));case 5:case"end":return n.stop()}},n,this)}))()}updateSocialProfile(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(De.SOCIAL_PROFILE_EDIT),n.next=3,t._network.makeApiRequest(r,{headers:{"x-csrf-token":e.token},method:"PUT",body:e});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n,this)}))()}prefetch(){this._updateNotShownPack()}invalidateCache(){this._cache.removeNotShownPack(),this._debouncedUpdateNotShownPack()}packUsed(e){this._lastUsedPackId=e,this._lastUsedPackShown=!1}packShown(e){var t=this;this._config.cache&&this._addToQueue(o(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t._cache.getNotShownPack();case 3:r=n.sent,n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:if(!r){n.next=18;break}if(Pe(r.apiResponse).id!==e){n.next=18;break}return n.prev=11,n.next=14,Promise.all([t._cache.removeNotShownPack(),t._cache.putLastShownPack(r.type,r.apiResponse,r.params)]);case 14:n.next=18;break;case 16:n.prev=16,n.t1=n.catch(11);case 18:e!==t._lastUsedPackId||t._lastUsedPackShown||(t._lastUsedPackShown=!0,t._updateNotShownPack()),t._eventEmitter.emit(Me.PACK_SHOWN,e);case 20:case"end":return n.stop()}},n,this,[[0,6],[11,16]])})))}getNotShownPackFromCache(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._cache.getNotShownPack(e);case 2:return r=n.sent,n.abrupt("return",Pe(r.apiResponse));case 4:case"end":return n.stop()}},n,this)}))()}getLastShownPackFromCache(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t._cache.getLastShownPack(e);case 2:return r=n.sent,n.abrupt("return",Pe(r.apiResponse));case 4:case"end":return n.stop()}},n,this)}))()}setIntervalPackUpdater(e){var t=this;setInterval(o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t._updateNotShownPack({requestType:De.EXPORT});case 1:case"end":return e.stop()}},e,this)})),e),this._updateNotShownPack({requestType:De.EXPORT})}on(){this._eventEmitter.on(...arguments)}off(){this._eventEmitter.off(...arguments)}addListener(){this._eventEmitter.addListener(...arguments)}removeListener(){this._eventEmitter.removeListener(...arguments)}getActivityFeed(e){return this._addToQueue(()=>this._getApiResponse(De.SOCIAL_ACTIVITY_FEED,e))}sendInterestsFeedback(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(De.SOCIAL_INTERESTS_FEEDBACK),n.next=3,t._network.makeApiRequest(r,{method:"PUT",body:e});case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}},n,this)}))()}profileOnboardingShown(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(De.PROFILE_ONBOARDING_SHOWN),n.next=3,t._network.makeApiRequest(r,{headers:{"x-csrf-token":e.token},body:{context:e.context},method:"POST"});case 3:if((o=n.sent)&&"ok"===o.status){n.next=6;break}throw new Error("onboarding shown failed",o);case 6:return n.abrupt("return",o);case 7:case"end":return n.stop()}},n,this)}))()}completeProfileOnboarding(e){var t=this;return o(regeneratorRuntime.mark(function n(){var r,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._getApiRequestUrl(De.PROFILE_COMPLETE_ONBOARDING),n.next=3,t._network.makeApiRequest(r,{headers:{"x-csrf-token":e.token},body:{context:e.context,onboardingDocumentId:e.documentId},method:"PUT"});case 3:if((o=n.sent)&&"ok"===o.status){n.next=6;break}throw new Error("complete onboarding failed",o);case 6:return n.abrupt("return",o);case 7:case"end":return n.stop()}},n,this)}))()}};const ut=1e3,dt=e=>`${e}_${Date.now()}`,pt=e=>({stats:e.map(e=>{let t=e.event,n=e.params,r=e.ts,o=e.info;const s={event:t,data:n,ts:r};return o&&(s.info=o),s}),bulk_ts:Date.now()}),ht=()=>{let e,t,n=0,r=0,o=!1;const s=new Promise(t=>{e=t}),i=new Promise(e=>{t=e}),a=()=>{o=!0,t()},c=()=>{++r===n&&a()};return{trigger:()=>(e(),r===n&&a(),i),extend:e=>{o||(n++,s.then(e).then(c,c))}}},mt=(e=>{if("undefined"!=typeof document){const t=e?`${e}=1`:atob("Ymx0c3I9MQ==");return Boolean(document.cookie.match(new RegExp(t)))}})();const ft=e=>{if(!(Array.isArray(e.items)&&e.items.length>0&&e.more&&e.more.link&&e.bulk&&e.bulk.link)){const t=`Invalid response from ZenApi${e.message?`: '${e.message}'`:""}.`,n=new Error(t);throw e.errorType&&(n.type=e.errorType),e.ttl&&(n.ttl=e.ttl),n}};var gt=new class extends lt{constructor(){var e;return e=super(...arguments),this._bulkEvents=[],this._sendingTimeoutId=null,this._bulkEventBatch=null,e}_getApiResponseFromNetworkAndMaybePutItToCache(e,t){var n=this;return o(regeneratorRuntime.mark(function r(){var o,s,i;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(void 0===t&&(t={}),mt&&n._sendBulkEventsWithinQueue(),!mt&&0!==n._bulkEvents.length&&!t.body){r.next=4;break}return r.abrupt("return",lt.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(n,e,t));case 4:return o=n._bulkEvents,s=pt(o),i=Object.assign({},t,{body:s}),n._bulkEvents=[],r.prev=8,r.abrupt("return",lt.prototype._getApiResponseFromNetworkAndMaybePutItToCache.call(n,e,i));case 12:throw r.prev=12,r.t0=r.catch(8),n._bulkEvents=n._bulkEvents.concat(o),r.t0;case 16:case"end":return r.stop()}},r,this,[[8,12]])}))()}_addToQueue(e,t){return void 0===t&&(t=!0),t&&(this._bulkEventBatch=null),super._addToQueue(e)}_sendBulkEvents(){var e=this;return o(regeneratorRuntime.mark(function t(){var n,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e._bulkEvents.length){t.next=2;break}return t.abrupt("return");case 2:return n=e._getApiRequestUrl(De.BULK),r=e._bulkEvents,o=pt(r),e._bulkEvents=[],t.prev=6,t.next=9,e._network.makeApiRequest(n,{body:o});case 9:t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(6),e._bulkEvents=e._bulkEvents.concat(r),t.t0;case 15:case"end":return t.stop()}},t,this,[[6,11]])}))()}_planBulkEventsSending(){null===this._sendingTimeoutId&&(this._sendingTimeoutId=setTimeout(()=>{this._sendingTimeoutId=null,this._sendBulkEventsWithinQueue()},ut))}_sendBulkEventsWithinQueue(){if(!this._bulkEventBatch){const e=this._bulkEventBatch=ht();this._addToQueue(()=>e.trigger().then(()=>{this._bulkEventBatch===e&&(this._bulkEventBatch=null)}),!1)}this._bulkEventBatch&&this._bulkEventBatch.extend(()=>this._sendBulkEvents().catch(e=>{console.warn("Error while sending bulk events",e)}))}logBulkEvent(e){const t=e.event,n=e.bulkParams,r=e.statMeta,o=e.info,s={id:dt(t),event:t,params:n,ts:Date.now(),info:o};this._bulkEvents.push(s),this._planBulkEventsSending(),this._eventEmitter.emit(Me.BULK_EVENT_LOGGED,Object.assign({},s,{statMeta:r}))}}(e=>Object.assign({},e,{apiResponseValidator:ft}));const _t=new s,bt={STAT:"stat",PLACEHOLDER_UNMOUNT:"placeholderUnmount",PLACEHOLDER:"placeholder",PLACEHOLDER_SHOW:"placeholderShow",PRECACHE_MISS:"precacheMiss",TIMINGS:"timings",FIRST_PAINT:"firstPaint",PROMO_CARD:"promoCard",ROWS_CHANGED:"rowsChanged",CACHE_PUT:"cachePut",SOURCE_CHANGE:"sourceChange",POPUP_OPEN:"popupOpen",POPUP_CLOSE:"popupClose",TOOTH_VISIBLE:"toothVisible",RESIZE:"resize",PUBLIC_STATE_CHANGE:"stateChange"},vt=new s,yt={NOTIFIERS_ENABLED:"zen-feed-show",NOTIFIERS_DISABLED:"zen-feed-hide"},Et=new s,kt={FEED_CHANGED:"feedChanged"},wt="site_desktop",Ct="zen_lib",xt="desktop_browser_rezen",St="desktop_browser_with_morda";var Ot=n(0),Rt=n.n(Ot),Tt=n(34);function It(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Nt=n(8),Pt=n.n(Nt),At=Pt.a.shape({trySubscribe:Pt.a.func.isRequired,tryUnsubscribe:Pt.a.func.isRequired,notifyNestedSubs:Pt.a.func.isRequired,isSubscribed:Pt.a.func.isRequired}),Lt=Pt.a.shape({subscribe:Pt.a.func.isRequired,dispatch:Pt.a.func.isRequired,getState:Pt.a.func.isRequired});var Mt=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",r=function(t){It(o,t);var r=o.prototype;function o(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return r.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.render=function(){return Ot.Children.only(this.props.children)},o}(Ot.Component);return r.propTypes={store:Lt.isRequired,children:Pt.a.element.isRequired},r.childContextTypes=((t={})[e]=Lt.isRequired,t[n]=At,t),r}();function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jt(){return(jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bt(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var Ft=n(103),Ut=n.n(Ft),zt=n(62),Vt=n.n(zt),Ht=n(46),Wt=null,$t={notify:function(){}};var Gt=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=$t}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=function(){var e=[],t=[];return{clear:function(){t=Wt,e=Wt},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==Wt&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=$t)},e}(),qt=0,Kt={};function Yt(){}function Qt(e,t){var n,r;void 0===t&&(t={});var o=t,s=o.getDisplayName,i=void 0===s?function(e){return"ConnectAdvanced("+e+")"}:s,a=o.methodName,c=void 0===a?"connectAdvanced":a,l=o.renderCountProp,u=void 0===l?void 0:l,d=o.shouldHandleStateChanges,p=void 0===d||d,h=o.storeKey,m=void 0===h?"store":h,f=o.withRef,g=void 0!==f&&f,_=Bt(o,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),b=m+"Subscription",v=qt++,y=((n={})[m]=Lt,n[b]=At,n),E=((r={})[b]=At,r);return function(t){Vt()(Object(Ht.isValidElementType)(t),"You must pass a component to the function returned by "+c+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=i(n),o=jt({},_,{getDisplayName:i,methodName:c,renderCountProp:u,shouldHandleStateChanges:p,storeKey:m,withRef:g,displayName:r,wrappedComponentName:n,WrappedComponent:t}),s=function(n){function s(e,t){var o;return(o=n.call(this,e,t)||this).version=v,o.state={},o.renderCount=0,o.store=e[m]||t[m],o.propsMode=Boolean(e[m]),o.setWrappedInstance=o.setWrappedInstance.bind(Dt(Dt(o))),Vt()(o.store,'Could not find "'+m+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+m+'" as a prop to "'+r+'".'),o.initSelector(),o.initSubscription(),o}It(s,n);var i=s.prototype;return i.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[b]=t||this.context[b],e},i.componentDidMount=function(){p&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},i.componentWillReceiveProps=function(e){this.selector.run(e)},i.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},i.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=Yt,this.store=null,this.selector.run=Yt,this.selector.shouldComponentUpdate=!1},i.getWrappedInstance=function(){return Vt()(g,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+c+"() call."),this.wrappedInstance},i.setWrappedInstance=function(e){this.wrappedInstance=e},i.initSelector=function(){var t=e(this.store.dispatch,o);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},i.initSubscription=function(){if(p){var e=(this.propsMode?this.props:this.context)[b];this.subscription=new Gt(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},i.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(Kt)):this.notifyNestedSubs()},i.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},i.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},i.addExtraProps=function(e){if(!(g||u||this.propsMode&&this.subscription))return e;var t=jt({},e);return g&&(t.ref=this.setWrappedInstance),u&&(t[u]=this.renderCount++),this.propsMode&&this.subscription&&(t[b]=this.subscription),t},i.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(Ot.createElement)(t,this.addExtraProps(e.props))},s}(Ot.Component);return s.WrappedComponent=t,s.displayName=r,s.childContextTypes=E,s.contextTypes=y,s.propTypes=y,Ut()(s,t)}}var Zt=Object.prototype.hasOwnProperty;function Jt(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Xt(e,t){if(Jt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Zt.call(t,n[o])||!Jt(e[n[o]],t[n[o]]))return!1;return!0}var en=n(58);function tn(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function nn(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function rn(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=nn(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=nn(o),o=r(t,n)),o},r}}var on=[function(e){return"function"==typeof e?rn(e):void 0},function(e){return e?void 0:tn(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?tn(function(t){return Object(en.a)(e,t)}):void 0}];var sn=[function(e){return"function"==typeof e?rn(e):void 0},function(e){return e?void 0:tn(function(){return{}})}];function an(e,t,n){return jt({},n,e,t)}var cn=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,s=n.areMergedPropsEqual,i=!1;return function(t,n,a){var c=e(t,n,a);return i?o&&s(c,r)||(r=c):(i=!0,r=c),r}}}(e):void 0},function(e){return e?void 0:function(){return an}}];function ln(e,t,n,r){return function(o,s){return n(e(o,s),t(r,s),s)}}function un(e,t,n,r,o){var s,i,a,c,l,u=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,h=!1;function m(o,h){var m=!d(h,i),f=!u(o,s);return s=o,i=h,m&&f?(a=e(s,i),t.dependsOnOwnProps&&(c=t(r,i)),l=n(a,c,i)):m?(e.dependsOnOwnProps&&(a=e(s,i)),t.dependsOnOwnProps&&(c=t(r,i)),l=n(a,c,i)):f?function(){var t=e(s,i),r=!p(t,a);return a=t,r&&(l=n(a,c,i)),l}():l}return function(o,u){return h?m(o,u):function(o,u){return a=e(s=o,i=u),c=t(r,i),l=n(a,c,i),h=!0,l}(o,u)}}function dn(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,s=Bt(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),i=n(e,s),a=r(e,s),c=o(e,s);return(s.pure?un:ln)(i,a,c,e,s)}function pn(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function hn(e,t){return e===t}var mn=function(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Qt:n,o=t.mapStateToPropsFactories,s=void 0===o?sn:o,i=t.mapDispatchToPropsFactories,a=void 0===i?on:i,c=t.mergePropsFactories,l=void 0===c?cn:c,u=t.selectorFactory,d=void 0===u?dn:u;return function(e,t,n,o){void 0===o&&(o={});var i=o,c=i.pure,u=void 0===c||c,p=i.areStatesEqual,h=void 0===p?hn:p,m=i.areOwnPropsEqual,f=void 0===m?Xt:m,g=i.areStatePropsEqual,_=void 0===g?Xt:g,b=i.areMergedPropsEqual,v=void 0===b?Xt:b,y=Bt(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=pn(e,s,"mapStateToProps"),k=pn(t,a,"mapDispatchToProps"),w=pn(n,l,"mergeProps");return r(d,jt({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:k,initMergeProps:w,pure:u,areStatesEqual:h,areOwnPropsEqual:f,areStatePropsEqual:_,areMergedPropsEqual:v},y))}}();const fn="USER_SUBSCRIPTIONS_REQUEST",gn="USER_BLOCKED_REQUEST",_n={timeouts:[5e3,1e4,15e3]};var bn=(e,t)=>{let n,r;const o=e=>{n=Object.assign({},_n,e)},s=function(t){let o=void 0===t?{}:t,s=o.args,i=o.timeouts,a=void 0===i?n.timeouts:i,c=o.withoutAction,l=void 0!==c&&c,u=o.withoutRetries,d=void 0!==u&&u,p=o.onTryComplete,h=void 0===p?e=>{if(e.isRejected)throw e.error;return e.value}:p;const m=(e=>"function"!=typeof e?()=>e:e)(s),f=(e=>Array.isArray(e)?t=>t<e.length?e[t]:null:"function"!=typeof e?()=>e:e)(a);let g,_,b=0,v=!1,y=!1;const E=()=>g===r,k=()=>!v&&!y,w=()=>!d&&k()&&E(),C=()=>{k()&&(_&&_(),y=!0)},x=()=>{const t=m(b);let n;return Array.isArray(t)?n=e(...t):(null!=t&&console.warn("Expected action arguments to be an array or null/undefined."),n=e()),n.then(e=>h({value:e,tryNumber:b,isFulfilled:!0,isRejected:!1,isLastSession:E,abortRetries:C}),e=>h({error:e,tryNumber:b,isFulfilled:!1,isRejected:!0,isLastSession:E,abortRetries:C}))},S=e=>{if(w()){const t=f(b);if("number"==typeof t)return b++,(e=>new Promise((t,n)=>{_=(()=>{_=null,n(new Error("Retries aborted."))}),setTimeout(()=>{_=null,t()},e)}))(t).then(()=>{if(w())return x().catch(S);throw e});null!=t&&console.warn("Expected action timeout to be a number or null/undefined.")}throw e},O=l?Promise.reject(new Error("Generated error by 'withoutAction' call.")):x(),R=((e,t)=>e.then(e=>(t(e),e),e=>{throw t(e),e}))(O.catch(S),()=>{v=!0});return r&&r.abortRetries(),r=g={actionResult:O,retriesResult:R,isLastSession:E,isInProgress:k,abortRetries:C}};o(t);const i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s({args:t})};return i.startSession=s,i.setOptions=o,i},vn=n(1);const yn=e=>Object(vn.createSelector)(e,e=>e.sources,(e,t)=>{if(e)return((e,t)=>e.map(e=>t[e]).filter(Boolean))(e,t)}),En=(yn(e=>e.categories.data&&e.categories.data.sources),yn((e,t)=>t),yn(e=>e.search.search.data),yn(e=>e.onboarding.data),yn((e,t)=>e.category[t]&&e.category[t].data&&e.category[t].data.sources),Object(vn.createSelector)(e=>e.channel,e=>e.sources,(e,t)=>{const n=e&&e.id;return n?t[n]:null}));var kn=class{constructor(e){this._data=e}exists(e){return this._data.hasOwnProperty(e)}isExp(e){return this.exists(e)&&Boolean(this._data[e].exp)}isRef(e){return this.exists(e)&&Boolean(this._data[e].ref)}getAllExps(){return Object.keys(this._data).filter(e=>I.get(this._data,[e,"exp"]))}findExps(e){return Object.keys(this._data).filter(t=>I.get(this._data,[t,"exp"])&&t.match(e))}_execFindExp(e){return this.findExps(e).map(t=>e.exec(t))}getFirstGroupByRegexp(e){return this._execFindExp(e).map(e=>(e[0],e[1]))}};class wn{constructor(e){this._config=e}static _merge(e,t){if(void 0===t)return e;if("object"!=typeof e)return typeof t==typeof e?t:e;for(var n=Object.keys(e),r=0;r<n.length;r++){const o=n[r];t&&typeof e[o]==typeof t[o]&&(e[o]=wn._merge(e[o],t[o]))}return e}static _cloneDeep(e){return"object"==typeof e?JSON.parse(JSON.stringify(e)):e}safeGet(e,t){try{return wn._merge(t,I.get(this._config,e))}catch(e){return console.warn("safeGet method of DefinitionConfig:",e),t}}unsafeGet(e,t){try{const n=I.get(this._config,e);return void 0===n?t:wn._cloneDeep(n)}catch(e){return console.warn("unsafeGet method of DefinitionConfig:",e),t}}}var Cn=wn;const xn=e=>"/"===e[0]?e.slice(1):e;var Sn=n(102);const On={},Rn=function(e,t){let n=void 0===t?{}:t,r=n.invalidate,o=void 0!==r&&r,s=n.crossorigin,i=void 0!==s&&s,a=n.useCredentials,c=void 0!==a&&a;if(On[e]&&!o)return On[e].promise;const l=document.createElement("script");l.src=e,l.async=!0,i&&(l.crossOrigin=c?"use-credentials":"anonymous");const u=new Promise((t,n)=>{l.onload=(()=>{On[e].loaded=!0,t()}),l.onerror=(t=>{On[e].error=t,n(t)})});return On[e]&&document.head&&document.head.removeChild(On[e].script),document.head&&document.head.appendChild(l),On[e]={script:l,promise:u,loaded:!1,error:null},u};Rn.isRequested=(e=>Boolean(On[e])),Rn.isLoaded=(e=>Boolean(On[e]&&On[e].loaded)),Rn.isFailed=(e=>Boolean(On[e]&&On[e].error));var Tn=Rn;const In=[1e3,3e3,15e3],Nn={clickmap:!1,trackLinks:!1,accurateTrackBounce:!0},Pn={reachGoal:()=>{}},An=function(){var e=o(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function e(t){return void 0===t&&(t=0),Tn("https://mc.yandex.ru/metrika/tag.js",{invalidate:!0}).catch(n=>{if(In[t])return qe(In[t]).then(()=>e(t+1));throw n})}();case 3:if(window.Ya&&window.Ya.Metrika2){e.next=8;break}return console.warn("withMetrikaGoal: window.Ya.Metrika2 not found"),e.abrupt("return",Pn);case 8:return e.abrupt("return",new window.Ya.Metrika2(Object.assign({},Nn,t)));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.warn("withMetrikaGoal: metrika load error:",e.t0),e.abrupt("return",Pn);case 15:case"end":return e.stop()}},e,this,[[0,11]])}));return function(t){return e.apply(this,arguments)}}(),Ln={},Mn=function(){var e=o(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=`yaCounter${t.id}`,!window[n]||"function"!=typeof window[n].reachGoal){e.next=4;break}return Ln[t.id]=window[n],e.abrupt("return",window[n]);case 4:return Ln[t.id]||(Ln[t.id]=An(t)),e.abrupt("return",Ln[t.id]);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Dn=e=>{if("undefined"==typeof window)return()=>{};const t=Mn({id:e});return function(){var e=o(regeneratorRuntime.mark(function e(n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:e.sent.reachGoal(n);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()};var jn=n(36),Bn=n.n(jn),Fn={},Un=0,zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===e?e:function(e){var t=e,n=Fn[t]||(Fn[t]={});if(n[e])return n[e];var r=Bn.a.compile(e);return Un<1e4&&(n[e]=r,Un++),r}(e)(t,{pretty:!0})};const Vn=e=>e.params.integration,Hn=e=>e.params.product,Wn=(e,t)=>t===wt||"site_mobile"===t,$n=e=>Boolean(e.channel&&!e.channel.noChannel),Gn=(Object(vn.createSelector)(e=>{return e.links.login_tmpl},e=>{return e.router.location.pathname},(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(xn(t))):null),Object(vn.createSelector)(e=>{return e.links.logout_tmpl},e=>{return e.router.location.pathname},(e,t)=>e?e.replace("__replace-retpath__",encodeURIComponent(xn(t))):null),e=>e.params.isNarrativeFeed),qn=e=>e.params.isNativeFeed,Kn=(Object(vn.createSelector)(qn,Gn,$n,e=>{return"/"===e.router.location.pathname},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(Boolean)}),Object(vn.createSelector)(e=>{return e.params.experimentsData},e=>new kn(e))),Yn=Object(vn.createSelector)(e=>{return e.params.clientDefinition},e=>new Cn(e)),Qn=(Object(vn.createSelector)(e=>{return e.context.partner},e=>{const t=Object(Sn.getPartnerMetrikaCounterIds)(e);return Dn(t)}),Object(vn.createSelector)(Vn,Hn,(e,t)=>Wn(0,t)),Object(vn.createSelector)($n,Gn,(e,t)=>!(e||t))),Zn=Object(vn.createSelector)(e=>e.params.libType,e=>["activityDesktop","activityTablet","activityMobile"].includes(e)),Jn=Object(vn.createSelector)(Gn,qn,$n,Zn,(e,t,n,r)=>!(e||t||n||r)),Xn=(Object(vn.createSelector)(Vn,Hn,Kn,(e,t,n)=>Wn(0,t)&&n.isExp("should_reset_scroll_on_unload")),Object(vn.createSelector)(e=>{return e.iface.isOpenCardScrollEnabled},Kn,Zn,(e,t,n)=>e&&t.isExp("should_scroll_on_open_card")&&!t.isExp("ab:rezen_cards25:rezen_cards25_b")&&!t.isExp("ab:rezen_cards25:rezen_cards25_c")&&!n)),er=Object(vn.createSelector)(e=>{return e.params.teethType},Kn,(e,t)=>e||(t.isExp("zen_comtr_color")?"color":"white")),tr=Object(vn.createSelector)(Kn,e=>e.isExp("lazy_images")||e.isExp("ab:rezen_lazy_images:enable")||e.isExp("zen_lib_lazy_images")),nr=Object(vn.createSelector)(e=>e.params.teethType,Kn,(e,t)=>!!e||t.isExp("site_desktop_turkey_morda_teeth")),rr=Object(vn.createSelector)(e=>{return e.params.zenFeatures.color_theme},e=>e),or=["top_fixed","top_hiding","bottom"],sr=Object(vn.createSelector)(Kn,e=>{const t=or.some(t=>e.isExp(`ab:rezen_unified:${t}`)),n=e.isExp("ab:rezen_new_menu:rezen_new_menu");return t||n}),ir=Object(vn.createSelector)(Kn,sr,e=>e.isExp("ab:mobile_zen_one_other_countries:mobile_zen_one_other_countries")),ar=Object(vn.createSelector)(sr,ir,(e,t)=>Boolean(e||t)),cr=Object(vn.createSelector)(Vn,e=>["ya_search_app_ios"].includes(e)),lr=(Object(vn.createSelector)(ar,Gn,qn,En,cr,(e,t,n,r,o)=>e&&!t&&!n&&!r&&!o),Object(vn.createSelector)(Hn,Kn,(e,t)=>e===wt||"zen_modal_lib"===e?t.isExp("ab:site_desktop_interests:site_desktop_interests_enabled")||t.isExp("ab:site_desktop_interests_staff:site_desktop_interests_staff_enabled"):"site_mobile"===e?t.isExp("ab:site_mobile_interests:site_mobile_interests_enabled")||t.isExp("ab:site_mobile_interests_staff:site_mobile_interests_staff_enabled"):"zen_app"===e?t.isExp("ab:zenkit_interests:zenkit_interests_enabled")||t.isExp("ab:zenkit_interests_staff:zenkit_interests_staff_enabled"):"zen_app_ios"===e&&(t.isExp("ab:ios_native_interests:ios_native_interests_enabled")||t.isExp("ab:ios_native_interests_staff:ios_native_interests_staff_enabled"))),Object(vn.createSelector)(Yn,e=>{const t=e.safeGet("social_profile",{onboarding_enabled:!1,profile_enabled:!1,onboarding_timeout:500}),n=t.onboarding_enabled,r=t.onboarding_timeout;return{onboardingEnabled:n,profileEnabled:t.profile_enabled,onboardingTimeout:r}})),ur=(Object(vn.createSelector)(Kn,lr,(e,t)=>e.isExp("new_profile")||t.profileEnabled),Object(vn.createSelector)(e=>e.auth&&e.auth.info,function(e){return void 0===e&&(e={}),e.isAuthorized}),Object(vn.createSelector)(e=>e.auth&&e.auth.info,function(e){return void 0===e&&(e={}),e.uid?(e=>zn("/user/:uid(\\d*)",{uid:e}))(e.uid):""}),Object(vn.createSelector)(Kn,Yn,(e,t)=>e.isExp("ab:extend_feedback:extend_feedback_fix")||e.isExp("ab:extend_feedback:extend_feedback_fix_2")||t.safeGet("rezen_extend_feedback",{with_fix:!1}).with_fix)),dr=(e,t)=>{const n=I.get(K[e],t),r=I.get(K.common,t);return n&&r&&Array.isArray(n)?n.concat(r):n||r},pr=e=>{switch(e){case H:return 1;case W:return 2;case $:return 3}},hr=((e,t)=>n=>{let r=n.items,o=n.itemsOrder;if(e===o)return t;const s=o.map(e=>{const t=r[e];return{id:e,type:t.type,ad:t.ad,commentsDocumentId:t.commentsDocumentId}});return e=o,t=s,s})(),mr=Object(vn.createSelector)((e,t)=>e.feed.itemsOrder.indexOf(t),e=>e),fr=e=>{const t=e.gridType;return K[t].columnCount},gr="Placeholder",_r="Zen",br=(e,t)=>{return(t?e.slice(0,t):e).map(e=>e.hasPlaceholder?gr:_r)},vr=Object(vn.createSelector)(hr,e=>e.gridType,fr,(e,t,n)=>{const r=[],o={},s=dr(t,"layoutableTypes");let i=-1;return e.forEach(e=>{let a=e.id,c=e.type,l=e.ad,u=e.commentsDocumentId;const d=s.includes(c);d&&i++;const p=d?((e,t)=>{switch(t){case"one_column":return H;case"two_column":{const t=e%4;return 0===t||1===t?H:W}case"two_column_small_cards":return H;case"three_column":return[3,6].includes(e%7)?W:H;case"three_column_first_big":return[0,3].includes(e%7)?W:H;case"three_column_small_cards":return H;default:return null}})(i,t):$;dr(t,["availableSizes",c]).includes(p)||console.warn("Invalid item size:",p,c,a);const h=pr(p);let m=r[r.length-1];m||(m=[],r.push(m));const f={id:a,type:c,size:p,ad:l,commentsDocumentId:u};if(m.reduce((e,t)=>{let n=t.size;return e+pr(n)},0)+h<=n)m.push(f);else{const e=[f];r.push(e),"placeholder"===c&&(e.hasPlaceholder=!0)}f.row=r.length-1,o[a]=f}),{elements:o,rows:r}}),yr=Object(vn.createSelector)(hr,e=>e.filter(e=>{let t=e.type;return"placeholder"===t||"card-placeholder"===t}).map(e=>{return e.id})),Er=Object(vn.createSelector)(yr,(e,t)=>t,(e,t)=>e.indexOf(t)),kr=Object(vn.createSelector)(Hn,e=>e.params.isAdaptiveDesign,(e,t)=>[xt,St].includes(e)?"yabro-1":t?"generic":null),wr=(e,t)=>e.feed.items[t].parentId,Cr=Object(vn.createSelector)(wr,(e,t)=>{const n=vr(e.feed),r=wr(e,t),o=n.elements[r].row;return n.rows[o]},e=>fr(e.feed),(e,t,n)=>{const r=t[0].id,o=t[t.length-1].id;if(1===n)return G.CENTER;switch(e){case r:return G.LEFT;case o:return G.RIGHT;default:return G.CENTER}}),xr=(e,t)=>{const n=wr(e,t);return vr(e.feed).elements[n].size},Sr=Object(vn.createSelector)(Kn,e=>e.isExp("zen_lib_rtb")),Or=Object(vn.createSelector)(Kn,e=>e.isExp("ab:site_desktop_adsense:site_desktop_adsense")||e.isExp("ab:opera_ntp_adsense:opera_ntp_adsense")),Rr=()=>!0,Tr=Object(vn.createSelector)(Rr,rr,(e,t)=>e&&"white"===t),Ir=Object(vn.createSelector)(e=>e.feed,e=>fr(e)),Nr=Object(vn.createSelector)(Ir,kr,Or,Rr,(e,t,n,r)=>({columnCount:e,rubberyType:t,isAdsense:n,isMordaDesktop:r})),Pr=(Object(vn.createSelector)(e=>{return e.feed.displayedRowsNumber},e=>{return e.feed.countRowsBeforeBlock},(e,t)=>e===t),function(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})});var Ar=()=>{const e=new Pr;let t,n,r=[],o=!1;const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];r.push(t),o&&i()},i=()=>{r.some(e=>{let r=e[0],o=e[1];return t===r&&n===o})?(Et.off(kt.FEED_CHANGED,s),e.resolve()):r=[]};return Et.on(kt.FEED_CHANGED,s),r=>(o=!0,t=vr(r.feed),n=r.feed.displayedRowsNumber,i(),e.promise)};var Lr=e=>new Promise(t=>{setTimeout(t,e)});function Mr(e,t,n){return{type:n,bulkStat:{bulkParams:e.bulkParams,statEvents:e.statEvents,statEvent:t},payload:{id:e.id}}}const Dr=e=>Object.assign({},e,{broadcastable:!0}),jr=e=>e,Br=(e,t,n)=>{let r=void 0;const o=`${e=e.toUpperCase()}_REQUEST`,s=`${e}_SUCCEED`,i=`${e}_FAILURE`,a={status:"pending",data:void 0};return{action:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return e=>{e({type:o,meta:n});const a=r=t(...n).then(t=>{a===r&&e({type:s,payload:t,meta:n})},()=>{a===r&&e({type:i,meta:n})})}},reducer:function(e,t){switch(void 0===e&&(e=a),t.type){case o:return Object.assign({},e,{status:"pending"});case s:{const r=t.payload;return Object.assign({},e,{status:"success",data:n(r)})}case i:return Object.assign({},e,{status:"error"});default:return e}},request:o,succeed:s,failure:i}},Fr=function(e,t){void 0===t&&(t=1e3);const n=((e,t)=>{let n=null,r=null,o=null;return function(){for(var s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return o=i,Promise.resolve(n).then(()=>(o&&(n=Lr(t),r=e(...o),o=null),r))}})(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t(e(...r))},t);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>n(e,...t)}},Ur=function(e,t,n,r,o){void 0===r&&(r=jr),void 0===o&&(o=1e3);const s=Br(e,t,r),i=s.action,a=Bt(s,["action"]),c=Fr(i,o),l=((e,t)=>(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(n,o)=>{const s=t(o(),...r),i=s.status,a=s.data;return"success"!==i?n(e(...r)):Promise.resolve(a)}}))(c,n);return Object.assign({action:l,forceAction:c},a)},zr=e=>(t,n)=>{const r=Object.keys(e).reduce((t,r)=>(t[r]=function(t){return void 0===t&&(t={}),e[r](Object.assign({},n,t))},t),{});return Object(en.a)(r,t)},Vr="undefined"!=typeof window&&void 0!==window.localStorage;var Hr=Vr?{isAvailable:Vr,getItem(e){try{return window.localStorage.getItem(e)}catch(e){return console.error(e),null}},setItem(e,t){try{return window.localStorage.setItem(e,t),!0}catch(e){return console.error(e),!1}},removeItem(e){try{return window.localStorage.removeItem(e),!0}catch(e){return console.error(e),!1}}}:{isAvailable:!1,getItem:e=>null,setItem:(e,t)=>!1,removeItem:e=>!1};let Wr,$r;"undefined"!=typeof document&&(void 0!==document.hidden?(Wr="visibilityState",$r="visibilitychange"):void 0!==document.mozHidden?(Wr="mozVisibilityState",$r="mozvisibilitychange"):void 0!==document.msHidden?(Wr="msVisibilityState",$r="msvisibilitychange"):void 0!==document.webkitHidden&&(Wr="webkitVisibilityState",$r="webkitvisibilitychange"));const Gr=()=>!Wr||"visible"===document[Wr],qr=e=>{if(!$r)return()=>{};let t=Gr(),n=!1;const r=()=>{if(!n){const n=Gr();t!==n&&(t=n,e(n))}};return document.addEventListener($r,r),()=>{n=!0,document.removeEventListener($r,r)}};var Kr=()=>qe(200).then(()=>new Promise(e=>{if(Boolean(Wr)&&Gr())return void e();let t;const n=()=>{t(),document.removeEventListener("scroll",n),document.removeEventListener("mousemove",n),document.removeEventListener("touchmove",n),e()};t=qr(e=>{e&&n()}),document.addEventListener("scroll",n),document.addEventListener("mousemove",n),document.addEventListener("touchmove",n)}));const Yr=e=>{const t=n.sessionContexts;return t&&t[e]||{}},Qr=(e,t)=>{(n.sessionContexts||(n.sessionContexts={}))[e]=t},Zr=e=>Yr((e=>e.sessionId)(e)),Jr=e=>Yr((e=>e.sessionId)(e)),Xr=function(){var e=o(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=window.ZENKIT_LAUNCH_OPTIONS)||((t=window.ZENKIT_LAUNCH_OPTIONS=new Promise(e=>{n=e})).resolve=n),e.next=4,t;case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();const eo=new class{close(){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr();case 2:return e.abrupt("return",window.ZENKIT.close());case 3:case"end":return e.stop()}},e,this)}))()}requestCookieAuthURL(e,t,n){return o(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Xr();case 2:return r.abrupt("return",window.ZENKIT.requestCookieAuthURL(e,t,n));case 3:case"end":return r.stop()}},r,this)}))()}channelStatusChanged(e,t,n){return o(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Xr();case 2:return r.abrupt("return",window.ZENKIT.channelStatusChanged(e,t,n));case 3:case"end":return r.stop()}},r,this)}))()}navigateBrowser(e){return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xr();case 2:return t.abrupt("return",window.ZENKIT.navigate("BROWSER",e));case 3:case"end":return t.stop()}},t,this)}))()}navigateChannel(e){return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xr();case 2:return t.abrupt("return",window.ZENKIT.navigate("CHANNEL",e));case 3:case"end":return t.stop()}},t,this)}))()}navigateSubscriptions(){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr();case 2:return e.abrupt("return",window.ZENKIT.navigate("SUBSCRIPTIONS"));case 3:case"end":return e.stop()}},e,this)}))()}navigateSettings(){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr();case 2:return e.abrupt("return",window.ZENKIT.navigate("SETTINGS"));case 3:case"end":return e.stop()}},e,this)}))()}navigateHistory(){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr();case 2:return e.abrupt("return",window.ZENKIT.navigate("HISTORY"));case 3:case"end":return e.stop()}},e,this)}))()}navigateEditor(){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr();case 2:return e.abrupt("return",window.ZENKIT.navigate("EDITOR"));case 3:case"end":return e.stop()}},e,this)}))()}navigateEditorPost(e){return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xr();case 2:return t.abrupt("return",window.ZENKIT.navigate("EDITOR_POST",e));case 3:case"end":return t.stop()}},t,this)}))()}navigateNotifications(){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr();case 2:return e.abrupt("return",window.ZENKIT.navigate("NOTIFICATIONS"));case 3:case"end":return e.stop()}},e,this)}))()}navigateProfile(e){return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xr();case 2:return t.abrupt("return",window.ZENKIT.navigate("PROFILE",e));case 3:case"end":return t.stop()}},t,this)}))()}onReady(){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr();case 2:return e.abrupt("return",window.ZENKIT.onReady());case 3:case"end":return e.stop()}},e,this)}))()}onError(){return o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr();case 2:return e.abrupt("return",window.ZENKIT.onError());case 3:case"end":return e.stop()}},e,this)}))()}},to=()=>e=>{e({type:"HIDE_MORE_BUTTON",payload:null})},no=e=>t=>{t({type:"SWITCH_MORE_BUTTON_OFFSET_MODE",payload:{offsetMode:e}})},ro=()=>e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})},oo=e=>{return Dr({type:e?"VIDEO_AUTOPLAY_ON":"VIDEO_AUTOPLAY_OFF",payload:null})},so=e=>(t,n)=>{const r=n(),o=r.sources[e],s=r.params.product,i=Zr(r).zenApi,a=(e=>"undefined"!=typeof document&&window["abr_native"===e?"yandex.mobileZen":"ZENKIT"])(s);a?a.onPageStatusChanged?a.onPageStatusChanged(!0):eo.channelStatusChanged({id:o.id,title:o.title,image:o.logo,link:o.feedLink,exportLink:o.feedApiLink,logoBgColor:o.logoBackgroundColor,channelType:o.type},o.type,o.status):i.invalidateCache()},io=(e,t)=>({type:"MERGE_STATE_BRANCH",payload:{branchName:e,branchState:t}}),ao=e=>io("links",e),co=e=>io("params",e),lo=e=>io("user",e);function uo(e,t){return Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e)}var po=class{constructor(e){const t=e.bulkParams,n=e.statEvents;t&&n||console.warn("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:",t,n),this._params=e}getParams(){return this._params}log(e,t){const n=this._params,r=n.statEvents,o=n.meta;let s=this._params.bulkParams,i=r[e];if(!i)return void console.warn("Invalid `statEvent`: %s. Request not sent.",e);const a=t&&t.global?t.global:{};s=uo(s,Object.assign({},{},a));const c=t&&t.local;c&&(i=uo(i,c)),gt.logBulkEvent({event:i,bulkParams:s,statMeta:o,info:t&&t.info})}};const ho=(e,t)=>Object.keys(t).reduce((e,n)=>e.replace(n,t[n]),e),mo={log:()=>{}},fo=(e,t,n)=>{if(!e||!t)return console.warn(new Error("Invalid bulk stat params. `bulkParams`: %s, `statEvents`:"),e,t),mo;return{log:function(r,o){let s=void 0===o?{}:o,i=s.local,a=void 0===i?{}:i,c=s.global,l=void 0===c?{}:c,u=s.rename,d=void 0===u?{}:u,p=s.info;const h=t[d[r]||r];return h?gt.logBulkEvent({event:ho(h,a),bulkParams:ho(e,l),statMeta:n,info:p}):(console.warn("Invalid `statEvent`: %s. Request not sent.",r),mo)}}},go=Object.keys,_o=Object(vn.createSelectorCreator)(vn.defaultMemoize,(e,t)=>go(e).filter(n=>e[n]===t[n]).length===go(t).length),bo=e=>_o(e=>e,(e,t)=>t,e),vo=e=>{const t=bo((t,n)=>{return{log:function(r,o){return void 0===o&&(o={}),n.log(r,Object.assign({},o,{[e]:Object.assign({},o[e],t)}))}}});return e=>n=>t(e,n)},yo=vo("local"),Eo=(vo("global"),vo("rename"),function(e){void 0===e&&(e="");const t=bo((t,n)=>{return{log:function(t,r){void 0===r&&(r={});const o=r.local||{},s=o.__els__||"";return n.log(t,Object.assign({},r,{local:Object.assign({},o,{__els__:s?`${e}.${s}`:e})}))}}});return n=>t(e,n)}),ko=()=>Object(vn.createSelector)(e=>e.id,(e,t)=>t,e=>e.statParams,e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,(e,t,n,r,o,s)=>{if(t&&n){const r=n[t],o=r.statEvents,i=r.bulkParams;return new po({id:e,statEvents:o,bulkParams:i,meta:{rowIndex:s}})}return r&&o?new po({id:e,statEvents:r,bulkParams:o,meta:{rowIndex:s}}):null}),wo=()=>Object(vn.createSelector)(e=>e.statEvents,e=>e.bulkParams,e=>e.rowIndex,e=>e.source?e.source.statParams:e.statParams,e=>e.source?e.source.statEvents:e.statEvents,e=>e.source?e.source.bulkParams:e.bulkParams,e=>e.place,(e,t,n,r,o,s,i)=>{if(r){const e=r[i];return e?fo(e.bulkParams,e.statEvents,{rowIndex:n}):(console.error(new Error(`place ${i} not found in statParams`)),fo())}return o&&s?fo(s,o,{rowIndex:n}):e&&t?fo(t,e,{rowIndex:n}):fo()}),Co=()=>Object(vn.createSelector)(e=>e.params.bulk.bulk_params,e=>e.params.bulk.stat_events,(e,t)=>fo(e,t)),xo=(Co(),["id","source","type","feedback","complaints","complaintsSendedAt","title","domainTitle","bulkParams","statEvents"]),So=(()=>{const e=[];return(t,n)=>{return(t.feed.items[n]&&t.feed.items[n].customUserFeedbackData||{}).questions||e}})(),Oo=(e,t)=>{return So(e,t).filter(e=>"zoloka_interest_feedback"===e.type)[0]||null},Ro=(e,t)=>{return So(e,t).filter(e=>"extended_dislike_feedback"===e.type)[0]||null},To=st(()=>gt.invalidateCache(),2500),Io=()=>Object(vn.createSelector)(Ro,e=>{if(e){const t=ko(),n=(e.answers||[]).map(e=>{const n=t(e.stats);return Object.assign({},e,{onBlock:()=>{n.log("feedback_block"),To()},onUnblock:()=>{n.log("feedback_cancel_block"),To()}})});return Object.assign({},e,{answers:n})}}),No=e=>()=>Object(vn.createSelector)(rr,Gn,qn,En,(e,t)=>vr(e.feed).elements[t].size,e=>e.params.complaints&&e.params.complaints.reasons,e=>e.params.isMobile,e=>e.sources,e,Zn,...xo.map(e=>(t,n,r)=>void 0!==r?t.feed.items[n].items[r][e]:t.feed.items[n][e]),function(e,t,n,r,o,s,i,a,c,l){for(var u=arguments.length,d=new Array(u>10?u-10:0),p=10;p<u;p++)d[p-10]=arguments[p];const h=d.reduce((e,t,n)=>{return e[xo[n]]=t,e},{}),m=h.feedback,f=h.source,g=!(t||n||r&&"interest"!==r.type||l);return Object.assign({},h,{source:a[f],size:o,theme:e,complaintReasons:s,isMobile:i,dislikeQuestion:c,isEnabled:g,isNegativeFeedback:m&&"liked"!==m})}),Po=["id","feedback","isMittensJumping","bulkParams","statEvents"],Ao=()=>Object(vn.createSelector)(e=>e.params.isMobile,Gn,qn,...Po.map(e=>(t,n)=>t.feed.items[n][e]),function(e,t,n){for(var r=arguments.length,o=new Array(r>3?r-3:0),s=3;s<r;s++)o[s-3]=arguments[s];return o.reduce((e,t,n)=>{return e[Po[n]]=t,e},{isEnabled:!(t||n),size:e?"medium":"small"})}),Lo=["id","type","statEvents","subscribeTriggerEvent","feedback","read"],Mo=Io(),Do=No(Mo),jo=Io,Bo=()=>No(Io())();var Fo=function(e,t,n){var r=this;let o,s;return void 0===t&&(t=250),function(){for(var i=arguments.length,a=new Array(i),c=0;c<i;c++)a[c]=arguments[c];const l=n||r,u=Date.now();clearTimeout(s),o&&u<o+t?s=setTimeout(()=>{o=u,e.apply(l,a)},t):(o=u,e.apply(l,a))}},Uo=n(100);const zo=250;let Vo,Ho,Wo=[],$o=[],Go=[],qo=[],Ko=[],Yo=!1,Qo=0,Zo=!1;const Jo=n.n(Uo).a.hasSupport;let Xo;function es(e,t){let n=e.length-1;for(;n>=0;n--)t(e[n])}function ts(e,t){const n=[];let r;for(let o=0,s=e.length;o!==s;o++)t(r=e[o])&&n.push(r);return n}let ns=0;function rs(){return`__scrollEv${++ns}__`}const os={scroll:void 0,scrollBottomEdge:void 0,scrolling:!1,lastScrollChangeTime:void 0,scrollStartPosition:void 0,scrollEndPosition:void 0};let ss=ws(os),is={},as=!1;const cs=[];function ls(){const e=ws(ss);ss=Es(e)}const us=(e,t,n)=>{$o.push({scroll:e.scroll,name:e.name||rs(),bottomEdge:e.bottomEdge,data:n,callback:t,_state:e.defaultState||0}),e.precise&&function(e,t){cs.push([e,t])}(e.scroll-700,e.scroll+700)},ds=(e,t,n)=>{Go.push({delta:e.delta,name:e.name||rs(),direction:e.direction>0?1:-1,anyDirection:e.anyDirection,endTrigger:e.endTrigger,once:e.once,onceDebounce:e.onceDebounce,data:n,callback:t})},ps=()=>{Yo=!0},hs=()=>{ls(),Yo=!1};const ms=()=>{Zo?window.addEventListener("message",e=>{let t=e.data;if("scroll"===t.type){const e=t.scrollTop,n=t.winHeight;Vo=e,Ho=n,gs()}}):(Jo?document.addEventListener("scroll",gs,{passive:!0}):requestAnimationFrame(bs),((e,t,n)=>{const r=e.name||rs();qo.push({name:r,timeout:e.timeout||0,data:n,callback:t,_lastTriggerTime:0})})({},e=>{!function(e){let t=!1;es(cs,n=>{let r=n[0],o=n[1];e>=r&&e<=o&&(t=!0)}),as=t}(e.scroll)}))};function fs(e,t,n){return n.fromBottom?e<=n.scroll||!!(n.bottomEdge&&t<=n.scroll):e>=n.scroll||!!(n.bottomEdge&&t>=n.scroll)}function gs(){bs(Date.now())}function _s(e,t){Jo&&(t||(clearTimeout(Xo),Xo=setTimeout(()=>bs(Date.now(),!0),zo))),Qo=e;const n=ws(ss),r=ss=Es(n,t),o=r.scroll,s=r.scrollBottomEdge;!0===ss.scrolling&&n.scrolling,(!0===ss.scrolling||t)&&function(e){vs(e,!1),ys(e,!1)}(ss),!1===ss.scrolling&&!0===n.scrolling&&function(e){vs(e,!0),ys(e,!0),es(Ko,e=>{clearTimeout(e._timeout),e.callback()}),Ko=[]}(ss),function(e,t){es(Wo,n=>{const r=fs(e,t,n);if(r){if(n.onceDebounce&&n._triggeredDebounce)return;ks(n.name,{data:n.data},n.callback),n._triggered=!0,n._triggeredDebounce=!0}else n.onceDebounce&&n._triggeredDebounce&&(n._triggeredDebounce=!1)}),Wo=ts(Wo,e=>!(e._triggered&&e.once))}(o,s),function(e,t){es($o,n=>{0===n._state&&fs(e,t,n)&&(ks(n.name,{state:1,data:n.data},n.callback),Cs(n.name)||(n._state=1)),1!==n._state||fs(e,t,n)||(ks(n.name,{state:0,data:n.data},n.callback),Cs(n.name)||(n._state=0))})}(o,s),Jo||requestAnimationFrame(bs)}const bs=as?_s:Fo(_s,30);function vs(e,t){const n=ts(Go,e=>!!e.endTrigger===t),r=(t?e.scrollEndPosition:e.scroll)-e.scrollStartPosition,o=Math.abs(r),s=r>0?1:-1;es(n,e=>{e.onceDebounce&&is[e.name]||o>=e.delta&&(e.direction===s||e.anyDirection)&&(ks(e.name,{data:e.data},e.callback),e._triggered=!0,is[e.name]=!0)}),Go=ts(Go,e=>!(e._triggered&&e.once))}function ys(e,t){const n=Date.now();es(qo,r=>{(n-r._lastTriggerTime>=r.timeout||t)&&(ks(r.name,{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,data:r.data},r.callback),r._lastTriggerTime=n)})}function Es(e,t){const n=ws(os),r=Zo?Vo:window.pageYOffset,o=Date.now();return n.scroll=r,n.scrollBottomEdge=r+(Zo?Ho:window.innerHeight),n.scroll!==e.scroll?n.lastScrollChangeTime=o:n.lastScrollChangeTime=e.lastScrollChangeTime,n.direction=n.scroll>=e.scroll?1:-1,o-n.lastScrollChangeTime>zo||t||n.direction!==e.direction?n.scrolling=!1:n.scrolling=!0,!0===n.scrolling&&!1===e.scrolling&&(n.scrollStartPosition=r,is={}),!0===n.scrolling&&void 0!==e.scrollStartPosition&&void 0===n.scrollStartPosition&&(n.scrollStartPosition=e.scrollStartPosition),!1===n.scrolling&&!0===e.scrolling&&(n.scrollStartPosition=e.scrollStartPosition,n.scrollEndPosition=r),n}function ks(e,t,n){Cs()||n&&n(t)}function ws(e){return{scroll:e.scroll,scrollBottomEdge:e.scrollBottomEdge,scrolling:e.scrolling,lastScrollChangeTime:e.lastScrollChangeTime,scrollStartPosition:e.scrollStartPosition,scrollEndPosition:e.scrollEndPosition,direction:e.direction}}function Cs(){return Yo}const xs=200,Ss=(e,t,n,r)=>(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t;var Os=new class{_loop(e){this.timeStart||(this.timeStart=e),this.timeElapsed=e-this.timeStart,this.next=Ss(this.timeElapsed,this.start,this.distance,xs),window.scrollTo(0,this.next),this.timeElapsed<xs?requestAnimationFrame(e=>{this._loop(e)}):this._end()}scrollTo(e){let t=void 0===e?{}:e,n=t.top,r=void 0===n?0:n,o=t.animate,s=void 0===o||o;return new Promise(e=>{const t=Math.max(0,r),n=()=>{const n={scroll:t,scrollBottomEdge:t+window.innerHeight};window.scrollTo(0,this.start+this.distance),this.timeStart=0,this.enableScrollEvents(),this.scrollPosition=n,e(t)};this._end=n,this.start=window.pageYOffset,this.distance=t-this.start,this.disableScrollEvents(),s?requestAnimationFrame(e=>{this._loop(e)}):(window.scrollTo(0,t),n())})}disableScrollEvents(){ps()}enableScrollEvents(){setTimeout(()=>hs(),500)}},Rs=e=>{if(!e.getClientRects().length)return 0;const t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset};var Ts=function(e){return void 0===e&&(e=!1),ps(),(()=>{const e=document.querySelector(".zen-app");return Promise.resolve(Rs(e))})().then(t=>Os.scrollTo({top:t+2,animate:e})).then(()=>qe(1e3)).then(()=>hs())};const Is=(e,t,n)=>({type:"RECEIVE_ITEMS",payload:{items:e,insertOnTop:t,shouldRefreshFeed:n}}),Ns=bn(e=>e.getMore()),Ps=function(e){let t=void 0===e?{}:e,n=t.insertOnTop,r=void 0!==n&&n,o=t.shouldRefreshFeed,s=void 0!==o&&o,i=t.onAfterPackInsert;return(e,t)=>{const n=t(),o=Zr(n),a=o.zenApi,c=o.ttlController;return Ns.startSession({args:[a],timeouts:[3e4,18e4],onTryComplete(n){const o=()=>{if(!n.isLastSession()){if(n.isRejected)throw n.error;return}if(n.isRejected){if(!(0!==n.tryNumber)){const n=t();$n(n)||e((e,t)=>{const n=t().iface,r=n.isErrorMessageVisible,o=n.isNotifiersDisabled;r||o||(e(e=>{e({type:"HIDE_MORE_BUTTON",payload:null})}),e({type:"SHOW_ERROR_MESSAGE",payload:null}),qe(5e3).then(()=>e(e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})})))})}throw c&&c.apiResponseReceiveFailed(De.MORE,n.error),console.warn(n.error.message),n.error}const o=i?Ar():null,l=n.value.apiResponse;if(l&&l.experimentsData&&(l.experimentsData["ab:extend_feedback:extend_feedback_debug_client"]&&l.experimentsData["ab:extend_feedback:extend_feedback_debug_client"].exp||l.experimentsData["ab:extend_feedback:extend_feedback_debug_client_2"]&&l.experimentsData["ab:extend_feedback:extend_feedback_debug_client_2"].exp)&&l&&Array.isArray(l.items)&&l.items.forEach(e=>{e&&e.customUserFeedbackData&&(e.customUserFeedbackData=null)}),c&&c.apiResponseReceived(De.MORE,l),e(ao({[De.MORE]:l.more.link||null})),e(Is(l.items,r,s)),l.id&&a.packUsed(l.id),o)return o(t())};let l;try{l=o()}catch(e){throw i&&i(!1),e}i&&(l?l.then(()=>i(!0)):i(!1))}}).retriesResult.catch(e=>{console.warn(`GetMore retries failed: '${e.message}'.`)})}},As=(e,t)=>(n,r)=>{const o=r().feed,s=vr(o),i=s.rows,a=s.elements[e].row,c=i[a];if(js(i[a+1],q)){const e=i[a+1][0].id,t=o.items[e];n(Ls(t.parentId))}n({type:"INSERT_ITEM_AFTER",payload:{afterId:c[c.length-1].id,item:t}}),n({type:"LINK_CHILD_ITEM",payload:{itemId:e,childItemId:t.id}})},Ls=e=>(t,n)=>{const r=n().feed.items[e];r.childItemId&&(t({type:"UNLINK_CHILD_ITEM",payload:{itemId:e}}),t({type:"REMOVE_ITEM",payload:{itemId:r.childItemId}}))},Ms=e=>({type:"SET_DISPLAYED_ROWS_NUMBER",payload:{displayedRowsNumber:e}}),Ds=e=>(t,n)=>{const r=n(),o=wr(r,e);t({type:"ANSWER_USER_QUESTION",payload:{id:e,parentId:o}})};function js(e,t){return!!e&&e.some(e=>"string"==typeof t?e.type===t:t.has(e.type))}const Bs=[],Fs=e=>(function(){var t=o(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"INIT_COMMENTS",payload:e});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}})(),Us=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};let zs;!function(e){e.PENDING="PENDING",e.SUCCESS="SUCCESS",e.FAILURE="FAILURE"}(zs||(zs={}));const Vs=e=>e||"DEFAULT_ID",Hs=(e,t)=>e({id:Vs(t)},{type:"@@asyncScope/INIT"}),Ws=e=>{let t=e.actionType,n=e.dataReducer;const r=(e=>{let t,n;return function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t&&Us(t,o)?n:(t=o,n=e(...o))}})((e,t,n)=>({id:e,status:t,data:n})),o=(e=>(function(t,n,r){if(void 0===t&&(t=zs.PENDING),r!==(n.payload&&n.payload.id))return t;switch(n.type){case e:return n.payload.status;default:return t}}))(t);return(e,t)=>{const s=function(e){return void 0===e&&(e="DEFAULT_ID"),e}(e&&e.id);return r(s,o(e&&e.status,t,s),n(e&&e.data,t,s))}},$s=e=>{let t=e.reducer,n=e.selector;return function(e,r){const o=Vs(r);for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];return n(e,o,...i)||Hs(t,o)}},Gs=e=>{let t=e.type,n=e.id;return{type:t,payload:{id:void 0===n?"DEFAULT_ID":n,timestamp:Date.now(),status:zs.PENDING}}},qs=e=>{let t=e.type,n=e.value,r=e.id;return{type:t,payload:{id:void 0===r?"DEFAULT_ID":r,timestamp:Date.now(),status:zs.SUCCESS,value:n}}},Ks=e=>{let t=e.type,n=e.id;return{type:t,payload:{id:void 0===n?"DEFAULT_ID":n,timestamp:Date.now(),status:zs.FAILURE}}},Ys=e=>{let t=e.type,n=e.request,r=e.selector;const s=e=>{let s=e.isForced,i=e.isSilent,a=void 0!==i&&i;return function(e){for(var i=arguments.length,c=new Array(i>1?i-1:0),l=1;l<i;l++)c[l-1]=arguments[l];return function(){var i=o(regeneratorRuntime.mark(function o(i,l){var u,d,p;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(u=Vs(e),d=l(),p=r(d,u,...c),s||!p||p.status!==zs.SUCCESS){o.next=5;break}return o.abrupt("return",p.data);case 5:return!a&&i(Gs({type:t,id:u})),o.abrupt("return",n(u,...c).then(e=>{i(qs({type:t,id:u,value:e}));const n=l(),o=r(n,u,...c);if(o)return o.data},e=>{throw!a&&i(Ks({type:t,id:u})),e}));case 7:case"end":return o.stop()}},o,this)}));return function(e,t){return i.apply(this,arguments)}}()}};return[s({isForced:!1}),s({isForced:!0}),s({isForced:!0,isSilent:!0})]},Qs=e=>{let t=null,n=null,r=!1;return function(){for(var o=arguments.length,s=new Array(o),i=0;i<o;i++)s[i]=arguments[i];return!n||r||t&&!Us(t,s)?(t=s,r=!1,n=e(...s).then(e=>(r=!0,e),e=>{throw r=!0,e})):n}};var Zs=n(101).a,Js=n(59);const Xs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>t.reduce((e,t)=>t(e,n),e)};var ei=Xs;const ti=Ws({actionType:"USER_PROFILE_REQUEST",dataReducer:function(e,t,n){void 0===e&&(e=null);const r=t.payload&&t.payload.id,o=t.__data__&&t.__data__.selfUserId;if(null!==e)switch(t.type){case"SOURCE_SUBSCRIBE":{const t=Object.assign({},e);return n===o?t.subscriptionCount++:n===r&&t.followerCount++,t}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const t=Object.assign({},e);return n===o?t.subscriptionCount--:n===r&&t.followerCount--,t}}if(n!==r)return e;switch(t.type){case"USER_PROFILE_REQUEST":if(t.payload.status===zs.SUCCESS){const e=Object.assign({},t.payload.value,{updateTimestamp:t.payload.timestamp});return delete e.source,e}return e;case"USER_PROFILE_ONBOARDING_COMPLETE":if(null!==e)return Object.assign({},e,{onboardingRequired:!1,privacy:{hideSubscriptions:!1,hideActivity:!1,hideInterests:!1}});case"USER_PROFILE_UPDATE":if(null!==e){const n=t.payload.params,r=n.about,o=void 0===r?e.about:r,s=n.hideSubscriptions,i=void 0===s?e.privacy.hideSubscriptions:s,a=n.hideActivity,c=void 0===a?e.privacy.hideActivity:a,l=n.hideInterests,u=void 0===l?e.privacy.hideInterests:l;return Object.assign({},e,{about:o,privacy:Object.assign({},e.privacy,{hideSubscriptions:i,hideActivity:c,hideInterests:u})})}case"USER_PROFILE_RESTORE":return t.payload.profile;default:return e}}}),ni=e=>Hs(ti,e),ri=Ws({actionType:fn,dataReducer:function(e,t,n){switch(void 0===e&&(e=[]),t.type){case fn:{if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==zs.SUCCESS)return e;const r=t.payload.value;return r?r.filter(e=>"subscribed"===e.status).map(e=>e.id):e}}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case"SOURCE_SUBSCRIBE":{const n=t.payload.id;return-1===e.indexOf(n)?[n,...e]:e}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const n=t.payload.id,r=e.indexOf(n);return-1!==r?[...e.slice(0,r),...e.slice(r+1)]:e}}return e}}),oi=e=>Hs(ri,e),si=Ws({actionType:gn,dataReducer:function(e,t,n){switch(void 0===e&&(e=[]),t.type){case gn:{if(n!==(t.payload&&t.payload.id))return e;if(t.payload.status!==zs.SUCCESS)return e;const r=t.payload.value;return r?r.filter(e=>"blocked"===e.status).map(e=>e.id):e}}if(n===(t.__data__&&t.__data__.selfUserId))switch(t.type){case"SOURCE_BLOCK":{const n=t.payload.id;return-1===e.indexOf(n)?[n,...e]:e}case"SOURCE_SUBSCRIBE":case"SOURCE_UNSUBSCRIBE":case"SOURCE_UNBLOCK":{const n=t.payload.id,r=e.indexOf(n);return-1!==r?[...e.slice(0,r),...e.slice(r+1)]:e}}return e}}),ii=e=>Hs(si,e),ai=Ws({actionType:"USER_FOLLOWERS_REQUEST",dataReducer:function(e,t,n){if(void 0===e&&(e=[]),n===(t.payload&&t.payload.id))switch(t.type){case"USER_FOLLOWERS_REQUEST":{if(t.payload.status!==zs.SUCCESS)return e;const n=t.payload.value;return n?n.map(e=>e.id):e}case"SOURCE_SUBSCRIBE":{const n=t.__data__&&t.__data__.selfUserId;return-1===e.indexOf(n)?[n,...e]:e}case"SOURCE_UNSUBSCRIBE":case"SOURCE_BLOCK":case"SOURCE_UNBLOCK":{const n=t.__data__&&t.__data__.selfUserId,r=e.indexOf(n);return-1!==r?[...e.slice(0,r),...e.slice(r+1)]:e}}return e}}),ci=e=>Hs(ai,e),li=e=>({profile:ni(e),subscriptions:oi(e),blocked:ii(e),followers:ci(e)}),ui=Object(Js.a)({profile:ti,subscriptions:ri,blocked:si,followers:ai}),di=(Xs(function(e,t){switch(void 0===e&&(e={}),t.type){case"ADD_USER":{const n=t.payload.userId;return e[n]?e:Object.assign({},e,{[n]:li(n)})}default:return e}},function(e,t){void 0===e&&(e={});const n={};return Object.keys(e).forEach(r=>{const o=e[r],s=ui(o,t);n[r]=s}),n}),$s({reducer:ri,selector:(e,t)=>mi(e,t).subscriptions})),pi=$s({reducer:si,selector:(e,t)=>mi(e,t).blocked}),hi=$s({reducer:ai,selector:(e,t)=>mi(e,t).followers}),mi=(e,t)=>e.users[t]||li(t),fi=(Object(vn.createSelector)(e=>e.sources,e=>Object.keys(e).reduce((t,n)=>{return e[n].isUnsubscribedInCurrentSession&&t.push(n),t},[])),Object(vn.createSelector)(e=>e.sources,e=>Object.keys(e).reduce((t,n)=>{return e[n].isUnblockedInCurrentSession&&t.push(n),t},[])),Object(vn.createSelector)(e=>e.auth,e=>e&&e.info&&e.info.uid||"SELF_USER_ID_FALLBACK")),gi=(Object(vn.createSelector)(e=>e.router.location,fi,(e,t)=>{if(!e)return t;const n=Zs(e.pathname,{path:"/user/:uid(\\d*)"});return n&&n.params.uid||t}),$s({reducer:ti,selector:(e,t)=>mi(e,t).profile}));var _i=n(215);const bi=e=>{let t=e.context,n=e.token,r=e.documentId;return(e,o)=>{const s=o(),i=Zr(s).zenApi;return e({type:"USER_PROFILE_ONBOARDING_COMPLETE",payload:{id:fi(s)}}),i.completeProfileOnboarding({context:t,token:n,documentId:r})}};function vi(e){return"string"==typeof e&&e.length>0}const yi=e=>({type:"ADD_USER",payload:{userId:e}}),Ei=e=>(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return n=>(n(yi(t)),n(e(t,...r)))}),ki=e=>{let t,n=!0;return function(){return n&&(n=!1,t=e(...arguments)),t}},wi=e=>"SELF_USER_ID_FALLBACK"===e?"":e,Ci=Qs(e=>gt.getPreferences(wi(e))),xi=Qs(e=>gt.getSocialProfile(wi(e))),Si=Qs(e=>gt.getUserSubscribers(wi(e))),Oi=e=>t=>(function(){var n=o(regeneratorRuntime.mark(function n(r){var o,s,i,a,c,l,u;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=ki(Ci),s=Ys({type:fn,request:o,selector:di}).map(Ei),i=s[0],a=s[1],c=Ys({type:gn,request:o,selector:pi}).map(Ei),l=c[0],u=c[1],!e){n.next=8;break}return n.next=6,Promise.all([r(a(t)),r(u(t))]);case 6:n.next=10;break;case 8:return n.next=10,Promise.all([r(i(t)),r(l(t))]);case 10:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}})(),Ri=Oi(!0),Ti=(Oi(!0),Ys({type:"USER_PROFILE_REQUEST",request:xi,selector:gi}).map(Ei).map(e=>(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return function(){var n=o(regeneratorRuntime.mark(function n(o,s){var i,a,c,l;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=s(),a=fi(i),n.next=4,Promise.all([o(e(t,...r)),o(Ri(a))]);case 4:return c=n.sent,l=c[0],n.abrupt("return",l);case 7:case"end":return n.stop()}},n,this)}));return function(e,t){return n.apply(this,arguments)}}()})).map(e=>(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(){var t=o(regeneratorRuntime.mark(function t(r,o){var s,i,l,u,d,p,h,m;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(s=o(),i=fi(s),l=s.router.location,u=a(l.search),d=u.onboardingToken,p=u.onboardingContext,h=u.onboardingDocumentId,m=Bt(u,["onboardingToken","onboardingContext","onboardingDocumentId"]),!vi(d)||!vi(p)){t.next=15;break}return t.prev=5,t.next=8,r(bi({context:p,token:d,documentId:h}));case 8:r(Object(_i.a)(Object.assign({},l,{search:c(m)}))),t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(5),r(Ks({type:"USER_PROFILE_REQUEST",id:i})),t.t0;case 15:return t.abrupt("return",r(e(...n)));case 16:case"end":return t.stop()}},t,this,[[5,11]])}));return function(e,n){return t.apply(this,arguments)}}()}))),Ii=(Ti[0],Ti[1],Ti[2],Ys({type:"USER_FOLLOWERS_REQUEST",request:Si,selector:hi}).map(Ei)),Ni=(Ii[0],Ii[1],{links:ao,params:co,shared:e=>io("shared",e),context:e=>io("context",e),auth:e=>io("auth",e),user:lo}),Pi=(e,t)=>{const n=I.get(e,"screens.items");if(!n)return null;const r=n.filter(e=>{return e.type===t});return 1!==r.length?null:r[0].source},Ai=e=>(t,n)=>{const r=n(),o=Zr(r),s=o.zenApi,i=o.ttlController;if(e&&e.experimentsData&&(e.experimentsData["ab:extend_feedback:extend_feedback_debug_client"]&&e.experimentsData["ab:extend_feedback:extend_feedback_debug_client"].exp||e.experimentsData["ab:extend_feedback:extend_feedback_debug_client_2"]&&e.experimentsData["ab:extend_feedback:extend_feedback_debug_client_2"].exp)&&e&&Array.isArray(e.items)&&e.items.forEach(e=>{e&&e.customUserFeedbackData&&(e.customUserFeedbackData=null)}),i&&i.apiResponseReceived(De.EXPORT,e),t({type:"CLEAR_FEED"}),e.items){t((e=>t=>{t((e=>({type:"SET_GRID_TYPE",payload:{gridType:e}}))(e)),t(Ms(dr(e,"initialDisplayedRowsNumber")))})(I.get(e,"grid_type.name"))),t(Is(e.items))}if(e.channel){t((e=>({type:"SOURCE_MERGE",payload:e}))(ee(e.channel)))}e.commentsDoc&&t((e=>({type:"RECEIVE_COMMENTS_DOC",payload:{doc:e}}))(e.commentsDoc)),t((e=>{const t={[De.ONBOARDING]:I.get(e,"onboarding.link")||null,[De.MORE]:I.get(e,"more.link")||null,[De.BULK]:I.get(e,"bulk.link")||null,[De.CLIENT_LOGS]:I.get(e,"client_logs.link")||null,[De.SUBS]:Pi(e,"subs")||Pi(e,"switchable_subs"),[De.PROFILE]:Pi(e,"profile"),[De.CATEGORY]:Pi(e,"category"),[De.CATEGORIES]:Pi(e,"categories"),[De.SUGGEST]:Pi(e,"suggest"),[De.BLOCKED]:Pi(e,"blocked"),[De.PREFERENCES]:Pi(e,"preferences"),[De.SUBSCRIBERS]:Pi(e,"subscribers"),[De.BLOCKED_SUGGEST]:Pi(e,"blocked_suggest"),[De.VIDEO_RECOMMEND]:Pi(e,"video_recommend"),[De.COUNTRY_LANG]:Pi(e,"language"),[De.COMMENTS_COUNTER]:Pi(e,"comments_counter"),[De.SEND_APP_LINK_SMS]:Pi(e,"send_app_link_sms"),[De.SOCIAL_PROFILE]:Pi(e,"social_profile"),[De.SOCIAL_ACTIVITY_FEED]:Pi(e,"social_activity_feed"),[De.SOCIAL_PROFILE_EDIT]:Pi(e,"social_profile_edit"),[De.SOCIAL_INTERESTS_FEEDBACK]:Pi(e,"social_interests_feedback"),[De.PROFILE_ONBOARDING_SHOWN]:Pi(e,"profile_onboarding_shown"),[De.PROFILE_COMPLETE_ONBOARDING]:Pi(e,"profile_complete_onboarding")};return ao(t)})(e)),t((e=>{const t={banner:"bannerStats",experiments_data:"experimentsData",client_definition:"clientDefinition",ice_start:"isIceStart",complaints:"complaints",bulk:"bulk"},n=Object.keys(t).reduce((n,r)=>(n[t[r]]=e[r],n),{});return co(n)})(e)),t((e=>io("request",e))({rid:I.get(e,"rid")})),t({type:"APPLY_EXPORT_DATA",payload:{exportData:e,currentTime:Date.now()}}),e.id&&s.packUsed(e.id)},Li=e=>(t,n)=>{const r=e.exportData,o=e.isExportDataParsed,s=void 0===o||o,i=e.initialDisplayedRowsNumber,a=e.params,c=e.comments;if(Object.keys(Ni).forEach(n=>{const r=e[n];if(r){t((0,Ni[n])(r))}}),t(yi(fi(n()))),r){const e=s?r:Pe(r);t(Ai(e))}c&&t(Fs(c)),i&&t(Ms(i));const l=a.isChildPage;l&&t((e=>({type:"SET_IS_CHILD_WINDOW",payload:{isChildWindow:e}}))(l)),t((e,t)=>{const n=t(),r=n.feed,o=n.shared.scrollToID;if(!o)return;const s=n.feed.displayedRowsNumber,i=vr(r).rows.findIndex(e=>e.some(e=>e.id===o));e(Ms(i+s))})};var Mi=e=>t=>n=>{const r=I.get(n,"payload.id"),o=e.getState(),s=((e,t)=>{const n={};if(t){const r=vr(e.feed).elements;n.rowIndex=r&&r[t]&&r[t].row}return n})(o,r);if(n.statEvent){const e=Jr(n).zenApi,t=n.statEvent,i=o.feed.items[r],a=i.statEvents[t],c=i.bulkParams;e.logBulkEvent({event:a,bulkParams:c,statMeta:s})}if(n.bulkStat){const e=Jr(n).zenApi,t=n.bulkStat,r=t.statEvents,o=t.statEvent,i=t.bulkParams,a=r[o];e.logBulkEvent({event:a,bulkParams:i,statMeta:s})}return t(n)};const Di=Math.round(1e8*Math.random()),ji="BROADCAST_ACTION";var Bi=e=>e=>t=>{if(t.broadcastable){const e=Object.assign({},t);delete e.statEvent,delete e.bulkStat,delete e.broadcastable,e.tabId=Di,Hr.setItem(ji,JSON.stringify(e))}return e(t)};const Fi={SOURCE_BLOCK:"blocked",SOURCE_UNBLOCK:"unblocked",SOURCE_SUBSCRIBE:"subscribed",SOURCE_UNSUBSCRIBE:"unsubscribed"};var Ui=()=>e=>t=>{const n=t.type,r=t.payload;if(Fi[n]&&r){const e=r.id;_t.emit(bt.SOURCE_CHANGE,{id:e,type:Fi[n]})}return e(t)},zi=n(33),Vi=n(57),Hi=n(99),Wi=n.n(Hi);const $i=e=>(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return t=>(function(){let r=[],o=r,s=0;return Object(zi.a)(Object(Vi.a)(()=>e=>t=>{const n="function"==typeof t;let i;n&&s++;try{i=e(t)}finally{n&&s--}if(0===s){const e=r=o;for(let t=0;t<e.length;t++)e[t]()}return i},Wi.a.withExtraArgument(e),...n),e=>(function(){const t=e(...arguments),n=()=>{o===r&&(o=r.slice())};return Object.assign({},t,{subscribe:e=>{if("function"!=typeof e)throw new Error("Expected the listener to be a function.");let t=!0;return n(),o.push(e),function(){if(!t)return;t=!1,n();const r=o.indexOf(e);o.splice(r,1)}}})}))(t)(...arguments)})}),Gi=$i();Gi.withExtraArgument=$i;n(130);const qi=Object.freeze([e=>t=>n=>{const r=e.getState().sessionId;return t(Object.assign({},n,{sessionId:r}))},e=>t=>n=>{const r=e.getState();return t(Object.assign({},n,{__data__:{selfUserId:fi(r)}}))},Mi,Bi,Ui]),Ki=(e,t)=>{return Gi.withExtraArgument(t)(...e)},Yi=e=>({type:"SET_SESSION_ID",payload:e}),Qi=()=>{return`${Date.now().toString(36).slice(0,16)}_${Math.random().toString(36).slice(2,18)}`};class Zi{setHandler(){}setContext(){}error(){}warn(){}log(){}}const Ji=(e,t)=>{t.zenLogger?Qr(e,t):Qr(e,Object.assign({},t,{zenLogger:new Zi}))},Xi=e=>{let t=e.sessionId,n=void 0===t?Qi():t,r=e.settings,o=e.App,s=e.reducer,i=e.middlewares,a=void 0===i?[]:i,c=e.sessionContext,l=void 0===c?{}:c,u=e.nativeZenApiMethods,d=void 0===u?{}:u,p=e.onBeforeInit;const h=Object(Tt.b)(s,Ki(a));return p&&p(),Ji(n,l),h.dispatch(Yi(n)),h.dispatch(Li(r)),{app:Rt.a.createElement(Mt,{store:h},Rt.a.createElement(o,{nativeZenApiMethods:d})),store:h}};var ea=(e,t)=>{const n={};if(e.countryCode&&(n.countryCode=e.countryCode),e.theme){const r=t.getState().params.zenFeatures;n.zenFeatures=Object.assign({},r,{color_theme:e.theme})}Object.keys(n).length>0&&t.dispatch(co(n)),e.userInfo&&t.dispatch(lo(e.userInfo))},ta=n(11),na=n.n(ta);var ra=function(e,t,n){void 0===n&&(n=!1);const r=()=>{_t.emit(bt.FIRST_PAINT)};let o;o=e,n?na.a.hydrate(o,t,r):na.a.render(o,t,r)};const oa=Object(vn.createSelector)(e=>e.params.host,e=>e.params.clid,e=>e.params.countryCode,e=>e.params.zenFeatures,e=>e.params.clientExperiments,e=>e.links,e=>e.user,(e,t,n,r,o,s,i)=>({host:e,clid:t,countryCode:n,zenFeatures:r,clientExperiments:o,links:s,userInfo:i}));var sa=(e,t)=>{let n;const r=()=>{const r=t.getState(),o=oa(r);void 0!==n&&n===o||(n=o,e.configure(e=>Object.assign({},e,o)))};return r(),t.subscribe(r)};n(341);const ia={};for(let e=65;e<91;e++){const t=String.fromCharCode(e);ia[t]=`-${t.toLowerCase()}`}const aa=e=>(t,n)=>{const r="string"==typeof t?[t,n]:[null,t],o=r[0],s=r[1];let i=e;return o&&(i+=`__${o}`),s&&Object.keys(s).forEach(e=>{const t=s[e];if(t){const n=(e=>{const t=e.length;let n="";for(let r=0;r<t;r++){const t=e[r];n+=ia[t]||t}return n})(e);i+=!0===t?` _${n}`:` _${n}_${t}`}}),i},ca=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>e&&"string"==typeof e).join(" ")};aa.mix=ca;var la=aa;n(339),n(338),n(337);var ua=(e,t)=>{const n=Object.keys(t),r=Object.assign({},e);for(let o=0;o<n.length;o++){const s=n[o],i=t[s],a=e[s];switch(s){case"className":r[s]=ca(i,a);break;case"style":r[s]=Object.assign({},a,i);break;default:"on"===s.slice(0,"on".length)&&(r[s]=(e=>{"function"==typeof i&&i(e),"function"==typeof a&&a(e)}))}}return r},da=n(98);const pa=e=>la(`${da["lib-prefix"]}-${e}`),ha=la.mix;pa.mix=ha;var ma=pa;n(336);const fa=ma("spinner"),ga=100,_a=16,ba=ga/2,va=2e3,ya=2*Math.PI*(ba-_a/2),Ea=[.8,.2],ka=.8*(e=>2*Math.PI*e)(ba-_a/2),wa=e=>-.5*(Math.cos(Math.PI*e)-1);class Ca extends Rt.a.Component{constructor(){var e;return e=super(...arguments),this.animateDashOffsetFallback=(()=>{const e=this._circleRef;e&&function e(t,n){const r=performance.now();requestAnimationFrame(function o(s){let i=s-r;i>n&&(i=n),t(i),i<n?requestAnimationFrame(o):requestAnimationFrame(()=>e(t,n))})}(t=>{const n=va/Ea.length,r=t%n,o=Math.floor(t/n),s=(o-1+Ea.length)%Ea.length,i=Ea[o]-Ea[s];e.style.strokeDashoffset=ya*(Ea[s]+i*wa(r/n))},va)}),e}componentDidMount(){(document.documentMode||/Edge/.test(navigator.userAgent))&&this.animateDashOffsetFallback()}render(){const e=this.props,t=e.size,n=Bt(e,["size"]),r=`0 0 ${ga} ${ga}`,o=(ga-_a)/2,s={width:t,height:t},i=ua(n,{className:fa(),style:s}),a={strokeWidth:_a};return Rt.a.createElement("svg",jt({},i,{viewBox:r}),Rt.a.createElement("circle",{ref:e=>this._circleRef=e,style:a,className:fa("circle"),strokeDashoffset:ka,cx:"50",cy:"50",r:o}))}}Ca.defaultProps={size:20,className:""};class xa extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={value:this._getEndValue(),duration:null,withTransition:!1},this._startTime=null,this._containerElem=null,this._containerRef=(e=>{const t=this._containerElem;e?e.addEventListener("transitionend",this._onTransitionEnd):t&&t.removeEventListener("transitionend",this._onTransitionEnd),this._containerElem=e}),this._onTransitionEnd=(e=>{this._isTransitionEvent(e)&&this._endTransition({withEndHandlers:!0})}),e}_isTransitionEvent(e){return e.target===this._containerElem&&"opacity"===e.propertyName}_getRemainingTime(){const e=this.state.duration;return"number"==typeof e&&"number"==typeof this._startTime?Math.max(e-(Date.now()-this._startTime),0):0}_getEndValue(){const e=this.props,t=e.type,n=e.minOpacity,r=e.maxOpacity;switch(t){case"in":return r;case"out":return n}}_getContainerStyle(){const e=this.props,t=e.timingFunction,n=e.delay,r=this.state,o=r.value,s=r.duration,i=r.withTransition,a={};return null!==o&&(a.opacity=o),i&&(a.transition=`${s}ms opacity ${t} ${n}ms`),a}_forceContainerReflow(){this._containerElem.offsetHeight}_endTransition(e){let t=e.withEndHandlers;t&&this.props.onBeforeEnd(),this._startTime=null,this.setState({value:this._getEndValue(),duration:null,withTransition:!1},()=>{t&&this.props.onAfterEnd(),this.props.onComplete()})}_startTransition(){const e=this.props,t=e.getDuration,n=e.onBeforeStart,r=parseFloat(getComputedStyle(this._containerElem).opacity),o=this._getEndValue(),s=this._getRemainingTime(),i=o-r;if(0===i)return void this._endTransition({withEndHandlers:!1});const a=t(s,i);0!==a?(n(),this.setState({value:r,duration:a,withTransition:!0},()=>{this._forceContainerReflow(),this.setState({value:o},()=>{this._startTime=Date.now(),this.props.onAfterStart()})})):this._endTransition({withEndHandlers:!1})}componentDidUpdate(e){this.props.triggerKey!==e.triggerKey&&this._startTransition()}render(){return this.props.children({ref:this._containerRef,style:this._getContainerStyle()})}}xa.defaultProps={minOpacity:0,maxOpacity:1,timingFunction:"ease-out",delay:0,onBeforeStart:()=>{},onAfterStart:()=>{},onBeforeEnd:()=>{},onAfterEnd:()=>{},onComplete:()=>{}};var Sa=xa;const Oa=la("feed-loading-progress-view"),Ra=()=>100;const Ta=mn(e=>({isVisible:e.iface.feedLoadingProgressVisible}))(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={isSpinnerShown:!1},this._ref=null,this._setRef=(e=>this._ref=e),this._disableEvent=(e=>{e.preventDefault(),e.stopPropagation()}),this._onTransitionEnd=(()=>{this.setState({isSpinnerShown:this.props.isVisible})}),this._onTransitionStart=(()=>{this.setState({isSpinnerShown:!0})}),e}componentDidMount(){this._ref&&(this._ref.addEventListener("wheel",this._disableEvent),this._ref.addEventListener("touchmove",this._disableEvent))}componentWillUnmount(){this._ref&&(this._ref.removeEventListener("wheel",this._disableEvent),this._ref.removeEventListener("touchmove",this._disableEvent))}render(){const e=this.props,t=e.isMobile,n=e.isVisible,r=this.state.isSpinnerShown,o=n||r;return Ot.createElement("div",{className:Oa("container"),ref:this._setRef},Ot.createElement(Sa,{triggerKey:n,type:n?"in":"out",onBeforeStart:this._onTransitionStart,onComplete:this._onTransitionEnd,getDuration:Ra},e=>{let n=e.ref,r=e.style;return Ot.createElement("div",{className:Oa({isMobile:t,isVisible:o}),ref:n,style:r},Ot.createElement(Ca,{className:Oa("spinner"),size:34}),Ot.createElement("div",{className:Oa("text")},"Обновляем ленту"))}))}});var Ia=e=>{var t,n;return n=t=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={isVisible:!1,isIntersecting:!1,isObserving:!1},this._node=null,this._intersectionObserver=null,this._rootRef=(e=>{this._unobserve(),e&&this._observe(e),this.props.rootRef&&this.props.rootRef(e)}),this._onIntersectionChange=(e=>{const t=this.props.visibilityThreshold,n=e[e.length-1];this.setState({isIntersecting:n.isIntersecting,isVisible:n.intersectionRatio>=t,isObserving:!0})}),e}_ensureIntersectionObserverInstance(){if(null!==this._intersectionObserver)return;const e=this.props,t=e.root,n=e.visibilityThreshold,r={root:t,rootMargin:e.rootMargin,threshold:[0,1-n,n,1].sort((e,t)=>e-t)};this._intersectionObserver=new IntersectionObserver(this._onIntersectionChange,r)}_observe(e){this._ensureIntersectionObserverInstance(),this._node=e,this._intersectionObserver.observe(this._node)}_unobserve(){this._intersectionObserver&&this._intersectionObserver.disconnect(),this._node=null}componentWillUnmount(){this._unobserve()}render(){const t=this.state,n=t.isVisible,r=t.isIntersecting,o=t.isObserving;return Rt.a.createElement(e,jt({},this.props,{rootRef:this._rootRef,isVisible:n,isIntersecting:r,isObserving:o}))}},t.defaultProps={visibilityThreshold:.8,rootMargin:"0px 0px 0px 0px"},n},Na=(n(335),n(20)),Pa=n.n(Na);const Aa=e=>t=>{t(Mr(e,"feedback_more","ITEM_FEEDBACK_LIKE"))},La=e=>t=>{t(Mr(e,"feedback_cancel_more","ITEM_FEEDBACK_CANCEL"))},Ma=e=>(t,n)=>{const r=n(),o=Kn(r),s=((e,t)=>{const n=t.id,r=t.parentId,o=t.index,s=e.videoModal&&e.videoModal.videoFeed[n],i=e.feed.items[n];return i||s||(r&&void 0!==o?e.feed.items[r].items[o]:null)})(r,e),i=Zr(r).zenApi;"liked"===s.feedback&&t(La(e)),t(Mr(e,"feedback_less","ITEM_FEEDBACK_DISLIKE")),o.isExp("ab:invalidate_cache_on_dislike:invalidate_cache_on_dislike")&&i.invalidateCache()},Da=e=>t=>{t(Mr(e,"feedback_cancel_less","ITEM_FEEDBACK_CANCEL"))},ja=e=>({type:"ITEM_FEEDBACK_CANCEL_BLOCK",payload:{id:e.id}}),Ba=e=>{return{type:"ITEM_FEEDBACK_ANSWER_TOGGLE",payload:{id:e.id,targetKey:e.targetKey,questionType:e.questionType}}},Fa=e=>{return{type:"ITEM_FEEDBACK_ANSWERS_UNCHECK",payload:{id:e.id}}},Ua=e=>{let t=e.logger;return()=>{t.log("complain_show")}},za=e=>{let t=e.source,n=e.logger;return e=>{n.log("feedback_block"),e((e=>Dr({type:"SOURCE_BLOCK",payload:{id:e}}))(t.id)),e(so(t.id))}},Va=e=>{let t=e.source,n=e.logger;return e=>{n.log("feedback_cancel_block"),e((e=>Dr({type:"SOURCE_UNBLOCK",payload:{id:e}}))(t.id)),e(so(t.id))}},Ha=e=>{let t=e.source,n=e.logger;return e=>{n.log("feedback_favourite"),e((e=>Dr({type:"SOURCE_SUBSCRIBE",payload:{id:e}}))(t.id)),e(so(t.id))}},Wa=e=>{let t=e.source,n=e.logger;return e=>{n.log("feedback_cancel_favourite"),e((e=>Dr({type:"SOURCE_UNSUBSCRIBE",payload:{id:e}}))(t.id)),e(so(t.id))}},$a={subscribed:Wa,blocked:Va,not_subscribed:Ha},Ga=e=>$a[e.source.status](e),qa={subscribed:Wa,blocked:Va,not_subscribed:za},Ka=e=>qa[e.source.status](e),Ya={subscribed:Wa,blocked:Ha,not_subscribed:Ha},Qa=e=>Ya[e.source.status](e),Za={subscribed:za,blocked:Va,not_subscribed:za},Ja=e=>Za[e.source.status](e),Xa=mn(null,zr({onToggleBlock:Ka,onToggleSubscribe:Ga,onShortToggleBlock:Ja,onShortToggleSubscribe:Qa,onBlock:za,onUnblock:Va,onSubscribe:Ha,onUnsubscribe:Wa,onDislike:e=>{let t=e.source,n=e.logger;return e=>{n.log("feedback_less"),e((e=>Dr({type:"SOURCE_DISLIKE",payload:{id:e}}))(t.id)),e(so(t.id))}},onComplain:Ua}),null,{pure:!1}),ec=mn(null,zr({onToggleBlock:Ka,onToggleSubscribe:Ga,onShortToggleBlock:Ja,onShortToggleSubscribe:Qa,onBlock:za,onUnblock:Va,onSubscribe:Ha,onUnsubscribe:Wa,onComplain:Ua}),null,{pure:!1});var tc=Xa;n(334),n(333);var nc=class{constructor(){this._listenerRemovers=[]}add(e,t,n,r){e.addEventListener(t,n,r);const o=()=>{e.removeEventListener(t,n,r),this._listenerRemovers=this._listenerRemovers.filter(e=>e!==o)};return this._listenerRemovers=this._listenerRemovers.concat(o),o}clear(){this._listenerRemovers.forEach(e=>{e()})}};var rc=(e,t)=>{const n=Object.keys(e),r={};for(let o=0;o<n.length;o++){const s=n[o];-1===t.indexOf(s)&&(r[s]=e[s])}return r};const oc=ma("button");function sc(e){let t=e.className,n=e.size,r=e.children,o=Bt(e,["className","size","children"]);return Rt.a.createElement("span",jt({className:ma.mix(oc("icon",{size:n}),t)},o),r)}class ic extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={isHovered:!1,isActive:!1,isTransitionEnabled:!0},this._listenerStorage=new nc,this._isMounted=!1,this._containerRef=(e=>{this._containerElem=e;const t=this.props.containerRef;"function"==typeof t&&t(e)}),e}_setState(e){return new Promise(t=>{this._isMounted&&this.setState(e,t)})}_setStateOnNextTick(e){return Lr(0).then(()=>this._setState(e))}_addHoverHandlers(){this._listenerStorage.add(this._containerElem,"mouseenter",()=>{this.setState({isHovered:!0})}),this._listenerStorage.add(this._containerElem,"mouseleave",()=>{this.setState({isHovered:!1})})}_addActiveHandlers(){const e="ontouchstart"in window?["touchstart","touchend"]:["mousedown","mouseup"],t=e[0],n=e[1];this._listenerStorage.add(this._containerElem,t,()=>{this._setState({isTransitionEnabled:!1}).then(()=>this._setStateOnNextTick({isActive:!0})).then(()=>{const e=this._listenerStorage.add(document,n,()=>{e(),this._setState({isActive:!1}).then(()=>this._setStateOnNextTick({isTransitionEnabled:!0}))})})}),this._listenerStorage.add(window,"blur",()=>{this._setState({isActive:!1,isHovered:!1,isTransitionEnabled:!0})})}componentDidMount(){this._isMounted=!0,"ontouchstart"in window||this._addHoverHandlers(),this._addActiveHandlers()}componentWillUnmount(){this._isMounted=!1,this._listenerStorage.clear()}render(){const e=this.props,t=e.tag,n=e.size,r=e.viewType,o=e.icon,s=e.iconClass,i=e.renderIcon,a=e.children,c=e.widthType,l=Bt(e,["tag","size","viewType","icon","iconClass","renderIcon","children","widthType"]),u=this.state,d=u.isHovered,p=u.isActive,h=u.isTransitionEnabled,m=Boolean(o||i),f=o?{backgroundImage:`url(${o})`}:null,g=ua(rc(l,["containerRef"]),{className:oc({size:n,viewType:r,isHovered:d,isActive:p,isTransitionEnabled:h,hasIcon:m,"width-type":c})});return Rt.a.createElement(t,jt({ref:this._containerRef},g),Rt.a.createElement("div",{className:oc("content-wrapper")},m&&Rt.a.createElement(sc,{size:n,style:f,className:s},i&&i()),a))}}ic.defaultProps={tag:"button",widthType:"regular"};var ac=Object(Ot.forwardRef)((e,t)=>Rt.a.createElement(ic,jt({},e,{containerRef:t})));const cc=e=>e.displayName||e.name||"Component";var lc=e=>{class t extends Ot.Component{constructor(){var e;return e=super(...arguments),this.answerSelector=(e=>this.props.question.answers.filter(t=>t.id===e)[0]),this.onShow=(()=>{const e=this.props.question,t=e.answers;this.props.logger.log("custom_user_feedback_show",{local:{__uq__:e.id,__ua__:t.map(e=>e.id).join(","),__ut__:e.type,__uat__:t.map(e=>e.type).join(",")}})}),this.onCheck=((e,t,n)=>{const r=this.props,o=r.itemToggleAnswer,s=r.question,i=s.type,a=this.answerSelector(e);if(n===a.isChecked)return;const c=n?"custom_user_feedback":"custom_user_feedback_cancel";this.props.logger.log(c,{local:{__uq__:s.id,__ua__:a.id,__ut__:s.type,__uat__:a.type}}),o({id:s.id,targetKey:t,questionType:i})}),e}render(){const t=this.props,n=this.onShow,r=this.onCheck,o=this.answerSelector;if(!t.question)return null;const s={onShow:n,onCheck:r,answerSelector:o,answers:t.question.answers,text:t.question.text};return Rt.a.createElement(e,jt({},t,s))}}t.displayName=`WithQuestionLogic(${cc(e)})`;const n=zr({itemToggleAnswer:Ba});return mn(()=>{const e=ko();return(t,n)=>{let r=n.id;return{logger:e(t.feed.items[r])}}},n)(t)};var uc=e=>{class t extends Ot.Component{constructor(){var e;return e=super(...arguments),this.onCheck=((e,t,n)=>{const r=this.props,o=r.answerSelector,s=r.onCheck,i=o(e);s(e,t,n),n!==i.isChecked&&(n?i.onBlock():i.onUnblock())}),e}render(){const t=this.props,n={onCheck:this.onCheck};return Rt.a.createElement(e,jt({},t,n))}}return t.displayName=`FeedbackDislikeOptionQuestionLogic(${cc(e)})`,lc(t)};class dc extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={isPageVisible:Gr()},this._start=0,this._isStatSent=!1,this._isDeepwatchStatSent=!1,this._timer=null,this._unsubscribe=null,this._sendShowStatOnce=(()=>{const e=this.props,t=e.logger,n=e.onShow,r=e.sendShow;this._isStatSent||(t&&r&&t.log("show"),n&&n(),this._isStatSent=!0)}),this._sendDeepwatch=(()=>{const e=this.props,t=e.logger,n=e.onDeepwatch,r=e.sendDeepwatch;this._isDeepwatchStatSent||(t&&r&&t.log("deepwatch",{local:{__t__:~~((Date.now()-this._start)/1e3)}}),n&&n(),this._isDeepwatchStatSent=!0)}),this._updateTimer=(()=>{const e=this.props,t=e.isVisible,n=e.timeout,r=this.state.isPageVisible;t&&r?null===this._timer&&(this._timer=setTimeout(this._sendShowStatOnce,n),this._start=Date.now()):this._stopTimer()}),this._stopTimer=(()=>{const e=this.props.timeout;null!==this._timer&&(clearTimeout(this._timer),Date.now()>this._start+e&&this._sendShowStatOnce(),this._timer=null)}),e}componentDidMount(){this._updateTimer(),this._unsubscribe=qr(e=>{this.setState({isPageVisible:e})})}componentDidUpdate(e,t){const n=this.props,r=n.isVisible,o=n.shouldResetOnVisibilityChange,s=this.state.isPageVisible;o&&t.isPageVisible!==s&&(this._isStatSent=!1,this._isDeepwatchStatSent=!1),this._updateTimer(),!(this._isStatSent&&e.isVisible&&t.isPageVisible)||r&&s||this._sendDeepwatch()}componentWillUnmount(){this._stopTimer(),this._unsubscribe&&this._unsubscribe()}render(){const e=this.props.children;return void 0===e?null:e}}dc.defaultProps={timeout:800,shouldResetOnVisibilityChange:!1,sendShow:!0,sendDeepwatch:!1};var pc=dc;n(332);const hc=la("feedback-dislike-options-view"),mc="SPINNER_ROLL",fc="SPINNER_OK",gc=800;var _c=class extends Ot.Component{constructor(){var e;return e=super(...arguments),this.state={spinnerStatus:!1},this._containerRef=(e=>{const t=this.props.rootRef;t&&t(e)}),this.renderStatus=(()=>{const e=this.state.spinnerStatus,t=this.props.answers.some(e=>e.isChecked);let n=!1;return e===mc&&(n="roll"),e===fc&&(n="ok"),t&&n||(n="none"),Rt.a.createElement("div",{className:hc("status",{[n]:!0})},Rt.a.createElement("div",{className:hc("status-icon")}),Rt.a.createElement("div",{className:hc("status-text")},"Выбор сохранён"))}),this.setSpinnerOk=st(()=>{this.state.spinnerStatus===mc&&this.setState({spinnerStatus:fc})},gc),this.renderItem=((e,t)=>{let n=e.id,r=e.text,o=e.isChecked;const s=this.props.onCheck;return Rt.a.createElement("div",{className:hc("list-item",{selected:o}),key:t,onClick:()=>{s(n,t,!o),this.setState({spinnerStatus:mc},this.setSpinnerOk())}},r)}),e}render(){const e=this.props,t=e.answers,n=e.text,r=e.isVisible,o=e.onShow,s=e.showLoggerTimeout;return Rt.a.createElement(pc,{isVisible:r,onShow:o,timeout:s},Rt.a.createElement("div",{ref:this._containerRef,className:hc()},Rt.a.createElement("div",{className:hc("question-text")},n),Rt.a.createElement("div",{className:hc("list")},t.map(this.renderItem)),this.renderStatus()))}};var bc=Object(zi.a)(uc,Ia,mn(e=>{return{showLoggerTimeout:Yn(e).safeGet("rezen_extend_feedback.show_logger_timeout",800)}}))(_c),vc=n(97),yc=n(96);const Ec=la("feedback-card-view");var kc=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderIcon=(e=>{const t=this.props.isMobile;switch(e){case"complain":return Rt.a.createElement(vc.a,{className:Ec("icon",{isMobile:t})});case"action":return Rt.a.createElement(yc.a,{className:Ec("icon",{isMobile:t})});default:return null}}),this._renderButton=((e,t)=>{if(!t)return null;const n=t.onClick,r=t.text,o=this.props.isMobile;return"cancel"!==e||o?Rt.a.createElement("button",{className:Ec("button",{type:e,isMobile:o}),onClick:n},this._renderIcon(e),Rt.a.createElement("div",null,r)):Rt.a.createElement(ac,{size:"m",tab:"button",viewType:"border",className:Ec("button",{type:"cancel"}),onClick:n},r)}),this._renderButtons=(()=>{const e=this.props,t=e.complainLinkButton,n=e.complainButton,r=e.cancelButton,o=e.actionButton,s=e.isHiddenCancelButton;return Rt.a.createElement("div",{className:Ec("buttons")},this._renderButton("action",o),this._renderButton("complain",t),this._renderButton("complain",n),s?null:this._renderButton("cancel",r))}),this._renderHeader=(()=>{const e=this.props,t=e.id,n=e.dislikeQuestion,r=e.isExtendFeedbackEnabled,o=e.isMobile,s=e.description,i=e.title;return r?Rt.a.createElement(bc,{id:t,question:n}):Rt.a.createElement("div",{className:Ec("text",{isMobile:o})},i," ",s)}),e}render(){const e=this.props,t=e.size,n=e.theme,r=e.place;return Rt.a.createElement("div",{className:Ec({size:t,theme:n,place:r})},this._renderHeader(),this._renderButtons())}};n(328);const wc=la("feedback-popup-view");var Cc=e=>{const t=e.mainColor,n=e.className,r=e.children,o={state:e.isNegativeFeedback?"opened":"closed"};return Rt.a.createElement("div",{className:la.mix(wc(o),n)},Rt.a.createElement("div",{style:{background:t},className:wc("fog")}),Rt.a.createElement("div",{className:wc("wrapper")},Rt.a.createElement("div",{className:wc("popup")},r)))};n(327);const xc=la("complaints-card");var Sc=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={selectedReasonIds:new Set},this._contentRef=(e=>this._contentElem=e),this._bottomRef=(e=>this._bottomElem=e),this._onButtonClick=(()=>{const e=this.props,t=e.cancelButton,n=e.actionButton,r=this.state.selectedReasonIds;r.size?n.onClick({reasonIds:Array.from(r)}):t.onClick()}),e}_onReasonClick(e){this.setState(t=>{let n=t.selectedReasonIds;const r=n.has(e),o=new Set(n);return r?o.delete(e):o.add(e),{selectedReasonIds:o}})}_renderReasonsColumn(e){const t=this.state.selectedReasonIds;return e.map(e=>{let n=e.id,r=e.text;const o=t.has(n);return Rt.a.createElement("div",{key:n,className:xc("reason",{selected:o}),onClick:()=>this._onReasonClick(n)},Rt.a.createElement("div",{className:xc("reason-checkbox")}),Rt.a.createElement("div",{className:xc("reason-label")},r))})}_renderReasons(){const e=this.props,t=e.size,n=e.reasons;if(t===H)return Rt.a.createElement("div",{className:xc("reasons")},this._renderReasonsColumn(n));const r=Math.ceil(n.length/2);return Rt.a.createElement("div",{className:xc("reasons")},Rt.a.createElement("div",{className:xc("reasons-column")},this._renderReasonsColumn(n.slice(0,r))),Rt.a.createElement("div",{className:xc("reasons-column")},this._renderReasonsColumn(n.slice(r))))}componentDidMount(){const e=this._contentElem.offsetWidth-this._contentElem.clientWidth,t="rtl"===getComputedStyle(this._contentElem).direction;this._bottomElem.style.right=t?"":`${e}px`,this._bottomElem.style.left=t?`${e}px`:""}render(){const e=this.props,t=e.size,n=e.title,r=e.cancelButton,o=e.actionButton,s=e.theme,i=e.place,a=this.state.selectedReasonIds.size?[o,"action"]:[r,"cancel"],c=a[0],l=a[1];return Rt.a.createElement("div",{className:xc({size:t,theme:s,place:i})},Rt.a.createElement("div",{className:xc("content"),ref:this._contentRef},Rt.a.createElement("div",{className:xc("title")},n),this._renderReasons()),Rt.a.createElement("div",{className:xc("bottom"),ref:this._bottomRef},Rt.a.createElement("button",{className:xc("button",{type:l}),onClick:this._onButtonClick},c.text)))}};const Oc={dislikeCard:{title:`${"Публикация скрыта"}.`,description:"Вы будете видеть меньше подобных публикаций в своей ленте.",complainButtonText:"Пожаловаться",cancelButtonText:"Отменить",actionButtonText:e=>"Заблокировать %domain".replace("%domain",e.domainTitle)},blockCard:{title:`${"Источник заблокирован"}.`,description:e=>"Вы не будете видеть публикации %source в своей ленте.".replace("%source",e.domainTitle),complainButtonText:"Пожаловаться",cancelButtonText:"Отменить"},complaintsCard:{title:"Причина жалобы",cancelButtonText:"Закрыть",actionButtonText:"Отправить"},complaintsDialogCard:{title:"Спасибо!",description:"Ваш отзыв позволит не допустить подобных публикаций в вашей ленте.",complainLinkText:"Сообщить о нарушении прав"}},Rc={dislikeCard:{title:`${"Публикация скрыта"}.`,description:"Вы будете видеть меньше подобных публикаций в своей ленте.",cancelButtonText:"Отменить"}};var Tc={[N]:Oc,[P]:Oc,[j]:Oc,[D]:Oc,[B]:Rc};const Ic="https://yandex.ru/support/abuse/troubleshooting/zen/list.html";const Nc=zr({itemCancelDislike:Da,itemBlock:e=>({type:"ITEM_FEEDBACK_BLOCK",payload:{id:e.id}}),itemUnblock:ja,itemOpenComplaints:e=>t=>{t(Mr(e,"complain_show","ITEM_COMPLAINTS_OPEN"))},itemSendComplaints:e=>t=>{t(Mr(((e,t,n)=>Object.assign({},e,{statEvents:Object.assign({},e.statEvents,{[t]:Object.keys(n).reduce((e,t)=>e.replace(t,n[t]),e.statEvents[t])})}))(e,"complain_click",{__reasons__:e.reasonIds.join(",")}),"complain_click","ITEM_COMPLAINTS_SEND"))},itemCancelComplaints:e=>{return{type:"ITEM_COMPLAINTS_CANCEL",payload:{id:e.id}}}}),Pc=Object(zi.a)(tc,mn((e,t)=>{let n=t.cancelExtendFeedbackPopupExp;const r=Kn(e),o=Yn(e),s=r.isExp("ab:extend_feedback:extend_feedback"),i=r.isExp("rezen_official_complaints"),a=!n&&o.safeGet("rezen_extend_feedback.is_popup",!1);return{isExtendFeedbackExp:s,isExtendFeedbackPopupExp:a,isOfficialComplains:i,place:a?"popup":null}},Nc))(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._openComplaints=(()=>{(0,this.props.itemOpenComplaints)()}),this._onComplainLinkClick=(()=>{window.open(Ic,"_blank")}),this._sendComplaints=(e=>{(0,this.props.itemSendComplaints)(e)}),this._cancelComplaints=(()=>{(0,this.props.itemCancelComplaints)()}),this._onBlock=(()=>{const e=this.props,t=e.onBlock,n=e.itemBlock;t(),n()}),this._onUnblock=(()=>{const e=this.props,t=e.onUnblock,n=e.itemUnblock;t(),n()}),e}_getTexts(e){const t=this.props.type,n=Tc[t][e],r=Object.keys(n),o={};for(let e=0;e<r.length;e++){const t=r[e],s=n[t];o[t]="function"==typeof s?s(this.props):s}return o}_renderDislikeCard(){const e=this.props,t=e.id,n=e.size,r=e.isMobile,o=e.itemCancelDislike,s=e.theme,i=e.dislikeQuestion,a=e.isExtendFeedbackExp,c=e.isExtendFeedbackPopupExp,l=e.complaints,u=e.type,d=e.place,p=this._getTexts("dislikeCard"),h=p.title,m=p.description,f=p.complainButtonText,g=p.cancelButtonText,_=p.actionButtonText,b=(a||c)&&i,v={size:n,title:h,description:m,complainButton:u===M||l||!f?null:{text:f,onClick:this._openComplaints},cancelButton:{text:g,onClick:o},actionButton:_?{text:_,onClick:this._onBlock}:null,theme:s,isMobile:r,isExtendFeedbackEnabled:b,dislikeQuestion:i,id:t,isHiddenCancelButton:c,place:d};return Rt.a.createElement(kc,v)}_renderBlockCard(){const e=this.props,t=e.id,n=e.size,r=e.isMobile,o=e.theme,s=e.dislikeQuestion,i=e.complaints,a=e.type,c=e.place,l=this._getTexts("blockCard"),u=l.title,d=l.description,p=l.complainButtonText,h=l.cancelButtonText,m={size:n,title:u,description:d,complainButton:a===M||i?null:{text:p,onClick:this._openComplaints},cancelButton:{text:h,onClick:this._onUnblock},theme:o,isMobile:r,dislikeQuestion:s,id:t,place:c};return Rt.a.createElement(kc,m)}_renderComplaintsCard(){const e=this.props,t=e.size,n=e.complaintReasons,r=e.theme,o=e.isIntersecting,s=e.place,i=this._getTexts("complaintsCard"),a=i.title,c=i.cancelButtonText,l=i.actionButtonText,u={size:t,title:a,reasons:n,cancelButton:{text:c,onClick:this._cancelComplaints},actionButton:{text:l,onClick:this._sendComplaints},theme:r,isIntersecting:o,place:s};return Rt.a.createElement(Sc,u)}_renderComplaintsDialogCard(){const e=this.props,t=e.id,n=e.size,r=e.isMobile,o=e.theme,s=e.dislikeQuestion,i=e.feedback,a=e.isOfficialComplains,c=e.complaints,l=e.place,u=this._getTexts("complaintsDialogCard"),d=u.title,p=u.description,h=u.complainLinkText;let m=null;"disliked"===i&&(m={text:this._getTexts("dislikeCard").actionButtonText,onClick:this._onBlock});const f={size:n,title:d,description:p,actionButton:m,complainLinkButton:a?{text:h,onClick:this._onComplainLinkClick}:null,theme:o,isMobile:r,dislikeQuestion:s,id:t,complaints:c,place:l};return Rt.a.createElement(kc,f)}_renderFeedbackCard(){const e=this.props,t=e.feedback,n=e.complaints,r=e.complaintsSendedAt;if("opened"===n)return this._renderComplaintsCard();if("sended"===n&&r===t)return this._renderComplaintsDialogCard();switch(t){case"disliked":return this._renderDislikeCard();case"blocked":return this._renderBlockCard();default:return null}}_renderFeedbackPopupView(){const e=this.props,t=e.feedback,n=e.mainColor,r={className:e.className,mainColor:n,isNegativeFeedback:t&&"liked"!==t};return Rt.a.createElement(Cc,r,this._renderFeedbackCard())}render(){const e=this.props,t=e.feedback,n=e.isMobile,r=e.isExtendFeedbackPopupExp;return t&&"liked"!==t||r?r&&!n?this._renderFeedbackPopupView():this._renderFeedbackCard():null}});var Ac=e=>{const t=e.feedback&&"liked"!==e.feedback;return Rt.a.createElement(Pa.a,{component:Ot.Fragment,transitionName:"_transition",transitionEnterTimeout:400,transitionLeaveTimeout:400},t?Rt.a.createElement(Pc,e):null)};const Lc=e=>{if(!e)return null;let t=e.match(/^#([0-9a-f]{3})$/i);return t?(t=t[1],[17*parseInt(t.charAt(0),16),17*parseInt(t.charAt(1),16),17*parseInt(t.charAt(2),16)]):(t=e.match(/^#([0-9a-f]{6})$/i))?(t=t[1],[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)]):(t=e.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i))?[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]:null},Mc=(e,t,n)=>{return Math.sqrt(e*e*.299+t*t*.587+n*n*.114)/255<.53},Dc=e=>{let t=e.cardColors,n=e.read,r=e.mainColor,o=e.isDesktop;if(n&&!o)return!1;if(r){const e=Lc(r),t=e[0],n=e[1],o=e[2];return Mc(t,n,o)}if(t){const e=Lc(t.card),n=e[0],r=e[1],o=e[2];return Mc(n,r,o)}return!1},jc={card:"#FFFFFF",text:"#000000"};var Bc=e=>{try{const t=Lc(e),n=t[0],r=t[1],o=t[2],s=function(e,t,n){e/=255,t/=255,n/=255;const r=Math.max(e,t,n),o=Math.min(e,t,n),s=(r+o)/2,i=r-o;if(0===i)return[0,0,s];const a=s>.5?i/(2-r-o):i/(r+o);switch(r){case e:return[((t-n)/i+(t<n?6:0))/6,a,s];case t:return[((n-e)/i+2)/6,a,s];case n:return[((e-t)/i+4)/6,a,s]}}(n,r,o),i=(s[0],s[1]),a=s[2],c=i<=.35&&a>=.9,l=Mc(n,r,o);return{isDarkImage:l,card:c?"#FFFFFF":e,text:l?"#FFFFFF":"#000000"}}catch(e){return console.error(e),jc}};const Fc=e=>({type:"DOC_SHOW",statEvent:"show",payload:{id:e}}),Uc=e=>({type:"DOC_CLICK",statEvent:"click",payload:{id:e}});n(325),n(72);const zc=new Set,Vc=new Map;let Hc;"undefined"!=typeof document&&window.addEventListener("resize",()=>{Hc=Date.now(),zc.forEach(e=>{Vc.set(e,Hc),e.props.onResize()})});var Wc=class extends Ot.PureComponent{componentDidMount(){this.props.isIntersecting&&zc.add(this),Vc.set(this,Date.now())}componentDidUpdate(e){if(e.isIntersecting!==this.props.isIntersecting)if(this.props.isIntersecting){const e=Vc.get(this);Hc&&(!e||e<Hc)&&(Vc.set(this,Date.now()),this.props.onResize()),zc.add(this)}else zc.delete(this)}componentWillUnmount(){this.props.isIntersecting&&zc.delete(this)}render(){const e=this.props.children;return void 0===e?null:e}};var $c=()=>{let e,t;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(t&&((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0})(e,r))return t;const s=e=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n(e):n&&(n.current=e)}};return e=r,t=s,s}},Gc=n(61),qc=n.n(Gc),Kc={measure:e=>new Promise(t=>{qc.a.measure(()=>{t(e())})}),mutate:e=>new Promise(t=>{qc.a.mutate(()=>{t(e())})}),measureAndMutate:(e,t)=>new Promise(n=>{let r;qc.a.measure(()=>{r=e()}),qc.a.mutate(()=>{n(t(r))})})};const Yc=Object.prototype.hasOwnProperty;var Qc=function(e,t,n){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(let o=0;o<r.length;o++)if(!(n&&n.includes(r[o])||Yc.call(t,r[o])&&Object.is(e[r[o]],t[r[o]])))return!1;return!0},Zc=e=>"string"==typeof e?e:Rt.a.Children.only(e);var Jc=(e,t)=>{"string"!=typeof t&&Rt.a.Children.only(t)};const Xc=(e,t)=>{const n=e[t-1];return"."===n||","===n||"…"===n?t-1:t};n(52),n(51);const el=/[A-Za-z]+|[А-Яа-яЁё]+|\d+|\S/,tl=/\S/,nl=e=>0!==e.width&&0!==e.height,rl=e=>{const t=(e=>{const t=[],n=e=>{const r=e.childNodes;for(let e=0;e<r.length;e++){const o=r[e];switch(o.nodeType){case Node.ELEMENT_NODE:n(o);break;case Node.TEXT_NODE:t.push(o)}}};return n(e),t})(e),n=[];let r="";for(let e=0;e<t.length;e++){const o=t[e],s=r+o.nodeValue;n.push({node:o,startIndex:r.length,endIndex:s.length}),r=s}return{textContent:r,createRange:(e,t)=>{let r,o;for(let s=0;s<n.length;s++){const i=n[s];if(!r&&e>=i.startIndex&&e<i.endIndex&&(r=i),!o&&t<=i.endIndex&&t>i.startIndex&&(o=i),r&&o){const n=document.createRange();return n.setStart(r.node,e-r.startIndex),n.setEnd(o.node,t-o.startIndex),n}}return null}}},ol=(e,t,n)=>{let r,o;switch(e){case"horizontal":r="left",o="right";break;case"vertical":r="top",o="bottom"}const s=t[r]-n[r],i=n[o]-t[o];let a=0;return s<0&&(a+=s),i<0&&(a+=i),!(a<0)||Math.abs(a)<=(1-.8)*t.height},sl=(e,t)=>{const n=t.textContent,r=t.createRange;let o=null,s=null;const i=()=>{const t=s?s.valueEndIndex:0,a=null===o?el:tl,c=n.slice(t).match(a);if(!c)return{done:!0};const l=c[0],u=t+c.index,d=u+l.length,p=r(u,d);let h;if(null===o){const e=p.getClientRects();if(e.length>1)return o=d,i();h=e[0]}else d>=o&&(o=null),h=p.getBoundingClientRect();const m=s?s.index+1:0,f=s?((e,t)=>{return e.top===t.rect.top&&e.bottom===t.rect.bottom?t.lineIndex:t.lineIndex+1})(h,s):0,g=((e,t)=>ol("horizontal",e,t)&&ol("vertical",e,t))(h,e);return{value:s={value:l,valueStartIndex:u,valueEndIndex:d,index:m,lineIndex:f,isVisible:g,rect:h},done:!1}};return{next:i,[Symbol.iterator]:()=>({next:i})}};var il=e=>{let t=e.containerElem,n=e.textElem,r=e.onlyVisibleTokens,o=void 0!==r&&r,s=e.linesLimit;const i=t.getBoundingClientRect(),a=n.getBoundingClientRect();if(!nl(i)||!nl(a))return null;const c=rl(n),l=[],u=[];let d=null,p=!0;var h=sl(i,c),m=Array.isArray(h),f=0;for(h=m?h:h[Symbol.iterator]();;){var g;if(m){if(f>=h.length)break;g=h[f++]}else{if((f=h.next()).done)break;g=f.value}let e=g;if(e.isVisible)d=e;else if(p=!1,o)break;if(l.push(e),u[e.lineIndex]||(u[e.lineIndex]=[]),u[e.lineIndex].push(e),s&&u.length===s)break}return{containerElem:t,containerRect:i,textElem:n,textRect:a,onlyVisibleTokens:o,tokens:l,lines:u,lastVisibleToken:d,isTextFits:p}};n(324);const al=la("clamp");class cl extends Ot.Component{constructor(){var e;return e=super(...arguments),this.state={visibilitySplitIndex:Zc(this.props.children).length,lineCount:null,isEllipsisNeeded:!1},this._composeContainerRefs=$c(),this._isMounted=!1,this._isPropsChanged=!1,this._containerRef=(e=>{this._containerElem=e}),this._textRef=(e=>this._textElem=e),e}_withValidation(e,t){var n=this;return function(){return n._isMounted&&n._containerElem&&n._textElem?e&&e(...arguments):t&&t(...arguments)}}_setState(e){return new Promise(t=>{this.setState(e,t)})}_hide(){return this._setState({visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1})}clamp(){const e=this.props.shouldResetLineCount;return new Promise((t,n)=>{const r=()=>{n(new Error("Not applied 'clamp' call."))};this._isMounted||r(),(e?this._setState({lineCount:null}):Promise.resolve()).then(()=>Kc.measure(this._withValidation(()=>il({containerElem:this._containerElem,textElem:this._textElem,onlyVisibleTokens:!0}),()=>null))).then(e=>{if(!e)return r();if(!e.lastVisibleToken)return this._hide();const t=this.props.minLineCount,n=e.lines.length,o=!e.isTextFits,s=e.lastVisibleToken.valueEndIndex;return n<t&&o?this._hide():this._setState({visibilitySplitIndex:s,lineCount:n,isEllipsisNeeded:o})}).then(t,r)}).catch(e=>{})}componentDidMount(){this._isMounted=!0,this.props.withAutoClamp&&(window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this.clamp()):this.clamp())}componentWillReceiveProps(e){const t=Zc(this.props.children),n=Zc(e.children);t!==n&&this.setState(e=>0===e.visibilitySplitIndex?{visibilitySplitIndex:0,lineCount:0,isEllipsisNeeded:!1}:{visibilitySplitIndex:n.length,lineCount:null,isEllipsisNeeded:!1})}shouldComponentUpdate(e,t){const n=Qc(this.props,e,["children"]),r=Qc(this.state,t),o=Qc(this.props.children,e.children);return this._isPropsChanged=!n||!o,!n||!r||!o}componentDidUpdate(){this._isPropsChanged&&this.props.withAutoClamp&&this.clamp()}componentWillUnmount(){this._isMounted=!1}render(){const e=this.props,t=e.className,n=e.style,r=e.fitToSpace,o=e.domRef,s=e.children,i=e.component,a=void 0===i?"span":i,c=this.state,l=c.visibilitySplitIndex,u=c.lineCount,d=c.isEllipsisNeeded,p=Zc(s);Jc("Clamp",s);const h={"line-count":null===u?null:String(u)},m=t?`${al(h)} ${t}`:al(h),f=d?Xc(p,l):l,g=p.slice(0,f),_=p.slice(f);return Rt.a.createElement("div",{className:m,style:n,ref:this._composeContainerRefs(this._containerRef,o)},Rt.a.createElement("div",{className:al("wrapper")},Rt.a.createElement("div",{className:al("text"),ref:this._textRef},Rt.a.createElement(a,{className:al("visible-tokens",{ellipsis:d})},g),Rt.a.createElement("span",{className:al("invisible-tokens")},_),Rt.a.createElement("div",{className:al("spacer")}))),r?null:Rt.a.createElement("div",{className:al("text-expand")},s))}}cl.defaultProps={minLineCount:1,withAutoClamp:!0,shouldResetLineCount:!0};var ll=n(95);function ul(){return new Promise(e=>requestAnimationFrame(()=>e()))}n(323);const dl=la("mittens-view");class pl extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={canShowAnimations:!1},e}componentDidMount(){var e=this;return o(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e._isMounted=!0,t.next=3,ul();case 3:return t.next=5,ul();case 5:e._isMounted&&e.setState({canShowAnimations:!0});case 6:case"end":return t.stop()}},t,this)}))()}componentWillUnmount(){this._isMounted=!1}_getSizes(){const e=ll[this.props.size],t=e.width,n=e.height,r=e.ratio;return{width:parseInt(t,10),height:parseInt(n,10),ratio:r}}_renderMittensSvg(e){const t=this.props.color,n=this._getSizes(),r=n.width,o=n.height,s=n.ratio,i=e?"translate(11.5, 16) rotate(180) translate(-11.5, -16)":"";return Rt.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:o,viewBox:`0 0 ${r} ${o}`},Rt.a.createElement("path",{transform:`scale(${s}, ${s}) ${i}`,fill:t,fillRule:"evenodd",d:"M18.895 10.605c.609 0 1.102.496 1.102 1.108v.043a16.864 16.864 0 0 1-.819 4.253l-.003.01a16.834 16.834 0 0 1-2.716 5.075l-.002.003-.159.19H7.923v-9.43L12.78 6.05l.003-.004a4.77 4.77 0 0 0 .774-1.447l.003-.007a4.84 4.84 0 0 0 .234-1.22c.2-.2.475-.323.779-.323.568 0 .956.379 1.187 1.024.276.77.252 1.643.252 1.643a4.828 4.828 0 0 1-1.042 3l.002.002-1.6 1.888H18.894zM3.015 21.287v-9.43h3.272v9.43H3.014z"}))}render(){const e=this.state.canShowAnimations,t=this.props,n=t.onlyLike,r=t.onLikeClick,o=t.onDislikeClick,s=t.size,i=t.cursor,a=t.liked,c=t.disliked,l=t.blocked,u=t.jump,d=t.className,p=void 0===d?"":d,h=t.isExtendFeedbackPopupExp,m=c||l,f={size:s,jump:u,type:t.type,hasActive:a||m,hasDisliked:m,canShowAnimations:!h&&e};return Rt.a.createElement("div",{className:la.mix(dl(f),p)},Rt.a.createElement("div",{className:dl("mitten",{active:a}),onClick:r,style:{cursor:i}},this._renderMittensSvg(!1)),n?null:Rt.a.createElement("div",{className:dl("mitten",{active:m}),onClick:o,style:{cursor:i}},this._renderMittensSvg(!0)))}}pl.defaultProps={size:"small",cursor:"pointer",color:"#000"};var hl=e=>{var t,n;return n=t=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._loggerSelector=ko(),e}render(){return Rt.a.createElement(e,jt({},this.props,{logger:this._loggerSelector(this.props)}))}},t.displayName=`WithBulkStatLogger(${cc(e)})`,n};var ml=e=>{class t extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._onLike=(e=>{e.preventDefault(),e.stopPropagation();const t=this.props,n=t.feedback,r=t.itemLike,o=t.itemCancelLike,s=t.onLike,i=t.onCancelLike;"liked"===n?o():"disliked"===n||"blocked"===n?(this._cancelDislike(),r()):r();const a="liked"===n?i:s;a&&a(e)}),this._onDislike=(e=>{e.preventDefault(),e.stopPropagation();const t=this.props,n=t.feedback,r=t.itemDislike,o=t.onDislike,s=t.onCancelDislike;"disliked"===n||"blocked"===n?this._cancelDislike():"liked"===n?(La(),r()):r();const i="disliked"===n?s:o;i&&i(e)}),e}_uncheckAllAnswers(){const e=this.props,t=e.dislikeQuestion,n=e.itemUncheckAllAnswers;t&&(t.answers.forEach(e=>{e.isChecked&&e.onUnblock&&e.onUnblock()}),n())}_cancelDislike(){const e=this.props,t=e.feedback,n=e.itemCancelDislike,r=e.isExtendFeedbackPopupExp,o=e.onUnblock,s=e.source,i=e.logger;n(),"blocked"===t&&o(s,i),r&&this._uncheckAllAnswers()}render(){const t=this.props,n=t.feedback,r=t.isMittensJumping;return Rt.a.createElement(e,jt({},this.props,{liked:"liked"===n,disliked:"disliked"===n,blocked:"blocked"===n,jump:r,onLikeClick:this._onLike,onDislikeClick:this._onDislike}))}}t.displayName=`WithMittensActor(${cc(e)})`;const n=zr({itemLike:Aa,itemDislike:Ma,itemUnblock:ja,itemCancelLike:La,itemCancelDislike:Da,itemUncheckAllAnswers:Fa});return Object(zi.a)(mn(()=>{const e=jo();return(t,n)=>{let r=n.id;const o=(ur(t)?e:Mo)(t,r),s=Yn(t).safeGet("rezen_extend_feedback.is_popup",!1),i=t.feed.items[r];return{isExtendFeedbackPopupExp:s,dislikeQuestion:o,source:i&&i.source&&t.sources[i.source]}}},n),hl,ec)(t)},fl=ml(pl);n(322);const gl=new Map,_l="undefined"!=typeof document&&"undefined"!=typeof IntersectionObserver;let bl;_l&&(window&&"function"!=typeof window.CustomEvent&&(El.prototype=window.Event.prototype,window.CustomEvent=El),bl=new El("visible"));const vl=e=>{e.filter(e=>e.isIntersecting).forEach(e=>{e.target.dispatchEvent(bl)})},yl=(e,t)=>{const n=JSON.stringify(t);if(gl.has(n))return gl.get(n);const r=new IntersectionObserver(vl,t);return gl.set(n,r),r};function El(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}var kl=(e,t,n)=>new Promise((r,o)=>{const s=()=>{const t=new Image;t.onload=r,t.onerror=o,t.src=e};if(_l&&t&&n){const e=yl(vl,n),r=()=>{s(),t&&t.removeEventListener("visible",r,!1),e.unobserve(t)};t.addEventListener("visible",r,!1),e.observe(t)}else s()}),wl=n(14),Cl=n.n(wl);const xl=/^rezen_default_lazy_loading_option_(\d+)_(\d+)_(\d+)_(\d+)$/,Sl={rootMargin:"0px 0px 500px 0px"};class Ol extends Ot.PureComponent{constructor(e){super(e),this._setImageLoaded=Cl()(()=>this.setState({isImageLoaded:!0})),this.state={isImageLoaded:!1}}componentDidMount(){this._loadImage()}componentWillUnmount(){this._setImageLoaded.cancel()}componentDidUpdate(e){this.props.imageUrl!==e.imageUrl&&this.setState({isImageLoaded:!1},()=>{this._loadImage()})}_getLazyLoadingOptions(){const e=this.props,t=e.lazyLoadingOptions,n=void 0===t?{}:t,r=e.defaultLazyLoadingFromExperiment,o=void 0===r?{}:r;return Object.assign({},Sl,o,n)}_loadImage(){if(this.state.isImageLoaded)return;const e=this.props.imageUrl;if(!e)return;const t=this.props.isImageLazyLoadEnabled?this._container:null,n=this._getLazyLoadingOptions();kl(e,t,n).then(()=>this._setImageLoaded())}render(){const e=this.props,t=e.renderImage,n=e.renderPlaceholder,r=e.wrapperClass,o=this.state.isImageLoaded;return Rt.a.createElement("div",{className:r,ref:e=>this._container=e},n&&n(o),t(o))}}Ol.defaultProps={isImageLazyLoadEnabled:!1};var Rl=mn(e=>{const t=Kn(e).findExps(xl)[0],n={};if(t){const e=xl.exec(t);n.defaultLazyLoadingFromExperiment={rootMargin:`${e[1]}px ${e[2]}px ${e[3]}px ${e[4]}px`}}return n})(Ol);const Tl={smallImage:"si",bigImage:"bi",backgroundCardImage:"bci",mediumImage:"mi"},Il=la("doc-image");class Nl extends Ot.PureComponent{constructor(e){super(e),this._renderPlaceholder=(e=>{const t=this.props,n=t.color,r=t.size,o=t.blurredPreview,s=t.gradientType;let i=this.mode===Tl.backgroundCardImage&&!e||this.mode===Tl.smallImage||this.mode===Tl.bigImage||this.mode===Tl.mediumImage;return Rt.a.createElement("div",null,Rt.a.createElement(Al,{blurredPreview:o,mode:this.mode}),Rt.a.createElement(Pl,{color:n,size:r,mode:this.mode,isVisible:i,gradientType:s}))}),this._renderImage=(e=>{const t=this.props,n=t.aspectRatioMode,r=t.isBlurred,o=t.imageStyle,s=this._getImageUrl(),i=e&&s?`url(${s})`:null,a=Il("image",{mode:this.mode,"is-loaded":e,"aspect-ratio":n,"is-blurred":r});return Rt.a.createElement("div",{className:a,style:Object.assign({},o,{backgroundImage:i})})}),this.mode=this._getImageMode()}_getImageMode(){const e=this.props,t=e.size,n=e.cardBackgroundImage,r=e.forcedMode;return t===W?Tl.bigImage:r===Tl.backgroundCardImage&&n?Tl.backgroundCardImage:r===Tl.smallImage?Tl.smallImage:r===Tl.mediumImage?Tl.mediumImage:n?Tl.backgroundCardImage:Tl.smallImage}_getImageUrl(){const e=this.props,t=e.theme,n=e.image,r=e.bigImage,o=e.cardBackgroundImage,s=e.cardBackgroundWhiteImage;switch(this.mode){case Tl.bigImage:case Tl.mediumImage:return r;case Tl.smallImage:return n;case Tl.backgroundCardImage:return"white"===t?s:o}}render(){const e=this.props.isImageLazyLoadEnabled;return Rt.a.createElement("div",{className:Il()},Rt.a.createElement(Rl,{imageUrl:this._getImageUrl(),renderPlaceholder:this._renderPlaceholder,renderImage:this._renderImage,isImageLazyLoadEnabled:e,wrapperClass:Il("wrap")}))}}const Pl=e=>{let t=e.color,n=e.size,r=e.mode,o=e.isVisible,s=e.gradientType,i=void 0===s?"linear":s;const a=Lc(t).join();let c="",l="";const u=[`rgba(${a},1) 0%`,`rgba(${a},0.85) 10%`,`rgba(${a},0.6) 20%`,`rgba(${a},0) 50%`];return c={background:l="radial"===i?`radial-gradient(ellipse at right 50% , ${[`rgba(${a},0) 36%`,`rgba(${a},0.1) 45%`,`rgba(${a},0.16) 47%`,`rgba(${a},0.75) 60%`,`rgba(${a},0.96) 65%`,`rgba(${a},1) 70%`].join(", ")})`:n===W||"medium"===n?`linear-gradient(to right, ${u.join()})`:`linear-gradient(to top, ${u.join()})`},Rt.a.createElement("div",{className:Il("fade",{mode:r,"is-visible":o}),style:c})},Al=e=>{let t=e.blurredPreview,n=e.mode;const r=`data:image/png;base64,${t||""}`;return Rt.a.createElement("div",{className:Il("preview",{mode:n}),style:{backgroundImage:`url(${r})`}})};n(321);const Ll=la("doc-channel-name");var Ml=e=>{const t=e.textColor,n=e.name,r=e.read,o=e.className,s=e.opacity,i=e.limit,a=void 0===i?20:i,c=n.length>=a?"small":"medium";return Rt.a.createElement("div",{className:la.mix(Ll({read:r,size:c}),o),style:{color:t,opacity:s}},n)};n(320);const Dl=la("doc-channel-link");var jl=e=>{const t=e.className,n=e.children;return Rt.a.createElement("div",{className:la.mix(Dl(),t)},n)};n(319);const Bl=e=>{const t=e.host,n=void 0===t?"":t,r=e.href,o=e.rel,s=e.target,i=e.forwardedRef,a=Bt(e,["host","href","rel","target","forwardedRef"]),c="_blank"===s&&r&&-1===r.indexOf(n)?o+" noopener":o;return Ot.createElement("a",jt({},a,{href:r,rel:c||void 0,target:s,ref:i}))};Bl.defaultProps={rel:"",target:"_blank"};const Fl=mn(e=>({host:e.params.host}),{},null,{shouldHandleStateChanges:!1})(Bl),Ul=Ot.forwardRef((e,t)=>Ot.createElement(Fl,jt({},e,{forwardedRef:t}))),zl=la("doc-badges-view");var Vl,Hl;!function(e){e.NARRATIVE="narrative",e.PROMO="promo",e.SPECIAL="special"}(Vl||(Vl={})),function(e){e.DARK="dark",e.LIGHT="light",e.TRANSPARENT="transparent"}(Hl||(Hl={}));const Wl=mn(e=>{return{promoLink:Yn(e).safeGet("rezen_promo_badge_link","")}})(class extends Ot.PureComponent{renderBadge(){const e=this.props,t=e.promoLink,n=void 0===t?"":t,r=e.badges,o=e.read,s=void 0!==o&&o,i=e.color,a=r[0],c=a.type===Vl.PROMO;return c&&""!==n?Ot.createElement(Ul,{href:n,target:"_blank",style:{color:i},className:zl({read:s,isPromo:c})},a.text):Ot.createElement("div",{className:zl({read:s}),style:{color:i}},a.text)}render(){const e=this.props.badges;return e&&e[0]?this.renderBadge():null}}),$l=e=>{const t=Object(Ot.useRef)(e);return Object(Ot.useEffect)(()=>{t.current=e},[e]),Object(Ot.useCallback)(function(){return t.current(...arguments)},[])},Gl=e=>{let t=e.isVisible,n=e.timeout,r=void 0===n?800:n,o=e.onShow,s=e.onDeepwatch;const i=Object(Ot.useState)(!1),a=i[0],c=i[1],l=Object(Ot.useState)(!1),u=l[0],d=l[1];(e=>{let t=e.isVisible,n=e.timeout,r=e.onShow,o=e.onDeepwatch;const s=$l(()=>{Object(ta.unstable_batchedUpdates)(()=>{r()})}),i=$l(e=>{o&&Object(ta.unstable_batchedUpdates)(()=>{o(e)})});Object(Ot.useEffect)(()=>{if(!t)return;let e=!1,r=Date.now();const o=setTimeout(()=>{e=!0,s()},n);return()=>{e?i(Date.now()-r):(clearTimeout(o),Date.now()>r+n&&s())}},[t,n])})({isVisible:!a&&Boolean(t),timeout:r,onShow(){d(!0),o()},onDeepwatch:s}),a||!u||t||c(!0)};var ql=mn(null,{onShortToggleSubscribe:Qa})(e=>{const t=e.className,n=e.style,r=e.source,o=e.logger,s=e.triggerEvent,i=e.isVisible,a=e.isMobile,c=e.onShortToggleSubscribe,l="subscribed"===r.status?"Отписаться":"Подписаться",u=Object(Ot.useMemo)(()=>yo({__pe__:s})(o),[o,s]),d=Object(Ot.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),c({source:r,logger:u})},[r,u,c]);return Gl({isVisible:i,onShow(){u.log("favourite_button_show")}}),Rt.a.createElement(ac,{className:t,style:n,onClick:d,size:a?"l":"m",viewType:"border"},l)}),Kl=(n(318),n(7)),Yl=n.n(Kl),Ql=n(6),Zl=n.n(Ql),Jl=new Yl.a({id:"comments-balloon--inline",use:"comments-balloon--inline-usage",viewBox:"0 0 18 14",content:'<symbol viewBox="0 0 18 14" id="comments-balloon--inline"><path fill-rule="evenodd" d="M3 0a3 3 0 0 0-3 3v5.674a3 3 0 0 0 3 3h3.619L9 14l2.381-2.326H15a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),Xl=(Zl.a.add(Jl),Jl),eu=new Yl.a({id:"comments-balloon-touch--inline",use:"comments-balloon-touch--inline-usage",viewBox:"0 0 22 24",content:'<symbol viewBox="0 0 22 24" id="comments-balloon-touch--inline"><path fill-rule="evenodd" d="M3 4.3785a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h3.757L11 23.6215 15.243 19.3785H19a3 3 0 0 0 3-3V7.3782a3 3 0 0 0-3-3H3z" clip-rule="evenodd" /></symbol>'}),tu=(Zl.a.add(eu),eu);const nu=la("comment-counter");class ru extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._onClick=(e=>{const t=this.props,n=t.onClick;t.logger.log("click_comments_counter"),"function"==typeof n&&n(e)}),this._onShow=(()=>{this.props.logger.log("show_comments_counter")}),this._renderBalloon=(()=>{const e=this.props,t=e.isTouch,n=e.textColor,r=e.balloonColor;let o=e.count;return o>99&&(o="99+"),t?Rt.a.createElement("svg",{className:nu("icon"),viewBox:tu.viewBox,style:{fill:r}},Rt.a.createElement("use",{xlinkHref:`#${tu.id}`}),Rt.a.createElement("text",{className:nu("info"),x:"50%",y:"50%",dominantBaseline:"middle",textAnchor:"middle",style:{fill:n}},o)):Rt.a.createElement(Ot.Fragment,null,Rt.a.createElement("svg",{className:nu("icon"),viewBox:Xl.viewBox,style:{fill:r}},Rt.a.createElement("use",{xlinkHref:`#${Xl.id}`})),Rt.a.createElement("span",{className:nu("info"),style:{color:n}},o))}),e}render(){const e=this.props,t=e.link,n=e.count,r=e.isVisible,o=e.rootRef,s=e.isTouch,i=e.isPost,a=e.isCardImage,c=e.feedbackMittensIsDisabled;if("number"!=typeof n)return null;const l=nu("",{isCardImage:a,isTouch:s,isPost:i,feedbackMittensIsDisabled:c});return Rt.a.createElement(pc,{isVisible:r,onShow:this._onShow},Rt.a.createElement("span",{className:l},Rt.a.createElement("a",{ref:o,className:nu("balloon",{isTouch:s}),href:t,target:"_blank",rel:"noopener noreferrer",onClick:this._onClick},this._renderBalloon())))}}const ou=500;var su=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._clampRef=(e=>this._clamp=e),this._onResize=Fo(()=>{this._clamp&&this._clamp.clamp()},ou,this),e}render(){const e=this.props,t=e.className,n=e.style,r=e.isIntersecting,o=e.fitToSpace,s=e.minLineCount,i=e.domRef,a=e.children;return Rt.a.createElement(Wc,{isIntersecting:r,onResize:this._onResize},Rt.a.createElement(cl,{className:t,style:n,fitToSpace:o,minLineCount:s,domRef:i,ref:this._clampRef},a))}};var iu=e=>e===j;const au=(e,t)=>{if(e.length<t)return e;if(" "===e[t])return e.slice(0,t)+"…";let n=t;for(;n<e.length;)if(" "===e[++n])return e.slice(0,n)+"…";return e.slice(0,t)+"…"},cu=e=>e.split(/\s+/).reduce((e,t)=>Math.max(t.length,e),0),lu={"regular-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":29,'"':42,"%":67,"'":27,"(":42,")":37,"*":46,"+":57,",":30,"-":38,".":27,"/":46,":":27,";":29,"<":57,"=":57,">":57,"?":49,"[":48,"]":43,_:41,"{":50,"}":45,"№":111,"Ё":62,"А":71,"Б":64,"В":66,"Г":56,"Д":81,"Е":62,"Ж":97,"З":62,"И":78,"Й":78,"К":66,"Л":70,"М":89,"Н":74,"О":79,"П":72,"Р":63,"С":69,"Т":62,"У":65,"Ф":84,"Х":66,"Ц":80,"Ч":70,"Ш":97,"Щ":104,"Ъ":77,"Ы":86,"Ь":65,"Э":69,"Ю":99,"Я":66,"ё":56,"а":54,"б":60,"в":56,"г":46,"д":64,"е":56,"ж":78,"з":52,"и":62,"й":62,"к":54,"л":57,"м":74,"н":59,"о":59,"п":58,"р":62,"с":52,"т":50,"у":55,"ф":73,"х":52,"ц":66,"ч":56,"ш":81,"щ":87,"ъ":61,"ы":71,"ь":52,"э":52,"ю":78,"я":55,A:71,B:66,C:69,D:73,E:61,F:59,G:77,H:74,I:28,J:39,K:65,L:58,M:89,N:76,O:79,P:62,Q:82,R:66,S:61,T:62,U:71,V:69,W:96,X:65,Y:64,Z:62,a:54,b:62,c:50,d:61,e:54,f:39,g:60,h:59,i:25,j:31,k:50,l:25,m:90,n:59,o:58,p:62,q:64,r:38,s:50,t:38,u:58,v:54,w:80,x:51,y:55,z:47},"bold-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":31,'"':44,"%":67,"'":26,"(":48,")":43,"*":48,"+":57,",":34,"-":38,".":31,"/":49,":":31,";":33,"<":57,"=":56,">":57,"?":49,"[":53,"]":47,_:43,"{":52,"}":47,"№":112,"Ё":62,"А":72,"Б":66,"В":67,"Г":55,"Д":84,"Е":62,"Ж":99,"З":61,"И":78,"Й":78,"К":69,"Л":71,"М":89,"Н":75,"О":80,"П":74,"Р":64,"С":68,"Т":63,"У":66,"Ф":84,"Х":66,"Ц":83,"Ч":72,"Ш":97,"Щ":107,"Ъ":79,"Ы":89,"Ь":66,"Э":69,"Ю":104,"Я":68,"ё":58,"а":56,"б":61,"в":56,"г":46,"д":69,"е":58,"ж":81,"з":51,"и":62,"й":62,"к":57,"л":59,"м":75,"н":60,"о":61,"п":60,"р":65,"с":53,"т":50,"у":57,"ф":77,"х":54,"ц":69,"ч":58,"ш":82,"щ":91,"ъ":64,"ы":75,"ь":54,"э":54,"ю":82,"я":56,A:73,B:68,C:67,D:75,E:61,F:59,G:77,H:75,I:30,J:43,K:68,L:57,M:89,N:75,O:80,P:64,Q:83,R:67,S:62,T:64,U:70,V:71,W:101,X:66,Y:63,Z:64,a:56,b:65,c:52,d:64,e:58,f:43,g:64,h:61,i:28,j:34,k:55,l:27,m:91,n:61,o:60,p:65,q:68,r:42,s:49,t:42,u:60,v:55,w:84,x:54,y:57,z:50},"medium-ysans":{" ":22,0:57,1:57,2:57,3:57,4:57,5:57,6:57,7:57,8:57,9:57,"!":33,'"':43,"%":67,"'":26,"(":46,")":40,"*":47,"+":57,",":33,"-":38,".":29,"/":48,":":29,";":32,"<":57,"=":57,">":57,"?":49,"[":51,"]":45,_:42,"{":51,"}":46,"№":112,"Ё":62,"А":71,"Б":65,"В":67,"Г":56,"Д":82,"Е":62,"Ж":98,"З":62,"И":78,"Й":78,"К":67,"Л":70,"М":89,"Н":75,"О":79,"П":73,"Р":64,"С":68,"Т":62,"У":65,"Ф":84,"Х":66,"Ц":82,"Ч":71,"Ш":97,"Щ":105,"Ъ":78,"Ы":88,"Ь":66,"Э":69,"Ю":102,"Я":67,"ё":57,"а":55,"б":61,"в":56,"г":45,"д":67,"е":57,"ж":80,"з":51,"и":62,"й":62,"к":55,"л":58,"м":75,"н":60,"о":60,"п":59,"р":64,"с":52,"т":50,"у":56,"ф":76,"х":53,"ц":67,"ч":57,"ш":82,"щ":89,"ъ":62,"ы":73,"ь":53,"э":53,"ю":80,"я":55,A:72,B:67,C:68,D:74,E:61,F:59,G:77,H:75,I:29,J:41,K:66,L:58,M:89,N:76,O:79,P:63,Q:83,R:66,S:62,T:63,U:70,V:70,W:98,X:66,Y:64,Z:63,a:55,b:64,c:51,d:63,e:56,f:41,g:63,h:60,i:26,j:33,k:53,l:26,m:91,n:60,o:59,p:64,q:66,r:40,s:50,t:40,u:59,v:54,w:82,x:53,y:56,z:49},"logotype-ysans":{" ":22,0:56,1:56,2:56,3:56,4:56,5:56,6:56,7:56,8:56,9:56,"!":33,'"':39,"%":66,"'":24,"(":41,")":35,"*":44,"+":56,",":29,"-":38,".":25,"/":44,":":25,";":28,"<":56,"=":56,">":56,"?":49,"[":45,"]":40,_:39,"{":48,"}":42,"№":110,"Ё":61,"А":69,"Б":62,"В":65,"Г":55,"Д":80,"Е":61,"Ж":95,"З":61,"И":76,"Й":76,"К":64,"Л":68,"М":88,"Н":74,"О":79,"П":72,"Р":61,"С":68,"Т":61,"У":65,"Ф":82,"Х":64,"Ц":80,"Ч":68,"Ш":96,"Щ":104,"Ъ":75,"Ы":83,"Ь":63,"Э":69,"Ю":98,"Я":65,"ё":55,"а":54,"б":60,"в":54,"г":45,"д":64,"е":55,"ж":76,"з":50,"и":60,"й":60,"к":51,"л":56,"м":73,"н":58,"о":59,"п":57,"р":62,"с":52,"т":49,"у":53,"ф":72,"х":50,"ц":66,"ч":55,"ш":79,"щ":87,"ъ":59,"ы":68,"ь":50,"э":52,"ю":78,"я":52,A:69,B:65,C:68,D:72,E:60,F:59,G:77,H:74,I:26,J:38,K:64,L:58,M:88,N:75,O:79,P:61,Q:83,R:65,S:59,T:61,U:71,V:68,W:99,X:64,Y:63,Z:63,a:54,b:62,c:51,d:61,e:54,f:37,g:62,h:59,i:23,j:30,k:49,l:23,m:90,n:59,o:58,p:62,q:65,r:36,s:49,t:37,u:58,v:53,w:78,x:49,y:53,z:47},"sans-serif":{" ":22,0:56,1:56,2:56,3:56,4:56,5:56,6:56,7:56,8:56,9:56,"!":28,'"':36,"%":89,"'":20,"(":34,")":34,"*":39,"+":59,",":28,"-":34,".":28,"/":28,":":28,";":28,"<":59,"=":59,">":59,"?":56,"[":28,"]":28,_:56,"{":34,"}":34,"№":108,"Ё":67,"А":70,"Б":66,"В":67,"Г":55,"Д":71,"Е":67,"Ж":95,"З":61,"И":72,"Й":72,"К":59,"Л":68,"М":84,"Н":73,"О":78,"П":72,"Р":67,"С":74,"Т":63,"У":66,"Ф":77,"Х":67,"Ц":76,"Ч":67,"Ш":92,"Щ":96,"Ъ":82,"Ы":89,"Ь":66,"Э":73,"Ю":102,"Я":73,"ё":56,"а":58,"б":59,"в":54,"г":37,"д":59,"е":57,"ж":70,"з":49,"и":56,"й":56,"к":46,"л":59,"м":70,"н":56,"о":57,"п":55,"р":56,"с":51,"т":49,"у":52,"ф":83,"х":50,"ц":58,"ч":53,"ш":81,"щ":83,"ъ":65,"ы":72,"ь":53,"э":53,"ю":75,"я":55,A:67,B:67,C:73,D:73,E:67,F:62,G:78,H:73,I:28,J:50,K:67,L:56,M:84,N:73,O:78,P:67,Q:78,R:73,S:67,T:62,U:73,V:67,W:95,X:67,Y:67,Z:62,a:56,b:56,c:50,d:56,e:56,f:28,g:56,h:56,i:23,j:23,k:50,l:23,m:84,n:56,o:56,p:56,q:56,r:34,s:50,t:28,u:56,v:50,w:73,x:50,y:50,z:50}},uu=(e,t)=>{let n=t.fontSize,r=t.fontFamily,o=t.letterSpacing,s=void 0===o?0:o;return e.split("").reduce((e,t)=>e+function(e,t,n){void 0===t&&(t=14),void 0===n&&(n="sans-serif");const r=lu[n]||lu[14];return(r[e]||r["№"])/100*t}(t,n,r),0)+s*(e.length-1)},du=(e,t)=>(!e.threshold||e.threshold>=t.length)&&(!e.wordThreshold||e.wordThreshold>=t.longestWordLength),pu=(e,t)=>{const n={length:e.length,longestWordLength:cu(e)};for(let e=0;e<t.length;e++){const r=t[e];if(du(r,n))return r.name}return null},hu=function(e,t,n){void 0===n&&(n={});const r=n,o=r.fontSize,s=r.fontFamily,i=r.letterSpacing;return uu(e,{fontSize:o,fontFamily:s,letterSpacing:i})<t};function mu(e,t,n){let r=t.maxLength,o=t.maxBigWordLength,s=t.sizes;const i=au(e,r),a={length:i.length,maxWordLength:cu(i)};return fu(a,s.big,n)&&a.maxWordLength<=o?s.big.style:fu(a,s.medium,n)?s.medium.style:!s.xsmall||fu(a,s.small,n)?s.small.style:s.xsmall.style}function fu(e,t,n){let r=e.length,o=e.maxWordLength;const s=n?n.offsetWidth/340:1;return r<=t.threshold*s&&!(t.wordThreshold&&o>t.wordThreshold)}n(317);const gu=la("specified-title"),_u=e=>{const t=ua(e,{className:gu()});return Rt.a.createElement("h2",jt({},t,{itemProp:"headline"}))},bu=120,vu={small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"26px",lineHeight:"32px"},big:{fontSize:"32px",lineHeight:"34px"}},yu={maxLength:bu,maxBigWordLength:11,sizes:{big:{threshold:30,style:vu.big},medium:{threshold:45,style:vu.medium},small:{threshold:0,style:vu.small}}};var Eu=class extends Ot.PureComponent{constructor(e){super(e),this.state=this._calcCurrentState(this.props.title),this._containerRef=(e=>this._containerElem=e),this._clampRef=(e=>this._clamp=e)}_calcCurrentState(e){const t=yu;return{title:au(e,bu),style:mu(e,t,this._containerElem)}}_updateState(){return new Promise(e=>{this.setState(this._calcCurrentState(this.props.title),e)})}updateStylesAndClamp(){return this._updateState().then(()=>this._clamp&&this._clamp.clamp())}render(){const e=this.state,t=e.title,n=e.style;return Rt.a.createElement(cl,{className:"doc__title",style:n,domRef:this._containerRef,ref:this._clampRef,withAutoClamp:!1,component:_u},t)}};const ku=la("doc"),wu=Ia(ru);var Cu=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._docTitleRef=Object(Ot.createRef)(),this._textClampRef=Object(Ot.createRef)(),this._onResize=Fo(this._updateContentStylesAndClamp,ou,this),this._onAuxClick=(e=>{const t=this.props.onClick;0!==e.button&&1!==e.button||t()}),this._renderImage=(()=>{const e=this.props,t=e.size,n=e.image,r=e.read,o=e.theme,s=e.bigImage,i=e.blurredPreview,a=e.cardBackgroundImage,c=e.cardBackgroundWhiteImage,l=e.isImageLazyLoadEnabled;return n?Rt.a.createElement(Nl,{theme:o,image:n,bigImage:s,blurredPreview:i,cardBackgroundImage:a,cardBackgroundWhiteImage:c,isRead:r,size:t,color:this.getBackgroundColor(),isImageLazyLoadEnabled:l}):null}),this._renderShadeMask=(()=>{const e={backgroundColor:this.getBackgroundColor()};return Rt.a.createElement("div",{className:ku("shade-mask"),style:e})}),this._renderHoverMask=(()=>Rt.a.createElement("div",{className:ku("hover-mask")})),this._renderFilterMask=(()=>Rt.a.createElement("div",{className:ku("filter-mask")})),e}getBackgroundColor(){const e=this.props.mainColor;if(e)return Bc(e).card;const t=this.props.cardColors;return t&&t.card}getTextColor(){const e=this.props,t=e.mainColor,n=e.cardColors;return t?Bc(t).text:n?n.text:"#000000"}getColorTheme(){return"#000000"===this.getTextColor()?"black":"white"}getCardStyle(){const e=this.getBackgroundColor();if(e)return{backgroundColor:e}}getDocType(){const e=this.props,t=e.type,n=e.image;return iu(t)?"narrative":n?"image":"text"}_updateContentStylesAndClamp(){this._docTitleRef.current&&this._docTitleRef.current.updateStylesAndClamp().then(()=>{this._textClampRef.current&&this._textClampRef.current.clamp()})}_getBadgeFadeStyle(){const e=this.props,t=e.mainColor,n=e.cardColors,r=t||n&&n.card;if(!r)return{};const o=Lc(r).join(", ");return{boxShadow:`rgba(${o}, 0.4) 0px 0px 25px 5px, rgba(${o}, 0.4) 0px 0px 60px 30px, rgba(${o}, 0.6) 0px 0px 100px 30px`}}_renderBadges(){const e=this.props,t=e.badges,n=e.read;if(!t||0===t.length)return null;const r="white"===this.getColorTheme()?"#fff":"#000";return Rt.a.createElement("div",{className:ku("badge")},Rt.a.createElement(Wl,{badges:t,color:r,read:n}),Rt.a.createElement("div",{className:ku("badge-fade"),style:this._getBadgeFadeStyle()}))}_renderContent(){const e=this.props,t=e.type,n=e.title,r=e.text,o=e.isIntersecting,s=e.onClick,i=e.link;return Rt.a.createElement("a",{className:ku("content"),onClick:s,href:i,target:"_blank",rel:"noreferrer noopener",onAuxClick:this._onAuxClick},Rt.a.createElement("div",{className:ku("aligner")},Rt.a.createElement(Wc,{isIntersecting:o,onResize:this._onResize}),Rt.a.createElement(Eu,{ref:this._docTitleRef,title:n}),iu(t)?null:Rt.a.createElement(cl,{className:ku("text"),withAutoClamp:!1,fitToSpace:!0,ref:this._textClampRef},r),Rt.a.createElement("div",{className:ku("subscribe-button-gradient")})))}_renderControls(e){const t=this.props,n=t.domainTitle,r=t.feedLink,o=t.logger,s=t.feedbackSubscribeProps,i=t.size,a=t.type,c=t.commentsCount,l=t.feedbackMittensProps;let u=17,d=20;N===a&&c>=0&&l.isEnabled&&(u=15,d=18);const p=s.hasSubscribeButton,h="popup"===e;return Rt.a.createElement("div",{className:ku("controls",{type:e})},Rt.a.createElement("div",{className:ku("aligner")},Rt.a.createElement("div",{className:ku("bottom")},!h&&Rt.a.createElement(jl,{className:ku("channel-name"),link:r,logger:o},Rt.a.createElement(Ml,{textColor:this.getTextColor(),name:n,limit:i===W?u:d})),this._renderCommentsCounter(),this._renderMittens(e)),!h&&Rt.a.createElement(ql,jt({},s,{className:ku("subscribe-button"),isVisible:p,logger:o}))))}_renderCommentsCounter(){const e=this.props,t=e.commentsCount,n=e.commentsLink,r=e.logger,o=e.feedbackMittensProps,s=e.onClick;return Rt.a.createElement(wu,{textColor:this.getBackgroundColor(),balloonColor:this.getTextColor(),link:n,count:t,logger:r,feedbackMittensIsDisabled:!o.isEnabled,onClick:s})}_renderMittens(e){const t=this.props,n=t.feedbackMittensProps,r=t.onDislike;return n.isEnabled?Rt.a.createElement(fl,jt({},n,{color:this.getTextColor(),onDislike:r,className:ku("mittens"),type:e})):null}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this._updateContentStylesAndClamp()):this._updateContentStylesAndClamp()}componentDidUpdate(e){const t=this.props,n=t.title,r=t.text;e.title===n&&e.text===r||this._updateContentStylesAndClamp()}render(){const e=this.props,t=e.size,n=e.read,r=e.shouldHighlight,o=e.columnCount,s=e.isPromoted,i=e.isPromoPublication,a=e.feedbackSubscribeProps,c=e.containerRef,l=e.renderFeedback,u=e.experiments,d=e.isRtbFitted,p=e.isExtendFeedbackPopupExp,h=e.isWhiteMordaDesktop,m=a.hasSubscribeButton,f={type:this.getDocType(),theme:this.getColorTheme(),size:t,animation:r&&"highlight",columns:o,promo:s||i,isShaded:n||m,hasSubscribeButton:m,isLetterSpacingExp:u.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),isBigLetterSpacingExp:u.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing"),isWhiteMordaDesktop:h},g=d?"_rtb-fitted":null;return Rt.a.createElement("div",{className:la.mix(ku(f),g),style:this.getCardStyle(),ref:c},this._renderImage(),this._renderShadeMask(),this._renderHoverMask(),this._renderBadges(),this._renderContent(),this._renderControls(null),this._renderFilterMask(),l(),p?this._renderControls("popup"):null)}};n(316);const xu=la("tooth-card");var Su=class extends Ot.Component{constructor(){var e;return e=super(...arguments),this._titleClampRef=(e=>this._titleClamp=e),this._textClampRef=(e=>this._textClamp=e),this._onResize=Fo(this._updateClamp,ou,this),this._onAuxClick=(e=>{0!==e.button&&1!==e.button||this.props.onClick()}),e}_updateClamp(){this._titleClamp&&this._titleClamp.clamp().then(()=>this._textClamp&&this._textClamp.clamp())}isWhiteTheme(){const e=this.props,t=e.view;return!e.image||"white"===t}getCardColors(){const e=this.props,t=e.view,n=e.cardColors,r=e.mainColor;if(this.isWhiteTheme()||"white-image"===t||"white-flat"===t)return{backgroundColor:"#ffffff",color:"#000000"};if(r){const e=Bc(r);return{backgroundColor:e.card,color:e.text}}return n?{backgroundColor:n.card,color:n.text}:void 0}getContainerStyles(){return this.getCardColors()}getImageStyles(){return this.isWhiteTheme()?null:{backgroundImage:`url(${this.props.image})`}}getFadeStyles(){const e=this.props.image,t=Lc(this.getCardColors().backgroundColor).join(),n=[`rgba(${t},1) 45%`,`rgba(${t},0.8) 53%`,`rgba(${t},0) 68%`];let r=e?`rgba(${t},0.4)`:"#e8e2da";return this.isWhiteTheme()&&(r="#f0f0f0"),{fadeStyle:{background:`linear-gradient(to bottom, ${n.join()})`},hoverStyle:{backgroundColor:r}}}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>this._updateClamp()):this._updateClamp()}componentDidUpdate(e){e.title===this.props.title&&e.text===this.props.text||this._updateClamp()}render(){const e=this.props,t=e.view,n=e.image,r=e.title,o=e.link,s=e.text,i=e.source,a=e.read,c=e.product,l=e.shouldHighlight,u=e.isIntersecting,d=e.onClick,p=e.renderFeedback,h=e.containerRef,m=e.feedbackMittensProps,f=e.onDislike,g=e.isRtbFitted,_=this.getFadeStyles(),b=_.fadeStyle,v=_.hoverStyle,y=this.getCardColors().backgroundColor,E=this.getImageStyles(),k={view:t,read:a,animation:l&&"highlight",hasImage:Boolean(n)&&!this.isWhiteTheme(),yabro:[xt,St].includes(c)},w=g?"_rtb-fitted":null,C=Rt.a.createElement(cl,{className:xu("title"),withAutoClamp:!1,ref:this._titleClampRef},r);return Rt.a.createElement("div",{className:la.mix(xu(k),w),ref:h},Rt.a.createElement(Wc,{isIntersecting:u,onResize:this._onResize}),Rt.a.createElement("a",{className:xu("link"),style:this.getContainerStyles(),onClick:d,href:o,target:"_blank",onAuxClick:this._onAuxClick},E?Rt.a.createElement("div",{className:xu("image"),style:E}):null,Rt.a.createElement("div",{className:xu("text-fade"),style:b}),Rt.a.createElement("div",{className:xu("hover-fade"),style:v}),Rt.a.createElement("div",{className:xu("read-fade"),style:{backgroundColor:y}}),Rt.a.createElement("div",{className:xu("filter-mask")}),"white-flat"!==t?Rt.a.createElement("div",{className:xu("source")},i):null,Rt.a.createElement("div",{className:xu("content")},C,s?Rt.a.createElement(cl,{className:xu("text"),withAutoClamp:!1,fitToSpace:!0,shouldResetLineCount:!0,ref:this._textClampRef},s):null),Rt.a.createElement("div",{className:xu("source-controls-wrapper",{feedbackOnly:"white-flat"!==t})},"white-flat"!==t?null:Rt.a.createElement("div",{className:xu("source")},Rt.a.createElement(Ml,{className:xu("source-title"),read:!1,textColor:"#fff",name:i})),Rt.a.createElement("div",{className:xu("feedback")},Rt.a.createElement("div",{className:xu("feedback-buttons")},Rt.a.createElement(fl,jt({},m,{theme:"tooth",color:"#fff",onDislike:f})))))),p())}};n(315),n(314);const Ou=la("blackout-filter");var Ru=e=>{let t=e.className;return Rt.a.createElement("div",{className:la.mix(Ou(),t)})},Tu=(n(313),new Yl.a({id:"rocket--inline",use:"rocket--inline-usage",viewBox:"0 0 24 24",content:'<symbol viewBox="0 0 24 24" id="rocket--inline">\n    <path fill-rule="nonzero" d="M10.245 9.45c3.437-3.465 7.254-3.673 7.62-3.3.36.36.088 4.15-3.36 7.62-.882.885-1.693 1.662-2.505 2.295v2.43c.003 1.002.026 1.035-.6 1.5-.343.252-1.797 1.445-3.36 2.4-.38.234-.696.04-.45-.3.655-.933 1.13-1.762 1.425-2.49.263-.671.262-1.266 0-1.785-1.002.316-1.835.222-2.445-.375-.619-.602-.71-1.44-.375-2.445-.529-.278-1.127-.28-1.8-.015-.73.294-1.56.769-2.49 1.425-.342.245-.537-.07-.3-.45.953-1.563 2.146-3.017 2.4-3.36.463-.625.496-.602 1.5-.6H7.95a28.32 28.32 0 0 1 2.295-2.55zm-5.37 7.965c.21.202-2.58 1.426-2.58 4.29 2.868.002 4.242-2.787 4.455-2.58.206.212-.617 1.832-1.77 2.985C3.838 23.25 2.295 24.001 0 24c.001-2.292.752-3.835 1.905-4.98 1.14-1.148 2.762-1.821 2.97-1.605zM1.05 12c-.006.484-.606.523-.6 0C.523 5.374 4.94 0 12 0c7.055 0 12 4.95 12 12 0 7.052-5.374 11.505-12 11.55-.227.001-.327-.147-.33-.3.001-.146.101-.297.33-.3 5.546.014 10.204-4.948 10.2-10.95.004-6-4.201-10.206-10.2-10.2C5.996 1.794 1.128 5.86 1.05 12z" />\n</symbol>'})),Iu=(Zl.a.add(Tu),Tu);const Nu=la("rocket");class Pu extends Ot.PureComponent{render(){const e=this.props,t=e.color,n=e.faint,r=Iu.id,o=Iu.viewBox;return Rt.a.createElement("svg",{className:Nu({faint:n}),width:"24",height:"24",viewBox:o},Rt.a.createElement("use",{style:{fill:t},xlinkHref:`#${r}`}))}}n(309);const Au=la("doc-card-header");class Lu extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._getColor=(()=>{const e=this.props,t=e.color,n=e.isDark;return t||(n?"#fff":"#000")}),this._renderShadow=(()=>{const e=this.props,t=e.isTextCard,n=e.isDesktop,r=e.read;return e.dropShadow||t||!n&&r?null:Rt.a.createElement("div",{className:Au("shadow"),style:this._getBadgeFadeStyle()})}),this._renderRocket=(()=>{const e=this.props,t=e.rocket,n=e.image,r=e.isDesktop;return!t||r?null:Rt.a.createElement("div",{className:Au("rocket")},Rt.a.createElement(Pu,{faint:!n,color:this._getColor()}),this._renderShadow())}),this._renderMenu=(()=>{const e=this.props;e.id,e.dropShadow,e.isNarrativeFeed,e.isNativeFeed,e.isChannelPage,e.buttonClassName,e.isDesktop,e.isZenLib;return null}),e}_getBadgeFadeStyle(){const e=this.props,t=e.mainColor,n=e.cardColors,r=t||n&&n.card;if(!r)return{};const o=Lc(r).join(", ");return{boxShadow:`rgba(${o}, 0.4) 0px 0px 25px 5px, rgba(${o}, 0.4) 0px 0px 60px 30px, rgba(${o}, 0.6) 0px 0px 100px 30px`}}_renderBadges(){const e=this.props,t=e.read,n=e.badges,r=e.isDesktop;return n&&0!==n.length?Rt.a.createElement("div",{className:Au("badge")},Rt.a.createElement(Wl,{badges:n,color:this._getColor(),read:t&&r}),this._renderShadow()):null}render(){const e=this.props,t=e.noAbsolute,n=e.className,r={absolute:!t};return Rt.a.createElement("div",{className:la.mix(Au(r),n)},this._renderRocket(),Rt.a.createElement("div",{className:Au("badge-holder")},this._renderBadges()),this._renderMenu())}}var Mu=[{name:"1",threshold:25},{name:"2",threshold:50},{name:"3"}],Du=n(66),ju=n(65),Bu=n(94);const Fu=Ia(ru),Uu=la("doc-card-image-view"),zu=120,Vu="blur",Hu="fade",Wu="#000000",$u="#FFFFFF",Gu=["title","text"],qu="regular-ysans",Ku=Math.min(parseFloat(Du.a),360-2*parseFloat(Du.b))-2*parseFloat(Bu.a);var Yu=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={title:au(this.props.title,zu),isSingleLineText:hu(this.props.text,Ku,{fontSize:parseFloat(ju.a),fontFamily:qu})},this._updateCardLinesCount=(()=>{const e=this.props,t=e.isDesktop,n=e.isIntersecting,r=e.isObserving;if(t||!r||n)return;const o=this._textContent.clientWidth,s=getComputedStyle&&getComputedStyle(this._textContent),i=s&&s.fontFamily&&s.fontFamily.split(", ")[0]||qu,a=hu(this.props.text,o,{fontSize:parseFloat(ju.a),fontFamily:i});this.setState({isSingleLineText:a})}),this._textContentRef=(e=>this._textContent=e),this._titleClampRef=(e=>this._titleClamp=e),this._textClampRef=(e=>this._textClamp=e),this._onResize=Fo(()=>{this._updateClamp(),this._updateCardLinesCount()},ou),this._getImageUrl=(()=>{const e=this.props,t=e.image;return e.imageSquared||t}),this._renderBlurredPreviewViewElem=(()=>{const e=`data:image/png;base64,${this.props.blurredPreview||""}`;return Rt.a.createElement("div",{className:Uu("preview"),style:{backgroundImage:`url(${e})`}})}),this._renderImageElem=(e=>{const t={backgroundImage:`url(${this._getImageUrl()})`};return Rt.a.createElement("div",{className:Uu("image",{"is-loaded":e}),style:t})}),this._renderTitle=(()=>{const e=this.props,t=e.isDesktop,n=e.titleRef,r=this.state.title;return t?Rt.a.createElement(Eu,{title:this.props.title,ref:n}):Rt.a.createElement(cl,{className:Uu("title"),withAutoClamp:!1,domRef:n,ref:this._titleClampRef,component:_u},r)}),this._renderReadFade=(()=>{const e=this.props,t=e.isDesktop,n=e.read;if(t)return null;const r=Lc($u).join(),o=this._getColors().cardColorRgb,s=n?r:o,i={backgroundImage:`linear-gradient(to top,\n                rgba(${s},1) 0%,\n                rgba(${s},1) 50%,\n                rgba(${s},0.7) 70%,\n                rgba(${s},0.5) 100%\n            )`};return Rt.a.createElement("div",{className:Uu("fade"),style:i})}),this._renderHoverMask=(()=>{const e={backgroundColor:this._getColors().hoverColor};return Rt.a.createElement("div",{className:Uu("hover-mask"),style:e})}),this._renderFeedback=(()=>{const e=this.props.renderFeedback;return e?e():null}),this._renderHeader=(()=>Rt.a.createElement(Lu,jt({},this.props,{className:Uu("header")}))),this._renderClickable=(()=>{const e=this.props,t=e.onClick,n=e.link;return Rt.a.createElement(Ul,{className:Uu("clickable"),onClick:t,href:n})}),e}componentDidMount(){window._fontsLoadPromise&&!window._isFontsLoaded?window._fontsLoadPromise.then(()=>{this._updateClamp(),this._updateCardLinesCount()}):(this._updateClamp(),this._updateCardLinesCount())}componentWillReceiveProps(e){this.setState({title:au(e.title,zu)})}componentDidUpdate(e,t){(Gu.some(t=>e[t]!==this.props[t])||this.state.isSingleLineText!==t.isSingleLineText)&&this._updateClamp(),this._updateCardLinesCount()}_getColors(){const e=this.props,t=e.cardColors,n=e.read,r=e.mainColor,o=e.isDesktop;if(r){const e=Bc(r),t=e.text,s=e.card,i=e.isDarkImage,a=Lc(s).join();return{hoverColor:i?Wu:$u,textColor:n&&!o?Wu:t,cardColor:s,cardColorRgb:a}}const s=t?t.card:$u,i=Lc(s).join(),a=!n&&t?t.text:Wu;return{hoverColor:Bc(s).isDarkImage?Wu:$u,textColor:a,cardColor:s,cardColorRgb:i}}_shouldRenderText(){return!iu(this.props.type)&&this.props.text}_updateClamp(){let e;(e=this._shouldRenderText()&&this._textClamp?this._textClamp.clamp():Promise.resolve()).then(()=>this._titleClamp&&this._titleClamp.clamp())}_renderFadeImage(){const e=this.props.isDesktop,t=this._getColors().cardColorRgb,n={backgroundImage:`linear-gradient(to top, ${(e?[[1,0],[.88,11],[.75,17],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]]:[[1,0],[.94,8],[.68,19],[.46,30],[.3,38],[.2,45],[.11,50],[.05,54],[0,100]]).map(e=>{let n=e[0],r=e[1];return`rgba(${t}, ${n}) ${r}%`}).join()})`},r=this._getImageUrl();return Rt.a.createElement("div",{className:Uu("image-container")},Rt.a.createElement(Rl,{imageUrl:r,renderImage:this._renderImageElem,renderPlaceholder:this._renderBlurredPreviewViewElem}),Rt.a.createElement("div",{className:Uu("image-fade"),style:n}))}_renderBlurImage(){const e=this.props,t=e.image,n=e.blurredPreview,r=e.cardBackgroundImage,o=e.cardBackgroundWhiteImage,s=e.read,i=this._getColors().cardColor;return Rt.a.createElement(Nl,{theme:"white",image:t,blurredPreview:n,cardBackgroundImage:r,cardBackgroundWhiteImage:o,isRead:s,isBlurred:s,size:"small",color:i,aspectRatioMode:"tall"})}_renderImage(){switch(this._getRenderType()){case Hu:return this._renderFadeImage();case Vu:return this._renderBlurImage()}}_renderContent(){const e=this.props,t=e.text,n=e.isIntersecting,r=t&&!this.state.isSingleLineText;return Rt.a.createElement(Wc,{isIntersecting:n,onResize:this._onResize},Rt.a.createElement("div",{className:Uu("content")},Rt.a.createElement("div",{className:Uu("text-content"),ref:this._textContentRef},this._renderTitle(),this._shouldRenderText()?Rt.a.createElement(cl,{className:Uu("text"),withAutoClamp:!1,minLineCount:r?2:1,fitToSpace:!0,ref:this._textClampRef},t):null),this._renderSourceName()))}_renderSourceName(){const e=this.props,t=e.feedLink,n=e.logger,r=e.domainTitle,o=(e.type,e.commentsCount),s=e.feedbackMittensProps,i=this._getColors().textColor,a=Uu("source-name",{with_counter:o>=0&&s.isEnabled}),c={textColor:i,name:r};return Rt.a.createElement("div",{className:a},Rt.a.createElement(jl,{link:t,logger:n},Rt.a.createElement(Ml,c)))}_renderMittens(e){void 0===e&&(e=null);const t=this.props,n=t.feedbackMittensProps,r=t.onDislike,o=t.moveDislike,s=t.noDislike;if(!n.isEnabled)return null;const i=this._getColors().textColor,a=Object.assign({},n,{color:i,onDislike:r,onlyLike:o||s,type:e});return Rt.a.createElement("div",{className:Uu("mittens",{type:e})},Rt.a.createElement(fl,a))}_renderSubscribeButton(){const e=this.props,t=e.feedbackSubscribeProps,n=e.logger,r=e.isMobile,o=t.hasSubscribeButton,s=this._getColors().textColor,i={borderColor:s,color:s,opacity:.7},a=Object.assign({},t,{style:i,isVisible:o,logger:n,isMobile:r});return Rt.a.createElement("div",{className:Uu("subscribe-button")},Rt.a.createElement(ql,a))}_getRenderType(){const e=this.props,t=e.type,n=e.text;if(iu(t))return Hu;const r=!n,o=n&&this.state.isSingleLineText;return r||o?Hu:Vu}_renderCommentsCounter(){const e=this.props,t=e.commentsCount,n=e.commentsLink,r=e.logger,o=e.isMobile,s=e.feedbackMittensProps,i=(e.type,e.read),a=e.onClick,c=this._getColors(),l=c.textColor,u=c.cardColor,d=c.readColorRgb;return Rt.a.createElement(Fu,{textColor:i?d:u,balloonColor:l,link:n,count:t,logger:r,isTouch:o,isCardImage:!0,feedbackMittensIsDisabled:!s.isEnabled,onClick:a})}render(){const e=this.props,t=e.feedback,n=e.image,r=e.read,o=e.type,s=e.experiments,i=e.feedbackSubscribeProps,a=e.isDesktop,c=e.columnCount,l=e.isDark,u=e.isRtbFitted,d=e.isExtendFeedbackPopupExp,p=e.isWhiteMordaDesktop,h=i.hasSubscribeButton,m=this._getRenderType(),f=this._getColors(),g=f.textColor,_=f.cardColor,b=pu(this.state.title,Mu),v=s.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),y=s.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing"),E=Uu({read:r,type:o,feedback:t,image:Boolean(n),hasSubscribeButton:h,renderType:m,fontSize:b,isDesktop:a,columns:c,isDark:l,isLetterSpacingExp:v,isBigLetterSpacingExp:y,rtbFitted:u,isWhiteMordaDesktop:p}),k={color:g,backgroundColor:_};return Rt.a.createElement("div",{className:E,style:k},this._renderClickable(),this._renderImage(),this._renderReadFade(),this._renderHoverMask(),this._renderContent(),this._renderHeader(),this._renderCommentsCounter(),this._renderMittens(),this._renderSubscribeButton(),this._renderFeedback(),d?this._renderMittens("popup"):null,Rt.a.createElement(Ru,null))}};const Qu=e=>t=>{const n=mn(t=>{const n=Zr(t);return e(n)},null,null,{shouldHandleStateChanges:!1})(t);return n.displayName=`WithSessionContext(${cc(t)})`,n},Zu=e=>({to:t=>Zu(t(e)),value:e}),Ju=50,Xu=250,ed=la("doc");const td={docShow:Fc,docShort:e=>({type:"DOC_SHORT",statEvent:"short",payload:{id:e}}),docClick:Uc,docRead:e=>({type:"DOC_READ",payload:{id:e}}),requestSimilar:e=>(t,n)=>{const r=n(),o=r.feed.items[e],s=Zr(r).zenApi;if(o.childItemId||o.isSimilarRequested)return;const i=vr(r.feed),a=i.rows[i.elements[e].row+1];let c=o.similarLink;js(a,A)&&(c=c.replace("_type_","ad")),t({type:"REQUEST_SIMILAR",payload:{itemId:e}}),s.getSimilar(c).then(n=>{t({type:"RECEIVE_SIMILAR",payload:{itemId:e,similar:n}});const r=n.items,o=r.sourcesIds,s=r.docs,i=r.direct,a=r.rtb;o.length+s.length+i.length+a.length!==0&&t(As(e,Object.assign({},n,{items:{sourcesIds:o,docs:s,direct:i,rtb:a}})))})},removeChildItem:Ls,itemMittensJump:(e,t)=>({type:"ITEM_MITTENS_JUMP",payload:{id:e,isMittensJumping:t}}),insertUserQuestion:e=>(t,n)=>{const r=n(),o=r.feed.items[e],s=Oo(r,o.id);if(o.isUserQuestionAnswered||!s)return;const i=(e=>{const t=e.id,n=e.bulkParams,r=e.statEvents;return{type:"user-feedback-question",id:re("user-feedback-question"),parentId:t,bulkParams:n,statEvents:r}})(o);setTimeout(()=>{t(As(e,i))},500)}};var nd=Zu(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={shouldHighlight:!1},this._containerRef=Object(Ot.createRef)(),this._onClick=(()=>{const e=this.props,t=e.id,n=e.needSimilar,r=e.feedback,o=e.similarLink,s=e.requestSimilar,i=e.itemMittensJump,a=e.docClick,c=e.docRead,l=e.shouldAskUserQuestion,u=e.shouldScrollOnOpenCard,d=e.insertUserQuestion,p=(e.getExport,e.disableScrollToCard);u&&this._scrollToElement({shouldDisableScrollToFirstRow:!1,disableScroll:p}),a(t),l?d(t):n&&s(t,o),Kr().then(()=>{qe(500).then(()=>c(t)),r||qe(1500).then(()=>i(t,!0)).then(()=>qe(1e3)).then(()=>i(t,!1))})}),this._onDislike=(()=>{const e=this.props,t=e.id,n=e.needSimilar,r=e.removeChildItem;n&&r(t)}),this._setPackShown=(()=>{const e=this.props,t=e.packId;e.zenApi.packShown(t)}),this._sendShowStat=(()=>{const e=this.props,t=e.id,n=e.docShow,r=e.pixels,o=(e.columnCount,e.zenLogger);n(t),r&&r.forEach(e=>{const t=new Image;t.onerror=(()=>o.error(`Error while calling pixel (desktop); ${e}`)),t.src=e}),this._setPackShown()}),this._sendShortStat=(()=>{const e=this.props,t=e.id;(0,e.docShort)(t)}),this._scrollToElement=(e=>{const t=e=e||{},n=t.animate,r=void 0!==n&&n,o=t.highlight,s=void 0!==o&&o,i=t.offsetTop,a=void 0===i?Ju:i,c=t.disableScroll,l=void 0!==c&&c,u=this._containerRef.current;if(!u||l||0===this.props.rowIndex&&e.shouldDisableScrollToFirstRow)return Promise.resolve();this.state.shouldHighlight&&this.setState({shouldHighlight:!1});const d=Rs(u);return Os.scrollTo({top:d-a,animate:r}).then(()=>{if(s)return qe(Xu).then(()=>{this.setState({shouldHighlight:!0})})})}),this._onFeedbackClick=(e=>{e.preventDefault(),e.stopPropagation()}),this._renderFeedback=(()=>{const e=this.props,t=e.logger,n=e.feedback,r=e.feedbackProps,o=e.mainColor,s=e.isExtendFeedbackPopupExp;return r.isEnabled&&(n&&"liked"!==n||s)?s?Rt.a.createElement(Ac,jt({mainColor:o,className:ed("feedback-popup-view"),logger:t},r,{theme:"white"})):Rt.a.createElement("div",{className:ed("feedback-wrapper"),onClick:this._onFeedbackClick},Rt.a.createElement(Ac,jt({logger:t},r))):null}),this._renderNarrativeCard=(()=>{const e=this.props,t=e.cardColors,n=e.read,r=e.mainColor,o=this.state.shouldHighlight,s=Object.assign({},this.props,{shouldHighlight:o,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef,isDesktop:!0,isDark:Dc({isDesktop:!0,cardColors:t,read:n,mainColor:r})});return Rt.a.createElement(Yu,s)}),e}_getToothType(){const e=this.props,t=e.rowIndex,n=e.teethType,r=e.isTeethEnabled;if(0===t&&r)return n}_renderDocCard(){const e=Object.assign({},this.props,{shouldHighlight:this.state.shouldHighlight,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef});return Rt.a.createElement(Cu,e)}_renderToothCard(e){const t=this.props,n=t.isIntersecting,r=(t.intersectionRatio,Object.assign({},this.props,{isIntersecting:n,shouldHighlight:this.state.shouldHighlight,view:e,source:this.props.domain,onClick:this._onClick,onDislike:this._onDislike,renderFeedback:this._renderFeedback,containerRef:this._containerRef}));return Rt.a.createElement(pc,{isVisible:n,onShow:this._sendShortStat,timeout:500,shouldResetOnVisibilityChange:!0},Rt.a.createElement(Su,r))}_emitCard(){const e=this.props,t=e.statEvents,n=e.bulkParams,r=e.rowIndex,o=e.itemIndexInRow,s=e.domainTitle,i=e.title,a=e.itemOrder,c=e.id,l=e.zenApi,u={rowIndex:r};r<2&&this._containerRef.current&&_t.emit(bt.PROMO_CARD,{id:c,scrollTo:this._scrollToElement,domainTitle:s,title:i,itemIndexInRow:o,rowIndex:r,index:a,container:this._containerRef.current,sendPreviewShow:l.logBulkEvent.bind(l,{event:t.show_teaser,bulkParams:n,statMeta:u}),sendPreviewClick:l.logBulkEvent.bind(l,{event:t.click_teaser,bulkParams:n,statMeta:u})})}componentDidMount(){this._emitCard()}render(){const e=this.props,t=e.isVisible,n=e.type,r=(e.packId,e.exportRid,this._getToothType());let o=r?this._renderToothCard(r):n===j?this._renderNarrativeCard():this._renderDocCard();return o=Rt.a.createElement(pc,{isVisible:t,onShow:this._sendShowStat},o)}}).to(Qu(e=>{return{zenApi:e.zenApi,zenLogger:e.zenLogger}})).to(mn(()=>{const e=ko(),t=Do(),n=Bo(),r=Ao(),o=Object(vn.createSelector)(Kn,Hn,qn,Zn,(e,t)=>e.sources[e.feed.items[t].source],...Lo.map(e=>(t,n)=>t.feed.items[n][e]),function(e,t,n,r,o){for(var s=arguments.length,i=new Array(s>5?s-5:0),a=5;a<s;a++)i[a-5]=arguments[a];const c=i[0],l=i[1],u=i[2],d=i[3],p=i[4],h=i[5],m=o.status,f=o.isSubscribedInCurrentSession,g="subscribed"===m;return{id:c,source:o,triggerEvent:u[d],isSubscribed:g,hasSubscribeButton:(![wt,xt,St].includes(t)||l===N)&&(!g||f)&&("liked"===p||h)&&!n&&!r}});return(s,i)=>{let a=i.id,c=i.rowIndex;const l=s.params,u=s.feed,d=s.yabro,p=u.items[a],h=l.product,m=l.libType,f=rr(s),g=e(Object.assign({},p,{rowIndex:c})),_=(ur(s)?n:t)(s,a),b=r(s,a),v=o(s,a),y=nr(s),E=er(s),k=Kn(s),w=Yn(s),C=tr(s),x=fr(u),S=Jn(s),O=Boolean(Oo(s,a)),R=mr(s,a),T=Xn(s),I=d&&d.exportRid,N=Sr(s),P=s.sources[p.source],A=((e,t)=>{let n=e.commentsDocumentId,r=e.commentsData,o=e.feed;const s=o&&o.items&&o.items[t];let i=void 0;return!n&&s&&(n=s.commentsDocumentId),n&&r[n]&&"number"==typeof r[n].count&&(i=r[n].count),i})(s,a),L=w.safeGet("rezen_extend_feedback.is_popup",!1),M=Tr(s);return Object.assign({product:h,isTeethEnabled:y,teethType:E,theme:f,needSimilar:S,logger:g,feedbackProps:_,feedbackMittensProps:b,feedbackSubscribeProps:v,libType:m,isImageLazyLoadEnabled:C,columnCount:x,experiments:k,shouldAskUserQuestion:O,itemOrder:R,shouldScrollOnOpenCard:T,exportRid:I,isRtbFitted:N},p,{source:P,commentsCount:A,isExtendFeedbackPopupExp:L,isWhiteMordaDesktop:M})}},td)).value;const rd=(e,t)=>(n,r)=>{const o=r().feed.itemsOrder.indexOf(e);n({type:"VIDEO_CARD_CHANGE_INTERSECTING",payload:{id:e,intersecting:t,index:o}})},od=(e,t)=>(n,r)=>{const o=r().feed.itemsOrder.indexOf(e);n({type:"VIDEO_CARD_CHANGE_VISIBILITY",payload:{id:e,visible:t,index:o}})},sd=e=>({type:"VIDEO_CARD_CHANGE_INTERACTION",payload:{id:e}}),id=e=>({type:"VIDEO_CHANGE_ACTIVE_CARD",payload:e}),ad=e=>(t,n)=>{t({type:"VIDEO_MODAL_TOGGLE",payload:{openedItem:n().feed.items[e]}})},cd=(bn(e=>gt.getVideoRecommend().then(t=>{if(0===t.length)throw new Error("no recommends");const n={};e({type:"VIDEO_MODAL_GET_RECOMMEND",payload:{videoFeed:t.reduce((e,t)=>{const r=t.id,o=t.source,s=t.statParams,i=t.statEvents,a=t.bulkParams;return n[o.id]||(n[o.id]=Object.assign({},o,{statParams:s,statEvents:i,bulkParams:a})),Object.assign({[r]:Object.assign({},t,{source:o.id})},e)},{})}}),e({type:"VIDEO_MODAL_SET_SOURCES",payload:{sources:n}})}),{timeouts:[1e3,3e3,5e3]}),4e3),ld={PLAYBACK_NOT_STARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,QUEUED:5},ud={short:"short",show:"show",click:"click","feedback:more":"feedback:more","feedback:less":"feedback:less","feedback:block":"feedback:block","feedback:cancel_less":"feedback:cancel_less","feedback:cancel_more":"feedback:cancel_more","feedback:cancel_block":"feedback:cancel_block",play:"play",pause:"pause",end:"end",autoplay:"autoplay",autopause:"autopause",sound_on:"sound_on",sound_off:"sound_off",action:"action",autoplay_on:"autoplay_on",autoplay_off:"autoplay_off",heartbeat:"heartbeat",replay:"replay"},dd="PLAY_BUTTON_CLICK",pd=()=>{switch(Hr.getItem("zen-video-autoplay")){case"1":return!0;case"0":return!1;default:return}},hd=e=>{Hr.setItem("zen-video-autoplay",e?"1":"0")};var md=e=>{class t extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={started:!1},this._onPlayerDestroy=(()=>{this.setState({started:!1})}),this._sendShowStat=(()=>{const e=this.props,t=e.logger,n=e.pixels;t.log(ud.show),!this._pixelsExist&&n&&(n.forEach(e=>{const t=new Image;t.onerror=(()=>console.error(`Error while calling pixel (desktop video); ${e}`)),t.src=e}),this._pixelsExist=!0)}),e}componentDidMount(){const e=this.props,t=e.autoplay,n=e.videoAutoplay;if("boolean"!=typeof t){const e=pd();n("boolean"!=typeof e||e)}}componentDidUpdate(e){const t=this.state.started,n=e.paused,r=e.isIntersecting,o=e.isVisible,s=this.props,i=s.id,a=s.isIntersecting,c=s.isVisible,l=s.paused,u=s.interactive,d=s.logger,p=s.setIntersecting,h=s.setVisibility;t||l||this.setState({started:!0}),r!==a&&p(i,a),o!==c&&h(i,c),!n||l||u||d.log(ud.autoplay),n||!l||u||d.log(ud.autopause)}render(){const t=this.props.isVisible,n=this.state.started,r=Object.assign({},this.props,{started:n,onDestroy:this._onPlayerDestroy});return Rt.a.createElement(pc,{isVisible:t,onShow:this._sendShowStat},Rt.a.createElement(e,r))}}t.defaultProps={paused:!0,muted:!0,shouldInitPlayer:!1,interactive:!1};return mn(()=>{const e=Do(),t=Bo(),n=Ao(),r=ko();return(o,s)=>{let i=s.id;const a=o.feed.items[i],c=(ur(o)?t:e)(o,i),l=n(o,i),u=r(a,"feed"),d=o.sources[a.source],p=o.videoModal.openedItemId===i,h=o.iface.isVideoAutoplayEnabled,m=o.videoCards.interactionCardId===i;return Object.assign({},a,{feedbackProps:c,feedbackMittensProps:l,logger:u,source:d,isModalOpen:p,autoplay:h,interactive:m})}},{videoAutoplay:oo,setIntersecting:rd,setVisibility:od,setLastInteractedCard:sd,setActiveCard:id,toggleVideoModal:ad})(t)};n(308),n(303);const fd=la("video_autoplay");class gd extends Ot.PureComponent{render(){const e=this.props,t=e.autoplay,n=e.onAutoplayClick;return Rt.a.createElement("div",{className:fd("wrapper",{active:t}),onClick:n},"Автовоспроизведение",Rt.a.createElement("div",{className:fd("outer")},Rt.a.createElement("div",{className:fd("inner")})))}}n(302),n(301),n(300);const _d=la("spinner");class bd extends Ot.PureComponent{render(){const e=this.props.dots,t=new Array(e).fill().map((e,t)=>Rt.a.createElement("div",{key:t,className:_d("dot",{[`dot-index_${t}`]:!0})}));return Rt.a.createElement("div",{className:_d()},t)}}bd.defaultProps={dots:5};const vd=la("video-loader");function yd(e){const t=e.visible,n=e.className,r=Bt(e,["visible","className"]),o=la.mix(vd({visible:t}),n);return Rt.a.createElement("div",jt({className:o},r),Rt.a.createElement(bd,null))}const Ed=(e,t)=>{const n={};return r=>{var o=e,s=Array.isArray(o),i=0;for(o=s?o:o[Symbol.iterator]();;){var a;if(s){if(i>=o.length)break;a=o[i++]}else{if((i=o.next()).done)break;a=i.value}const e=a;!n[e]&&r>=e&&(n[e]=!0,t(e))}}},kd=la("video-player");class wd extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),Cd.call(this),e}componentDidMount(){const e=this.props,t=e.shouldInitPlayer,n=e.logger,r=e.video.heartbeatTimes;this._heartbeatHandler=Ed(r,e=>{n.log(ud.heartbeat,{global:{_video_pos_:e}})}),t&&this._initPlayer()}componentWillUnmount(){this._player&&this._player.destroy(),this._initPlayer.cancel(),Object.keys(this._cancelableHandlers).forEach(e=>this._cancelableHandlers[e].cancel())}componentDidUpdate(e){const t=e.muted,n=e.video,r=e.paused,o=this.props,s=o.paused,i=o.muted,a=o.video,c=o.shouldInitPlayer;if(!this._player&&c&&this._initPlayer(),r&&!s&&this._resetLoop(),this._player){const e=this._player.getState();e===ld.PLAYING||s?e!==ld.PAUSED&&s&&this._player.pause():this._player.play(),t!==i&&this._player.setMuted(i),n.id!==a.id&&this._updateConfig(),c||this._destroy()}}_renderLoader(){const e=this.props.paused,t=this.state.loading;return Rt.a.createElement(yd,{visible:t&&!e})}render(){const e=this.props,t=e.className,n=e.style,r=la.mix(kd(),t);return Rt.a.createElement("div",{className:r,style:n},this._renderLoader(),Rt.a.createElement("div",{className:kd("container"),style:n,ref:this._containerRef}))}}wd.defaultProps={maxBufferLength:7,preload:!0,hidden:"*",size:{width:"100%",height:"100%"},handlers:{},shouldInitPlayer:!1,paused:!0,muted:!0};var Cd=function(){var e=this;this.state={loading:!1},this._initStarted=!1,this._cancelableHandlers={},this._previousTime=0,this._loopCounter=1,this._loopPaused=!1,this._loopTimeCounter=300,this._latestMuted=!0,this._containerRef=Cl()(e=>{this._containerElem=e}),this._resetLoop=(()=>{this._player?this._loopTimeCounter=this._player.getWatchedTime()+300:this._loopTimeCounter=300,this._loopCounter=1,this._loopPaused=!1}),this._onReady=(()=>{this._resetLoop()}),this._onCurrentTimeChange=((e,t,n)=>{const r=this.props,o=r.logger,s=r.stopLoop;this._heartbeatHandler(n);const i=this._previousTime>e;this._previousTime=e,n>=this._loopTimeCounter&&!this._loopPaused?(s(),o.log(ud.autopause),this._loopPaused=!0):i&&(5===this._loopCounter?(s(),o.log(ud.end),this._loopCounter=1):(o.log(ud.end),o.log(ud.replay),this._loopCounter++))}),this._onStateChange=(e=>{const t=this.props.logger,n=this.state.loading;switch(e){case ld.PLAYING:"play"===this._latestUserAction&&(t.log(ud.play),this.setState({paused:!1})),n&&this.setState({loading:!1});break;case ld.PAUSED:"pause"===this._latestUserAction&&(t.log(ud.pause),this.setState({paused:!0})),n&&this.setState({loading:!1});break;case ld.BUFFERING:n||this.setState({loading:!0})}this._latestUserAction=null}),this._onUserAction=(e=>{if(e.name===dd){const t=(e.data||{}).state;switch(t){case"play":this._resetLoop(),this._latestUserAction=t;break;case"pause":this._latestUserAction=t}}}),this._onVolumeChange=(e=>{const t=this.props.logger,n=0===e;this._latestMuted!==n&&(n?t.log(ud.sound_off):t.log(ud.sound_on),this._latestMuted=n)}),this._prepareHandlers=(()=>{const t=Object.assign({},this.props.handlers),n=t.onStateChange,r=t.onUserAction,o=t.onVolumeChange,s=t.onCurrentTimeChange,i=t.onReady;t.onStateChange=function(){e._onStateChange(...arguments),n&&n(...arguments)},t.onCurrentTimeChange=function(){e._onCurrentTimeChange(...arguments),s&&s(...arguments)},t.onUserAction=function(){e._onUserAction(...arguments),r&&r(...arguments)},t.onVolumeChange=function(){e._onVolumeChange(...arguments),o&&o(...arguments)},t.onReady=(()=>{this._onReady(),i&&i()}),this._cancelableHandlers=Object.keys(t).reduce((e,n)=>Object.assign({},e,{[n]:Cl()(t[n])}),{})}),this._prepareSource=(()=>{const e=this.props.video;return{streamUrl:e.id,loop:!1!==e.loop,additionalParams:e.additionalParams}}),this._updateConfig=o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._prepareHandlers(),n=e._prepareSource(),e._previousTime=0,!e.props.isIE){t.next=11;break}return t.next=6,e._player.destroy();case 6:e._initStarted=!1,e._player=null,e._initPlayer(),t.next=13;break;case 11:return t.next=13,e._player.setSource(n);case 13:case"end":return t.stop()}},t,this)})),this._initPlayer=Cl()(o(regeneratorRuntime.mark(function t(){var n,r,o,s,i,a,c,l,u,d,p,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e._initStarted){t.next=2;break}return t.abrupt("return");case 2:return e._initStarted=!0,n=e.props,r=n.maxBufferLength,o=n.muted,s=n.preload,i=n.hidden,a=n.size,c=n.video,l=c.id,u=c.hasSound,d=n.objectFit,p=n.paused,e._previousTime=0,t.next=7,Tn("https://yastatic.net/yandex-video-player-iframe-api/js/video-player-iframe-api-loader.js");case 7:return h=e._prepareSource(),e._prepareHandlers(),t.next=11,window.Ya.streamPlayer.init({version:"1.0-573",element:e._containerElem,handlers:e._cancelableHandlers,source:h,maxBufferLength:r,muted:o||!u,preload:s,hidden:i,size:a});case 11:e._player=t.sent,l!==e.props.video.id?e._updateConfig():(e._player.setVideoStyle({objectFit:d}),p||e._player.play());case 13:case"end":return t.stop()}},t,this)}))),this._destroy=(()=>{const t=this.props,n=t.destroyTimeout,r=void 0===n?2e3:n,s=t.onDestroy;this._destroyTimeout=setTimeout(o(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.shouldInitPlayer,!e._player||n){t.next=7;break}return t.next=4,e._player.destroy();case 4:e._initStarted=!1,e._player=null,s&&s();case 7:case"end":return t.stop()}},t,this)})),r)})};const xd=la("video-card");class Sd extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={hideControls:!1},this._getSoundTitle=(()=>{const e=this.props,t=e.muted;return e.hasSound?t?"Включить звук":"Выключить звук":"Видео без звука"}),e}_renderPlayer(){const e=this.props,t=e.playerProps,n=e.onClick;return Rt.a.createElement(wd,jt({className:xd("player-wrapper")},t,{onClick:n}))}_renderPreview(){const e=this.props,t=e.started,n=e.size,r=e.image,o=e.bigImage,s={backgroundImage:`url(${n!==H&&o?o:r})`};return t?null:Rt.a.createElement("div",{className:xd("preview",{started:t}),style:s})}_renderControls(){const e=this.props,t=e.muted,n=e.autoplay,r=e.onMuteClick,o=e.onAutoplayClick,s=e.hasSound,i=Rt.a.createElement("div",{className:xd("mute",{active:s&&!t,noSound:!s}),onClick:r,title:this._getSoundTitle()}),a=Rt.a.createElement(gd,{autoplay:n,onAutoplayClick:o});return Rt.a.createElement("div",{className:xd("controls")},i,a)}_renderPlayButton(){const e=this.props.paused;return Rt.a.createElement("div",{className:xd("play_button",{visible:e})})}_renderTitle(){const e=this.props.title;return Rt.a.createElement(cl,{className:xd("title"),component:_u},e)}_renderDomain(){const e=this.props,t=e.domainTitle,n=e.feedLink,r=e.logger;return Rt.a.createElement("div",{className:xd("domain")},Rt.a.createElement(jl,{link:n,logger:r},Rt.a.createElement(Ml,{textColor:"#fff",name:t})))}_renderMittens(e){void 0===e&&(e=null);const t=this.props.feedbackMittensProps;return Rt.a.createElement("div",{className:xd("mittens")},Rt.a.createElement(fl,jt({},t,{color:"#fff",type:e})))}_renderFeedback(){const e=this.props,t=e.logger,n=e.feedbackProps,r=e.feedback,o=e.isExtendFeedbackPopupExp;return n.isEnabled&&(r&&"liked"!==r||o)?o?Rt.a.createElement(Ac,jt({mainColor:"rgb(0,0,0)",className:xd("feedback-popup-view"),logger:t},n,{theme:"white"})):Rt.a.createElement("div",{className:xd("feedback-wrapper")},Rt.a.createElement(Ac,jt({logger:t},n))):null}_renderFeedbackControls(){return Rt.a.createElement("div",{className:xd("feedback-controls")},Rt.a.createElement("div",{className:xd("bottom")},this._renderDomain(),this._renderMittens("popup")))}render(){const e=this.props,t=e.onAuxClick,n=e.started,r=e.paused,o=e.onClick,s=e.isIntersecting,i=e.controlsHidden,a=e.link,c=e.rtbFitted,l=e.withShadows,u=e.isExtendFeedbackPopupExp,d={visible:s,started:n,paused:r,isExtendFeedbackPopupExp:u,withShadows:l},p=c?"_rtb-fitted":null;return Rt.a.createElement("div",{className:la.mix(xd(d),p)},this._renderPreview(),Rt.a.createElement("a",{className:xd("content",{hidden:i}),href:a,target:"_blank",rel:"noopener",onClick:o,onAuxClick:t},this._renderPlayButton(),this._renderControls(),this._renderTitle(),Rt.a.createElement("div",{className:xd("bottom")},this._renderDomain(),this._renderMittens())),this._renderPlayer(),this._renderFeedback(),u?this._renderFeedbackControls():null)}}const Od={activeCard:{id:null,paused:!1,muted:!0},interactionCardId:null,visibleCardIndices:{},intersectingCardIndices:{}},Rd=(e,t,n,r)=>{const o=e[n],s=t.payload,i=s.id,a=s.index,c=s[r],l=Object.assign({},o);return c?l[i]=a:delete l[i],Object.assign({},e,{[n]:l})};const Td=Object(vn.createSelector)((e,t)=>t,e=>e.videoModal.openedItemId,e=>{const t=e.videoCards,n=t.interactionCardId;if(void 0!==t.intersectingCardIndices[n])return n},(e,t)=>e.feed.items[t].video.autoplay&&e.iface.isVideoAutoplayEnabled,(e,t)=>{const n=e.videoCards.visibleCardIndices;if(0===n.length)return!1;const r=Object.values(n);return n[t]===Math.min.apply(void 0,r)},(e,t,n,r,o)=>!(t||n&&n!==e)&&(n===e||!!r&&o)),Id=(e,t,n)=>{return(e.videoCards.activeCard.id===t?e.videoCards:Od).activeCard[n]};var Nd=Object(zi.a)(mn(()=>{const e=Object(vn.createSelector)(Td,(e,t)=>{const n=e.feed.items[t].feedback;return n&&"liked"!==n},(e,t)=>Id(e,t,"paused"),(e,t)=>Id(e,t,"muted"),(e,t,n,r)=>!e||t?{paused:!0,muted:!0}:{paused:n,muted:r});return(t,n)=>{let r=n.id;const o=Kn(t),s=Yn(t),i=o.isExp("ab:rezen_video_modal:enable"),a=s.safeGet("rezen_extend_feedback.is_popup",!1),c=Sr(t),l=e(t,r);return{paused:l.paused,muted:l.muted,hasModal:i,rtbFitted:c,withShadows:Tr(t),isExtendFeedbackPopupExp:a}}}),md)(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={controlsHidden:!1},this._changeActiveCard=(e=>{const t=this.props,n=t.id,r=t.paused,o=t.muted;(0,t.setActiveCard)(Object.assign({id:n,paused:r,muted:o},e))}),this._hideControls=Cl()(e=>{this.setState({controlsHidden:e})}),this._onAuxClick=(e=>{if(1===e.button){const e=this.props,t=e.id,n=e.paused,r=e.setLastInteractedCard,o=e.logger;r(t),n||(this._changeActiveCard({paused:!0}),o.log(ud.pause))}}),this._onClick=(e=>{const t=this.props,n=t.id,r=t.setLastInteractedCard,o=t.logger;if(r(n),!e.ctrlKey&&!e.metaKey||0!==e.button){if(this.props.hasModal){const e=this.props,t=e.id,n=e.logger,r=e.paused,o=e.toggleVideoModal;e.isModalOpen||(n.log(ud.click),o(t),r||(this._changeActiveCard({paused:!0}),n.log(ud.pause)))}else{const e=this.props,t=e.paused,n=e.logger;n.log(ud.click),this._changeActiveCard({paused:!t}),n.log(t?ud.play:ud.pause)}e.preventDefault()}else this.props.paused||(this._changeActiveCard({paused:!0}),o.log(ud.pause))}),this._onMuteClick=(e=>{const t=this.props,n=t.id,r=t.muted,o=t.logger,s=t.video.hasSound;(0,t.setLastInteractedCard)(n),s&&(o.log(r?ud.sound_on:ud.sound_off),this._changeActiveCard({muted:!r})),e.stopPropagation(),e.preventDefault()}),this._onAutoplayClick=(e=>{const t=this.props,n=t.id,r=t.autoplay,o=t.paused,s=t.logger,i=t.videoAutoplay;(0,t.setLastInteractedCard)(n);const a=!r;hd(a),i(a),s.log(a?ud.autoplay_on:ud.autoplay_off),o&&a&&s.log(ud.autoplay),o||a||s.log(ud.autopause),this._changeActiveCard({paused:r}),e.stopPropagation(),e.preventDefault()}),this._stopLoop=(()=>{this._changeActiveCard({paused:!0})}),e}componentWillUnmount(){this._hideControls.cancel()}componentDidUpdate(e){const t=e.paused,n=this.props.paused;t&&!n&&(this._hideControls(!1),setTimeout(()=>this._hideControls(!0),cd)),!t&&n&&this._hideControls(!1)}render(){const e=this.props,t=e.started,n=e.paused,r=e.muted,o=e.video,s=e.link,i=e.isIntersecting,a=e.logger,c=e.size,l=e.rtbFitted,u=e.onDestroy,d=e.isExtendFeedbackPopupExp,p=e.withShadows,h=this.state.controlsHidden,m={video:o,shouldInitPlayer:t&&i,logger:a,objectFit:c===H?"cover":"contain",isIntersecting:i,paused:n,muted:r,onDestroy:u,stopLoop:this._stopLoop,handlers:{onCurrentTimeChange:this._onCurrentTimeChange}},f=Object.assign({},this.props,{link:s,started:t,hasSound:o.hasSound,onAuxClick:this._onAuxClick,onClick:this._onClick,onMuteClick:this._onMuteClick,onAutoplayClick:this._onAutoplayClick,playerProps:m,controlsHidden:h,rtbFitted:l,isExtendFeedbackPopupExp:d,withShadows:p});return Rt.a.createElement(Sd,f)}});n(299);var Pd=e=>{class t extends Ot.Component{render(){const t=this.props,n=t.isVisible,r=t.logger,o=t.onShow,s=t.sendShow,i=t.sendDeepwatch;return Rt.a.createElement(pc,{logger:r,onShow:o,isVisible:n,sendShow:s,sendDeepwatch:i},Rt.a.createElement(e,this.props))}}return t.displayName=`WithShowLogger(${cc(e)})`,t};const Ad=e=>{return class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._onClick=(e=>{const t=this.props,n=t.logger,r=t.onClick;n.log("click"),r&&r(e)}),e}render(){const t=Object.assign({},this.props,{onClick:this._onClick});return Ot.createElement(e,t)}}};var Ld=e=>{return class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._loggerSelector=wo(),e}render(){return Rt.a.createElement(e,jt({},this.props,{logger:this._loggerSelector(this.props)}))}}};const Md=la("hint-eula");var Dd=Object(zi.a)(mn((e,t)=>{let n=t.id;const r=rr(e),o=e.feed.items[n];return Object.assign({theme:r},o)}),Ld,Ad,Pd)(class extends Ot.PureComponent{render(){const e=this.props,t=e.theme,n=e.link,r=e.rootRef,o=e.onClick;return Rt.a.createElement("div",{className:Md({theme:t}),ref:r},Rt.a.createElement("div",{className:Md("text")},"Пролистывая далее, вы соглашаетесь с условиями пользовательского соглашения Яндекс Дзен."),Rt.a.createElement("a",{href:n,className:Md("link"),target:"_blank",rel:"noopener",onClick:o},"Читать полный текст пользовательского соглашения"))}});n(298);var jd=e=>{let t=e.tag,n=void 0===t?"div":t,r=e.text,o=e.attrs;const s=(0,e.stylesFormatter)(r,o,Bt(e,["tag","text","attrs","stylesFormatter"]));return Rt.a.createElement(n,jt({},o,{style:s}),r)};const Bd=e=>(t,n,r)=>{let o=r.warning;const s=t.length;let i;return i=s<=20?e.big:s<=40&&!o?e.medium:e.small},Fd={fontSize:"10px",lineHeight:"14px"},Ud=Bd({small:{fontSize:"18px",lineHeight:"22px"},medium:{fontSize:"18px",lineHeight:"22px"},big:{fontSize:"26px",lineHeight:"32px"}}),zd=Bd({small:{fontSize:"12px",lineHeight:"16px"},medium:{fontSize:"14px",lineHeight:"20px"},big:{fontSize:"14px",lineHeight:"20px"}}),Vd=e=>e.length>=30?Fd:null,Hd=e=>{let t=e.title,n=e.warning,r=e.attrs;return Rt.a.createElement(jd,{text:t,stylesFormatter:Ud,warning:n,attrs:r})},Wd=e=>{let t=e.text,n=e.warning,r=e.attrs;return Rt.a.createElement(jd,{text:t,stylesFormatter:zd,warning:n,attrs:r})},$d=e=>{let t=e.warning,n=e.attrs;return Rt.a.createElement(jd,{text:t,stylesFormatter:Vd,attrs:n})};n(297);const Gd=la("direkt-card-standard");var qd=class extends Ot.PureComponent{render(){const e=this.props,t=e.title,n=e.text,r=e.age,o=e.warning,s=e.domain,i=e.isRubberyDesign,a=e.directLinkClickHandler,c=e.columnCount,l=e.hasButton,u=e.isMordaDesktop;let d=this.props,p=d.image,h=d.renderLabel;if(p){const e=Number(p[1]),t=Number(p[2]);p=e>=306&&t>=135?p[0]:null}let m=null,f=null,g=null;p||i?(m=Rt.a.createElement(Hd,{title:t,warning:o,attrs:{className:Gd("title")}}),f=Rt.a.createElement(Wd,{text:n,warning:o,attrs:{className:Gd("text")}}),o&&(g=Rt.a.createElement($d,{warning:o,attrs:{className:Gd("warning")}}))):(m=Rt.a.createElement("div",{className:Gd("title")},t),f=Rt.a.createElement("div",{className:Gd("text")},n),o&&(g=Rt.a.createElement("div",{className:Gd("warning")},o)));const _={columns:c,hasImage:Boolean(p),hasButton:l,isMordaDesktop:u};return Rt.a.createElement("div",{className:Gd(_)},Rt.a.createElement("div",{className:Gd("label"),onClick:a},Rt.a.createElement(h,null)),p?Rt.a.createElement("div",{className:Gd("image"),style:{backgroundImage:`url(${p})`}}):null,Rt.a.createElement("div",{className:Gd("image-gradient")}),Rt.a.createElement("div",{className:Gd("title-spacer")}),Rt.a.createElement("div",{className:Gd("content")},Rt.a.createElement("div",{className:Gd("title-content")},m),Rt.a.createElement("div",{className:Gd("sub-content")},Rt.a.createElement("div",{className:Gd("domain")},s),r?Rt.a.createElement("div",{className:Gd("age")},r):null),Rt.a.createElement("div",{className:Gd("text-content")},f,g)),l?Rt.a.createElement("div",{className:Gd("button")},"Перейти"):null)}};n(296);const Kd=la("direkt-card-banner");var Yd=class extends Ot.PureComponent{render(){const e=this.props,t=e.title,n=e.text,r=e.image,o=e.warning,s=e.domain,i=e.age,a=e.directLinkClickHandler,c=e.columnCount,l=e.hasButton,u=e.rootRef,d=e.renderLabel,p={columns:c,hasButton:l};return Rt.a.createElement("div",{className:Kd(p),ref:u},Rt.a.createElement("div",{className:Kd("label"),onClick:a},Rt.a.createElement(d,null)),Rt.a.createElement("div",{className:Kd("background")},Rt.a.createElement("div",{className:Kd("image"),style:{backgroundImage:`url(${r})`}}),Rt.a.createElement("div",{className:Kd("image-mask")})),Rt.a.createElement("div",{className:Kd("hover-fade")}),Rt.a.createElement("div",{className:Kd("title-spacer")}),Rt.a.createElement("div",{className:Kd("content")},Rt.a.createElement("div",{className:Kd("title-content")},Rt.a.createElement(Hd,{title:t,warning:o,attrs:{className:Kd("title")}})),Rt.a.createElement("div",{className:Kd("sub-content")},Rt.a.createElement("div",{className:Kd("domain")},s),i?Rt.a.createElement("div",{className:Kd("age")},i):null),Rt.a.createElement("div",{className:Kd("text-content")},Rt.a.createElement(Wd,{text:n,warning:o,attrs:{className:Kd("text")}}),o?Rt.a.createElement("div",{className:Kd("warning")},o):null)),l?Rt.a.createElement("div",{className:Kd("button")},"Перейти"):null)}},Qd=n(93);var Zd=(e,t)=>{e.stopPropagation(),e.preventDefault();const n=Qd.a[t];n?window.open(n,"_blank"):console.warn("directPartnerClickHandler: invalid tld")};const Jd=la("direkt");var Xd=mn((e,t)=>{let n=t.id;const r=e.feed.items[n],o=e.params.tld,s=fr(e.feed),i=kr(e),a=Kn(e),c=a.isExp("rezen_direct_use_wide_images"),l=a.isExp("direct_label_cut"),u=Sr(e),d=rr(e);return Object.assign({tld:o,columnCount:s,hasButton:!0,isRubberyDesign:Boolean(i),isWideImagesExp:c,isRtbFitted:u,isDirectLabelCut:l,isMordaDesktop:!0,theme:d},r)},(e,t)=>({onAdClick(){e(Uc(t.id))},onAdShow(){e(Fc(t.id))}}))(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._sendShowStat=(()=>{Je(this.props.showUrl).catch(console.error),this.props.onAdShow()}),this._directLinkClickHandler=(e=>{const t=this.props.tld;Zd(e,t)}),this._renderLabel=(()=>{const e=this.props.isDirectLabelCut,t="Яндекс.Директ";return e?Rt.a.createElement("span",{className:Jd("label-container")}):t}),e}_getImageUrl(){const e=this.props.image;return e&&e[0]}_onAdClick(e){const t=this.props,n=t.onAdClick,r=t.url;n(e),window.open(r,"_blank")}render(){const e=this.props,t=e.rootRef,n=e.title,r=e.text,o=e.image,s=e.domain,i=e.age,a=e.warning,c=e.isWideImage,l=e.columnCount,u=e.hasButton,d=e.isRubberyDesign,p=e.isVisible,h=e.isIntersecting,m=e.isWideImagesExp,f=e.isMordaDesktop,g=e.theme,_={image:this._getImageUrl(),warning:a,title:n,text:r,domain:s,age:i,columnCount:l,hasButton:u,isRubberyDesign:d,isVisible:p,isIntersecting:h,isMordaDesktop:f,theme:g,renderLabel:this._renderLabel,directLinkClickHandler:this._directLinkClickHandler},b=Rt.a.createElement("div",{className:Jd(),onClick:e=>this._onAdClick(e),onAuxClick:this.props.onAdClick,ref:t},c&&m?Rt.a.createElement(Yd,_):Rt.a.createElement(qd,jt({},_,{image:o})));return Rt.a.createElement(pc,{isVisible:p,onShow:this._sendShowStat},b)}});n(295);const ep=ma("channel-card"),tp=e=>e.length>=8&&/\s/.test(e);class np extends Rt.a.PureComponent{constructor(){var e;return e=super(...arguments),this.state={isTouch:!1},this._onIconClick=(e=>{const t=this.props.onIconClick;t&&(e.preventDefault(),e.stopPropagation(),t(e))}),e}componentDidMount(){const e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;this.setState({isTouch:e})}_renderText(){const e=this.props.text;if(!tp(e))return e;const t=(e.length-1)/2;let n=0;for(let r=0;r<e.length;r++)/\s/.test(e[r])&&Math.abs(t-r)<Math.abs(t-n)&&(n=r);return Rt.a.createElement(Ot.Fragment,null,e.slice(0,n),Rt.a.createElement("br",null),e.slice(n))}render(){const e=this.props,t=e.size,n=e.status,r=e.theme,o=e.image,s=e.imageBackgroundColor,i=e.text,a=e.textColor,c=e.textBackgroundColor,l=e.containerRef,u=e.tag,d=e.isMobile,p=Bt(e,["size","status","theme","image","imageBackgroundColor","text","textColor","textBackgroundColor","containerRef","tag","isMobile"]),h={backgroundColor:s,backgroundImage:`url('${o}')`},m={color:a,backgroundColor:c},f=this.state.isTouch,g=ua(rc(p,["onIconClick","isMobile"]),{className:ep({size:t,status:n,theme:r,isMobile:d,isTouch:f,isButton:"a"===u||"button"===u})});return Rt.a.createElement(u,jt({ref:l},g),Rt.a.createElement("div",{className:ep("image"),style:h}),Rt.a.createElement("div",{className:ep("text",{isLong:tp(i)}),style:m},Rt.a.createElement("div",{className:ep("text-wrapper")},this._renderText())),Rt.a.createElement("div",{className:ep("gradient")}),Rt.a.createElement("div",{className:ep("icon"),onClick:this._onIconClick}))}}np.defaultProps={tag:"div",theme:"white"};var rp=Object(Ot.forwardRef)((e,t)=>Rt.a.createElement(np,jt({},e,{containerRef:t})));var op=mn(null,{checkSource:e=>({type:"CHECK_SOURCE",payload:{id:e}}),uncheckSource:e=>({type:"UNCHECK_SOURCE",payload:{id:e}})})(class extends Ot.Component{constructor(){var e;return e=super(...arguments),this._onClick=(()=>{const e=this.props,t=e.logger,n=e.checkSource,r=e.uncheckSource,o=e.channel,s=o.id,i=o.userSubscribed;(i?r:n)(s),t.log("click",{global:{_i_:s,_s_:String(i?0:1)}}),gt.invalidateCache()}),e}getCardProps(){const e=this.props.channel,t=e.image,n=e.name,r=e.userSubscribed,o=e.textBackgroundColor,s=e.imageBackgroundColor;return{image:t,textColor:e.textColor,text:n,textBackgroundColor:o,imageBackgroundColor:s,status:r?"subscribed":"add",theme:"black"}}render(){return Rt.a.createElement(rp,jt({},this.getCardProps(),{size:"r",onClick:this._onClick,onIconClick:this._onClick,isMobile:this.props.isMobile}))}});n(284);const sp=la("iceboarding-view");var ip=class extends Ot.PureComponent{_renderButton(){const e=this.props.moreButton;return e?Rt.a.createElement("a",{className:sp("more-sources"),href:e.link},"Показать больше источников"):null}render(){const e=this.props,t=e.sources,n=e.titleRef,r=e.view,o=e.theme,s=e.logger,i=e.isMobile;return Rt.a.createElement("div",{className:sp({view:r,theme:o})},Rt.a.createElement("div",{className:sp("title"),ref:n},"Отметьте интересные источники"),Rt.a.createElement("div",{className:sp("description")},"В ленте будет больше публикаций с этих сайтов"),Rt.a.createElement("div",{className:sp("sources")},t.map((e,t)=>Rt.a.createElement("div",{className:sp("source-item"),key:t},Rt.a.createElement(op,{channel:e,logger:s,isMobile:i})))),this._renderButton())}};var ap=mn(()=>{const e=ko(),t=Object(vn.createSelector)(e=>e.iceboarding.checkedSources,(e,t)=>e.feed.items[t],e=>fr(e.feed),(e,t,n)=>t.sources.slice(0,30).map(t=>Object.assign({},t,{userSubscribed:e.includes(t.id)})));return(n,r)=>{let o=r.id;const s=n.feed.items[o];return Object.assign({},s,{sources:t(n,o),isMobile:n.params.isMobile,theme:rr(n),logger:e(s)})}})(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._onShow=(()=>{const e=this.props,t=e.logger,n=e.sources;t.log("show",{info:n.map(e=>e.id)})}),e}render(){const e=this.props,t=e.isVisible,n=e.isMobile,r=Object.assign({},this.props,{view:n?"mobile":"desktop"});return Rt.a.createElement(pc,{isVisible:t,onShow:this._onShow},Rt.a.createElement(ip,r))}});n(283);const cp=la("iceboarding-feed-item");var lp=class extends Ot.PureComponent{render(){const e=this.props,t=e.id,n=e.rootRef,r=e.isVisible,o=e.rowIndex;return Rt.a.createElement("div",{className:cp(),ref:n},Rt.a.createElement(ap,{id:t,isVisible:r,rowIndex:o}))}};n(282),n(281),n(280);var up=function e(t,n,r){if(void 0===r&&(r=!1),t.length<3||r&&n()>.7)return[t];const o=n()*(t.length-2)+1;return[...e(t.substr(0,o),n,!0),...e(t.substr(o),n,!0)]};const dp=e=>{const t=window.Ya&&window.Ya.Rum,n=t&&t.makeSubPage?t.makeSubPage(e,t.getTime()):null;return{sendTimeMark(e){if(void 0===e&&(e=[]),!n)return;const r=e.join(".");t.sendTimeMark(r,t.getTime(),!1,n)},onLoadStart(e){void 0===e&&(e=[]),this.sendTimeMark(["1724",...e])},onRenderEnd(e){void 0===e&&(e=[]),this.sendTimeMark(["2046",...e])}}},pp="https://yastatic.net/partner-code/loaders/context.js",hp="yandexContextAsyncCallbacks";let mp,fp=!1;const gp=()=>{if(fp)return;fp=!0;const e=document.createElement("script");e.innerHTML="\n        window.home = window.home || {};\n        window.home.export = window.home.export || {};\n    ",document.head&&document.head.appendChild(e)};function _p(e,t,n){void 0===t&&(t={}),t.pcodever&&(window.pcodever=t.pcodever);const r=dp("155");t.isLiteRtb&&gp(),(mp||(mp=new Promise((e,t)=>{window[hp]=window[hp]||[],window[hp].push(()=>{e(window.Ya)}),Tn(pp).catch(t)})),mp).then(t=>{r.onLoadStart(),t.Context.AdvManager.render(Object.assign({},e,{onRender:t=>{r.onRenderEnd(["direct"===t.product?"155":"3431"]),e.onRender&&e.onRender(t)}}),n)})}var bp=function(e){void 0===e&&(e=123456789);let t=e,n=987654321,r=4294967295;return{getNext:()=>{let e=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return.5+(e/=4294967296)},setSeed:function(e){void 0===e&&(e=123456789),t=e,n=987654321}}};const vp=bp();var yp=e=>{class t extends Ot.Component{constructor(){var e;return e=super(...arguments),this.state={seed:Math.floor(1e4*vp.getNext()),random:bp()},e}render(){const t=this.state,n=t.seed,r=t.random;return r.setSeed(n),Rt.a.createElement(e,jt({},this.props,{random:r}))}}return t.displayName=`WithRandomSequence(${cc(e)})`,t};const Ep=la("rtb-card");let kp=0;const wp={reportAdDidntLoad:e=>({type:"REPORT_AD_DIDNT_LOAD",payload:{itemId:e}})},Cp=Object(zi.a)(Qu(e=>{return{zenLogger:e.zenLogger}}),mn(e=>{const t=Kn(e).isExp("ab:rezen_lite_rtb_version:rezen_lite_rtb_version_enabled"),n=Yn(e).safeGet("rezen_pcode.version",0),r=e.params,o=r.cspNonce,s=r.adId,i=Tr(e);return{isRtbFitted:Sr(e),isLiteRtb:t,pcodever:n,cspNonce:o,adId:s,withShadows:i}},wp),yp)(class extends Rt.a.Component{constructor(){var e;return e=super(...arguments),this._reportFailure=(()=>{const e=this.props,t=e.ad,n=e.id,r=e.reportAdDidntLoad;e.zenLogger.warn(`No ad: ${JSON.stringify(t)}`),r(n)}),this._renderRtbContainer=(()=>{const e=this.props.ad,t=(e.blockId,e.partnerStatId,e.domElemId);return Rt.a.createElement("div",{"data-block-id":void 0,id:t})}),e}componentDidMount(){const e=this.props,t=e.isLiteRtb,n=e.pcodever;_p(this._getRsyaConfig(),{isLiteRtb:t,pcodever:n},this._reportFailure)}_getRsyaConfig(){const e=this.props,t=e.ad,n=e.cspNonce,r=e.adId,o=t.blockId,s=t.partnerStatId,i=t.domElemId,a={blockId:o,statId:s,pageNumber:kp++,renderTo:i,grab:"dFlhbmRleCB6ZW4KTm8gZ3JhYg==",async:!0,cspNonce:n};return null!=r&&(a.extParams=`&mobile-ifa=${r}`),a}shouldComponentUpdate(){return!1}render(){const e=this.props,t=e.isRtbFitted,n=e.mix,r=e.random,o=e.withShadows,s=t?"_is-rtb-fitted":null,i=up("реклама",r.getNext).reverse().map((e,t)=>Rt.a.createElement("div",{key:t},e));return Rt.a.createElement("div",{className:la.mix(Ep({withShadows:o}),s,n)},Rt.a.createElement("div",{className:"rtb-card__ad-box"},Rt.a.createElement("div",{className:"rtb-card__ad-box-reverse"},i)),Rt.a.createElement("div",{className:"rtb-card__ad"},this._renderRtbContainer()))}});n(279);const xp=mn(e=>({adDomain:e.params.adDomain}))(class extends Rt.a.Component{constructor(){var e;return e=super(...arguments),this._iframeRef=Rt.a.createRef(),this._frameLoad=function(e){let t,n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];t=e.apply(this,o)}return t}}(()=>{const e=this.props,t=e.adDomain,n=e.width,r=e.height,o=this.props.ad,s=o.client,i=o.slot;this._iframeRef.current.contentWindow.postMessage({type:"adsense",client:s,slot:i,width:n,height:r},t)}),e}shouldComponentUpdate(){return!1}componentDidMount(){this._iframeRef.current.addEventListener("load",this._frameLoad)}componentWillUnmount(){this._iframeRef.current.removeEventListener("load",this._frameLoad)}render(){const e=this.props.adDomain;return Rt.a.createElement("iframe",{sandbox:"allow-same-origin allow-scripts allow-popups",className:"frame",src:`${e}/adsense.html`,ref:this._iframeRef,scrolling:"no",marginWidth:"0",marginHeight:"0",frameBorder:"0",referrerPolicy:"no-referrer"})}});var Sp=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._width=336,this._height=280,this._containerRef=(e=>{if(!e)return;const t=e.getBoundingClientRect(),n=t.width,r=t.height;this._width=n,this._height=r}),e}_renderAd(){const e=Object.assign({},this.props,{width:this._width,height:this._height}),t=this.props.ad.type;return"direct"===t?Rt.a.createElement(Cp,e):"adsense"===t?Rt.a.createElement(xp,e):null}render(){return this.props.isIntersecting,Rt.a.createElement("div",{className:"ad-card",ref:this._containerRef},this._renderAd(),Rt.a.createElement(Ru,null))}};n(278);const Op=la("similar-doc-card-view");var Rp=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderRocket=(()=>{const e=this.props,t=e.rocket,n=e.image,r=e.isDark;return t?Rt.a.createElement("div",{className:Op("rocket")},Rt.a.createElement(Pu,{faint:!n,color:r?"#fff":"#000"})):null}),this._renderClickable=(()=>{const e=this.props,t=e.onClick,n=e.link,r=e.rootRef;return Rt.a.createElement(Ul,{className:Op("clickable"),ref:r,onClick:t,onAuxClick:t,href:n})}),e}getStyles(){const e={},t=this.props,n=t.image,r=t.cardColors,o=t.mainColor;return n&&(e.backgroundImage=`url(${n})`,e.backgroundPosition="center",e.backgroundSize="cover"),o?e.color=Bc(o).text:r&&(e.color=r.text),e}getCardColor(){const e=this.props,t=e.cardColors,n=e.mainColor;return n?Bc(n).card:t?t.card:void 0}getFadesStyle(){const e=this.getCardColor();if(e){const t=Lc(e).join(),n=[`rgba(${t},1) 0%`,`rgba(${t},0.2) 40%`,`rgba(${t},0.3) 56%`,`rgba(${t},0.3) 100%`];return{fade:{background:`linear-gradient(to right, ${[`rgba(${t},0.88) 0%`,`rgba(${t},0.88) 25%`,`rgba(${t},0.79) 40%`,`rgba(${t},0.68) 56%`,`rgba(${t},0.09) 100%`].join()})`},hover:{background:`linear-gradient(to right, ${n.join()})`}}}return{fade:{},hover:{}}}render(){const e=this.props,t=e.title,n=e.text,r=e.domainTitle,o=e.image,s=e.isMobile,i=e.isIntersecting,a=e.feedLink,c=e.logger,l=e.linkHoverEnabled,u=e.theme,d=e.isMordaDesktop,p=this.getFadesStyle(),h={hasImage:Boolean(o),mobile:s,linkHoverEnabled:l,theme:u,isMordaDesktop:d};return Rt.a.createElement("div",{className:Op(h),style:this.getStyles()},this._renderClickable(),Rt.a.createElement("div",{className:Op("fade"),style:p.fade}),Rt.a.createElement("div",{className:Op("hover-fade"),style:p.hover}),this._renderRocket(),Rt.a.createElement("div",{className:Op("content")},Rt.a.createElement("div",{className:Op("content-wrapper")},Rt.a.createElement(su,{className:Op("title"),isIntersecting:i},t),s?null:Rt.a.createElement(su,{className:Op("text"),isIntersecting:i},n),Rt.a.createElement(jl,{className:Op("source-name-holder"),link:a,logger:c},Rt.a.createElement("div",{className:Op("source-name")},r)))),Rt.a.createElement(Ru,null))}};var Tp=Object(zi.a)(hl,Ia,mn(e=>{return{linkHoverEnabled:Kn(e).isExp("ab:rezen_channel_links:rezen_channel_links")}}))(class extends Ot.PureComponent{render(){const e=this.props,t=e.isVisible,n=e.logger,r=Object.assign({},this.props,{onClick:()=>n.log("click")}),o=this.props.ad?Rt.a.createElement(Sp,jt({},r,{mix:"similar__item-ad-container"})):Rt.a.createElement(Rp,r);return Rt.a.createElement(pc,{logger:n,isVisible:t},o)}});n(277);const Ip=la("similar-direkt-card-view");var Np=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._directLinkClickHandler=(e=>{const t=this.props.tld;Zd(e,t)}),e}_onAdClick(e){const t=this.props,n=t.onClick,r=t.url;n(e),window.open(r,"_blank")}_getImage(){const e=this.props.image;return e&&e[0]}_renderBackground(){const e=this._getImage();return e?Rt.a.createElement("div",{className:Ip("background-wrapper")},Rt.a.createElement("div",{className:Ip("background"),style:{backgroundImage:`url(${e})`}}),Rt.a.createElement("div",{className:Ip("background-gradient")}),Rt.a.createElement("div",{className:Ip("background-hover")})):null}_renderAge(){const e=this.props.age;return e?Rt.a.createElement("div",{className:Ip("age")},e):null}_renderWarning(){const e=this.props.warning;return e?Rt.a.createElement("div",{className:Ip("warning-content")},Rt.a.createElement("div",{className:Ip("warning")},e),this._renderAge()):null}render(){const e=this.props,t=e.rootRef,n=e.title,r=e.text,o=e.domain,s=e.isMobile,i=e.onClick,a=e.isMordaDesktop,c=e.theme,l=this._getImage(),u={hasImage:Boolean(l),mobile:s,isMordaDesktop:a,theme:c};return Rt.a.createElement("div",{className:Ip(u),onClick:e=>this._onAdClick(e),onAuxClick:i,ref:t},Rt.a.createElement("div",{className:Ip("label"),onClick:this._directLinkClickHandler}),this._renderBackground(),Rt.a.createElement("div",{className:Ip("image"),style:{backgroundImage:`url(${l})`}}),Rt.a.createElement("div",{className:Ip("content")},Rt.a.createElement("div",{className:Ip("title")},n),Rt.a.createElement("div",{className:Ip("domain")},o),Rt.a.createElement("div",{className:Ip("text")},r),this._renderWarning()||this._renderAge()),Rt.a.createElement(Ru,null))}};var Pp=Object(zi.a)(hl,Ia,mn(e=>{return{tld:e.params.tld}}))(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._sendShowStat=(()=>{const e=this.props,t=e.logger,n=e.showUrl;t.log("show"),Je(n).catch(console.error)}),e}render(){const e=this.props,t=e.logger,n=(e.isIntersecting,e.isVisible),r=Object.assign({},this.props,{onClick:()=>t.log("click")});return Rt.a.createElement(pc,{isVisible:n,onShow:this._sendShowStat},Rt.a.createElement(Np,r))}});const Ap=4,Lp=la("similar");var Mp=mn((e,t)=>{let n=t.id;const r=e.feed.items[n],o=Cr(e,n),s=Kn(e),i=rr(e);return Object.assign({pointerPosition:o,experiments:s,isTouch:e.params.isTouch,isMordaDesktop:!0,theme:i},Nr(e),r)})(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderFilterMask=(()=>Rt.a.createElement("div",{className:Lp("filter-mask")})),this._renderSmallCard=((e,t)=>{const n=this.props,r=n.rowIndex,o=n.experiments,s=n.isMordaDesktop,i=n.theme,a=o.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_letter_spacing"),c=o.isExp("ab:site_desktop_title_letter_spacing:site_desktop_title_big_letter_spacing");return Rt.a.createElement("div",{className:Lp("card",{isLetterSpacingExp:a,isBigLetterSpacingExp:c}),key:`doc-${t}`},Rt.a.createElement(Tp,jt({},e,{rowIndex:r,isMordaDesktop:s,theme:i})),this._renderFilterMask())}),this._renderDirectCard=((e,t)=>{const n=this.props,r=n.rowIndex,o=n.isMordaDesktop,s=n.theme;return Rt.a.createElement("div",{className:Lp("card"),key:`direct-${t}`},Rt.a.createElement(Pp,jt({},e,{rowIndex:r,isMordaDesktop:o,theme:s})),this._renderFilterMask())}),e}_getDocs(){const e=this.props,t=e.items,n=(e.columnCount,e.isAdsense),r=e.isTouch,o=t.docs,s=t.direct;let i;return n&&!r?o.slice().reverse().slice(0,3).reverse():(i=s.length>0?Ap-1:Ap,s.length,o.slice(0,i))}_renderLeftPointer(e){return e===G.CENTER?null:Rt.a.createElement("div",{className:Lp("left-pointer")},Rt.a.createElement("div",{className:Lp("left-pointer-spacer")}),e===G.LEFT?Rt.a.createElement("div",{className:Lp("left-pointer-elem")}):null)}_renderRightPointer(e){return e===G.CENTER?null:Rt.a.createElement("div",{className:Lp("right-pointer")},e===G.RIGHT?Rt.a.createElement("div",{className:Lp("right-pointer-elem")}):null,Rt.a.createElement("div",{className:Lp("right-pointer-spacer")}))}render(){const e=this.props,t=e.pointerPosition,n=e.items,r=e.isAdsense,o=this._getDocs(),s=n.direct;return Rt.a.createElement("div",{className:Lp({isAdsense:r})},Rt.a.createElement("div",{className:Lp("title")},this._renderLeftPointer(t),Rt.a.createElement("span",{className:Lp("title-text")},"Вам может быть интересно"),this._renderRightPointer(t)),Rt.a.createElement("div",{className:Lp("cards")},o.map(this._renderSmallCard),s.map(this._renderDirectCard)))}});n(274);const Dp=la("placeholder-card");var jp=mn(()=>{const e=ko();return(t,n)=>{let r=n.id,o=n.rowIndex;const s=t.feed.items[r];return{index:Er(t.feed,r),logger:e(Object.assign({},s,{rowIndex:o}))}}})(class extends Ot.Component{constructor(){var e;return e=super(...arguments),this._containerRef=Rt.a.createRef(),this._getPlaceholderEventParams=(()=>{const e=this.props,t=e.index,n=e.rowIndex,r=e.itemIndexInRow,o=e.logger;return{index:t,rowIndex:n,itemIndexInRow:r,container:this._containerRef.current,size:this._getPlaceholderSize(),onShow:()=>o.log("partner_show"),onClick:()=>o.log("partner_click")}}),this._triggerRealShow=(()=>{this._containerRef.current&&(_t.emit(bt.PLACEHOLDER_SHOW,this._getPlaceholderEventParams()),this._realShowSent=!0)}),this._getLogger=(()=>{const e=this.props.logger,t=this._containerRef.current;return t&&t.hasChildNodes()?e:null}),this._onClick=(()=>{const e=this._getLogger();e&&e.log("click")}),this._getPlaceholderSize=(()=>{const e=this.props.size;switch(e){case W:return"big";case H:return"small";case $:return"free";default:return console.error("Unsupported placeholder size: ",e),null}}),e}shouldComponentUpdate(e){const t=this.props.isVisible,n=e.isVisible;return!this._realShowSent&&!t&&n}componentWillUnmount(){const e=this.props.index;_t.emit(bt.PLACEHOLDER_UNMOUNT,{index:e})}componentDidMount(){this._containerRef.current&&_t.emit(bt.PLACEHOLDER,this._getPlaceholderEventParams()),this._getPlaceholderSize()}render(){const e=this.props.isVisible,t=this._getLogger(),n=this._getPlaceholderSize(),r=this._containerRef.current,o=!r||!r.hasChildNodes();return Rt.a.createElement(pc,{isVisible:e,onShow:this._triggerRealShow,logger:t},Rt.a.createElement("div",{className:Dp({size:n,needBackground:o})},Rt.a.createElement("div",{className:Dp("background")}),Rt.a.createElement("div",{className:Dp("container"),ref:this._containerRef,onClick:this._onClick})))}});n(273);var Bp={1:{[H]:{[G.LEFT]:{width:"100%"}}},2:{[H]:{[G.LEFT]:{width:"50%",justifyContent:"flex-start"},[G.RIGHT]:{width:"50%",justifyContent:"flex-end"}},[W]:{[G.LEFT]:{width:"100%",justifyContent:"center"}},[$]:{[G.LEFT]:{width:"100%",justifyContent:"center"}}},3:{[H]:{[G.LEFT]:{width:"33.333%",justifyContent:"flex-start"},[G.CENTER]:{width:"33.333%",justifyContent:"center"},[G.RIGHT]:{width:"33.333%",justifyContent:"flex-end"}},[W]:{[G.LEFT]:{width:"66.666%",justifyContent:"flex-start"},[G.RIGHT]:{width:"66.666%",justifyContent:"flex-end"}},[$]:{[G.LEFT]:{width:"100%",justifyContent:"center"}}}};const Fp=la("user-question-view");const Up=()=>Rt.a.createElement("div",{className:Fp("response")},"Спасибо за помощь!");var zp=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._containerRef=(e=>{const t=this.props.rootRef;t&&t(e)}),this._renderUserQuestionAnswer=(e=>{let t=e.id,n=e.text,r=e.key;const o=this.props.onCheck;return Rt.a.createElement("div",{className:Fp("answer"),key:r,onClick:()=>{o(t,r,!0),Ds()}},n)}),e}_getContentSizeParams(){const e=this.props,t=e.position,n=e.columnCount,r=e.parentItemSize;return Bp[n][r][t]}_renderQuestionContent(){const e=this.props,t=e.answers,n=e.text;return Rt.a.createElement("div",{ref:this._containerRef},Rt.a.createElement("div",{className:Fp("title")},n),Rt.a.createElement("div",{className:Fp("answers")},t.map((e,t)=>{let n=e.id,r=e.text,o=e.isChecked;return this._renderUserQuestionAnswer({id:n,text:r,key:t,isChecked:o})})))}render(){const e=this._getContentSizeParams(),t=e.width,n=e.justifyContent,r=this.props.answers.some(e=>e.isChecked);return Rt.a.createElement("div",{className:Fp(),style:{justifyContent:n}},Rt.a.createElement("div",{className:Fp("content"),style:{width:t}},r?Rt.a.createElement(Up,null):this._renderQuestionContent()))}};const Vp={answerUserQuestion:Ds};var Hp=Object(zi.a)(mn((e,t)=>{let n=t.id;const r=(e.feed.items[n]||{}).parentId;return{question:Oo(e,r),position:Cr(e,n),columnCount:fr(e.feed),parentItemSize:xr(e,n)}},Vp),lc,Ia,Pd)(zp);n(272),n(271);const Wp=la("interest-tag"),$p=e=>{const t=e.component,n=e.innerComponent,r=void 0===n?"span":n,o=e.rootRef,s=e.title,i=Bt(e,["component","innerComponent","rootRef","title"]),a=ua(i,{className:Wp()});return Rt.a.createElement(t,jt({ref:o},a),Rt.a.createElement(r,{className:Wp("title")},s))};$p.defaultProps={component:"div"};var Gp=$p;const qp=Object(zi.a)(Ld,Ia,Ad,Pd)(e=>{const t=e.title,n=e.target,r=void 0===n?"_blank":n,o=e.feedLink,s=e.rootRef,i=e.onClick;return Rt.a.createElement(Gp,{rootRef:s,component:Ul,innerComponent:"h3",className:Kp("interest"),style:{backgroundColor:"#dedede"},onClick:i,title:t,href:o,target:r})}),Kp=la("similar-interests");var Yp=mn((e,t)=>{let n=t.id,r=t.rowIndex;const o=e.feed.items[n];return Object.assign({},o,{rowIndex:r})})(class extends Ot.PureComponent{render(){const e=this.props,t=e.items,n=e.isMobile,r=e.itemsTarget;return 0===t.length?null:Rt.a.createElement("div",{className:Kp({isMobile:n})},Rt.a.createElement("h2",{className:Kp("title")},"Смотрите также"),Rt.a.createElement("div",{className:Kp("interests")},t.map(e=>Rt.a.createElement(qp,jt({key:e.id},e,{component:"a",href:e.feedLink,target:r,rel:"noopener",place:"feed",className:Kp("interest")})))))}});const Qp=e=>{class t extends Ot.PureComponent{render(){const t=this.props,n=t.adDidntLoad,r=Bt(t,["adDidntLoad"]);return n?Rt.a.createElement(e,r):Rt.a.createElement(Sp,jt({},r,{mix:"feed__item-ad-container"}))}}t.displayName=`WithAdCard(${cc(e)})`;return mn((e,t)=>{let n=t.id;return{adDidntLoad:e.feed.items[n].adDidntLoad}})(t)};n(270),n(269);const Zp={top:{oppositeSide:"bottom",sizeType:"height",isPrimarySide:!0},bottom:{oppositeSide:"top",sizeType:"height",isPrimarySide:!1},right:{oppositeSide:"left",sizeType:"width",isPrimarySide:!1},left:{oppositeSide:"right",sizeType:"width",isPrimarySide:!0}},Jp=(e,t,n,r)=>{if(!document.documentElement||"center"===e)return!1;const o=Zp[e],s=o.oppositeSide,i=o.sizeType,a=o.isPrimarySide,c="width"===i?document.documentElement.clientWidth:document.documentElement.clientHeight,l=a?[e,s]:[s,e],u=l[0],d=l[1],p="number"==typeof t[u]?r[u]+t[u]:r[d]-t[d]-n[i];return p<0||p+n[i]>c},Xp=(e,t,n)=>{if(!n.offsetParent)return null;const r=e.y,o=e.x,s=e.shifts,i=void 0===s?{}:s,a=e.shouldOverlap,c=void 0!==a&&a,l=e.shouldFlip,u=void 0!==l&&l,d=n.offsetParent.getBoundingClientRect(),p=t.getBoundingClientRect(),h=n.getBoundingClientRect(),m=((e,t)=>({top:e.top-t.top,right:t.right-e.right,bottom:t.bottom-e.bottom,left:e.left-t.left,width:e.width,height:e.height}))(p,d),f={};let g=!1,_=!1;"object"==typeof c?(g=c.x,_=c.y):(g=c,_=c);const b=e=>{const t=Zp[e],n=t.oppositeSide,r=t.sizeType;f[n]=m[n]+m[r]},v=e=>{const t=Zp[e].sizeType;f[e]=m[e]+(m[t]-h[t])/2};if("center"===r?v("top"):Zp[r]&&(_?f[r]=m[r]:b(r)),"center"===o?v("left"):Zp[o]&&(g?f[o]=m[o]:b(o)),Object.keys(i).forEach(e=>{if(Zp[e]){const t=i[e],n=Zp[e].oppositeSide;"number"==typeof t&&("number"==typeof f[e]?f[e]+=t:"number"==typeof f[n]&&(f[n]-=t))}}),!u)return f;const y=Jp(o,f,h,d),E=Jp(r,f,h,d);if(!y&&!E)return f;const k=[[y,"x",o],[E,"y",r]].reduce((e,t)=>{let n=t[0],r=t[1],o=t[2];return n?((e,t,n)=>{if("center"===n)return e;const r=Object.assign({},e),o=Zp[n].oppositeSide;if(r[t]=o,e.shifts){const t=Object.assign({},e.shifts),s=e.shifts[n],i=e.shifts[o];"number"==typeof s&&(t[o]=s,delete t[n]),"number"==typeof i&&(t[n]=i,delete t[o]),r.shifts=t}return r})(e,r,o):e},Object.assign({},e,{shouldFlip:!1}));return Xp(k,t,n)};var eh=e=>(t,n)=>Xp(e,t,n);n(268),n(267);const th=27,nh=100,rh=ma("popup-base");class oh extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={position:null,onOpenScroll:null},this._containerElem=null,this._whileOpenListenerStorage=new nc,this._containerRef=(e=>{this._containerElem=e,e?this._popupDidOpen():this._popupDidClose()}),e}_getCloseOnScrollThreshold(){const e=this.props.shouldCloseOnScroll;return"number"==typeof e?e:e?nh:null}_isNotPopupClick(e){const t=this.props.getTriggerElem();let n=e.target;for(;n;){if(!(n instanceof Node)||n===t||n===this._containerElem)return!1;n=n.parentNode}return!0}_popupDidOpen(){const e=this.props,t=e.getPosition,n=e.getTriggerElem;this.setState({position:t(n(),this._containerElem),onOpenScroll:window.pageYOffset}),this._whileOpenListenerStorage.add(document,"click",e=>{if(this._isNotPopupClick(e)){const e=this.props,t=e.shouldCloseOnOuterClick,n=e.close;t&&"function"==typeof n&&n()}}),this._whileOpenListenerStorage.add(document,"keydown",e=>{if(e.keyCode===th){const e=this.props,t=e.shouldCloseOnEscClick,n=e.close;t&&"function"==typeof n&&n()}}),this._whileOpenListenerStorage.add(document,"scroll",()=>{const e=this.props.close,t=this.state.onOpenScroll,n=this._getCloseOnScrollThreshold();"number"==typeof n&&"number"==typeof t&&Math.abs(window.pageYOffset-t)>n&&e()})}_popupDidClose(){this.setState({position:null,onOpenScroll:null}),this._whileOpenListenerStorage.clear()}componentWillUnmount(){this._whileOpenListenerStorage.clear()}render(){const e=this.state.position,t=ua(rc(this.props,["close","getPosition","getTriggerElem","shouldCloseOnEscClick","shouldCloseOnOuterClick","shouldCloseOnScroll"]),{className:rh(),style:Object.assign({},e,{visibility:e?null:"hidden"})});return Rt.a.createElement("div",jt({ref:this._containerRef},t))}}oh.defaultProps={shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,shouldCloseOnScroll:!0};var sh=oh;const ih=150,ah=ma("popup");class ch extends Ot.PureComponent{componentDidUpdate(e){const t=this.props,n=t.isOpen,r=t.onOpen,o=t.onClose;!e.isOpen&&n&&"function"==typeof r&&r(),e.isOpen&&!n&&"function"==typeof o&&o()}render(){const e=this.props,t=e.isOpen,n=e.children,r=Bt(e,["isOpen","children"]);let o;if(t){const e=ua(rc(r,["onOpen","onClose"]),{className:ah()});o=Rt.a.createElement(sh,jt({key:"popup"},e),"function"==typeof n?n():n)}else o=null;return Rt.a.createElement(Pa.a,{component:Ot.Fragment,transitionName:"_transition",transitionEnterTimeout:ih,transitionLeaveTimeout:ih},o)}}ch.defaultProps={isOpen:!1};var lh=ch;const uh={hasTriggerElem:!1};var dh=function(e){return void 0===e&&(e={}),t=>{const n=Object.assign({},uh,e);class r extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={isOpen:!1},this._triggerRef=Object(Ot.createRef)(),this._getTriggerElem=(()=>this._triggerRef.current),this._open=(()=>{this.setState({isOpen:!0})}),this._close=(()=>{this.setState({isOpen:!1})}),this._toggle=(()=>{this.state.isOpen?this._close():this._open()}),e}_renderTrigger(){return this.props.renderTrigger({containerRef:this._triggerRef,open:this._open,close:this._close,toggle:this._toggle,isOpen:this.state.isOpen})}_renderContent(){const e=n.hasTriggerElem,r=this.props,o=(r.renderTrigger,r.renderContent),s=r.containerRef,i=Bt(r,["renderTrigger","renderContent","containerRef"]),a=this.state.isOpen,c=e?{ref:s,getTriggerElem:this._getTriggerElem,close:this._close,isOpen:a}:{ref:s,close:this._close,isOpen:a};return Rt.a.createElement(t,jt({},i,c),()=>o({close:this._close}))}render(){return Rt.a.createElement(Ot.Fragment,null,this._renderTrigger(),this._renderContent())}}return r.displayName=`WithOpenState(${t.displayName||t.name||"Component"})`,Object(Ot.forwardRef)((e,t)=>Rt.a.createElement(r,jt({},e,{containerRef:t})))}};var ph=dh({hasTriggerElem:!0})(lh);n(266);const hh=ma("context-menu");function mh(e){let t=e.children,n=e.component,r=void 0===n?"span":n,o=Bt(e,["children","component"]);const s=ua(o,{className:hh("item-icon-container")}),i=Rt.a.Children.map(t,e=>Rt.a.isValidElement(e)?Rt.a.cloneElement(e,ua({className:hh("item-icon")},e.props)):e);return Rt.a.createElement(r,s,i)}function fh(e){let t=e.text,n=e.description,r=e.component,o=void 0===r?"span":r,s=Bt(e,["text","description","component"]);const i=ua(s,{className:hh("item-text-container")});return Rt.a.createElement(o,i,Rt.a.createElement("span",{className:hh("item-text")},t),n?Rt.a.createElement("span",{className:hh("item-description")},n):null)}function gh(e){const t=ua(e,{className:hh("divider")});return Rt.a.createElement("hr",t)}function _h(e){const t=e.component,n=void 0===t?"button":t,r=e.close,o=e.children,s=e.autoClose,i=void 0===s||s,a=e.alignItems,c=Bt(e,["component","close","children","autoClose","alignItems"]),l=ua(c,{className:hh("item",{alignItems:a,isClickable:"function"==typeof e.onClick}),onClick:i&&"function"==typeof r?r:void 0});return Rt.a.createElement(n,l,o)}function bh(e){let t=e.children,n=e.close,r=e.component,o=void 0===r?"div":r,s=Bt(e,["children","close","component"]);const i=Rt.a.Children.map(t,e=>Rt.a.isValidElement(e)?Rt.a.cloneElement(e,{close:n}):e),a=ua(s,{className:hh()});return Rt.a.createElement(o,a,i)}const vh={x:"left",y:"bottom",shifts:{bottom:40},shouldOverlap:!0,shouldFlip:!0};function yh(e){let t=e.renderTrigger,n=e.position,r=void 0===n?vh:n,o=e.children,s=Bt(e,["renderTrigger","position","children"]);const i=ua(s,{className:hh("popup")});return Rt.a.createElement(ph,jt({},i,{getPosition:eh(r),renderTrigger:t,renderContent:e=>{let t=e.close;return Rt.a.Children.map(o,e=>Rt.a.isValidElement(e)?Rt.a.cloneElement(e,Object.assign({},e.props,{close:t})):e)}}))}n(265);var Eh=()=>{const e=document.createElement("div");Object.assign(e.style,{position:"absolute",top:"-9999px",left:"-9999px",overflow:"scroll",visibility:"hidden",width:"100px",height:"100px"}),document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t};class kh extends Ot.Component{constructor(){var e;return e=super(...arguments),this.state={scrollbarWidth:null},e}componentDidMount(){this.setState({scrollbarWidth:Eh()})}render(){const e=this.props,t=e.component,n=e.componentRef,r=Bt(e,["component","componentRef"]),o=this.state.scrollbarWidth;let s;return s="number"==typeof o&&o>0?ua(r,{style:{width:`calc(100vw - ${o}px)`}}):r,Rt.a.createElement(t,jt({ref:n},s))}}kh.defaultProps={component:"div"};var wh=Object(Ot.forwardRef)((e,t)=>Rt.a.createElement(kh,jt({},e,{componentRef:t})));const Ch=27,xh=150,Sh=ma("modal");class Oh extends Rt.a.PureComponent{constructor(){var e;return e=super(...arguments),this.state={placeholderElem:null,margin:null,scrollbarWidth:null,isJustOpened:!1},this._composeInputRefs=$c(),this._scrollableContainerElem=null,this._scrollbarFixElem=null,this._whileOpenListenerStorage=new nc,this._scrollableContainerRef=(e=>{this._scrollableContainerElem=e,e?this._modalDidOpen():this._modalDidClose()}),this._scrollbarFixRef=(e=>{this._scrollbarFixElem=e}),e}componentDidUpdate(e){const t=this.props,n=t.isOpen,r=t.isMobileMenu,o=t.onOpen,s=t.onClose;!e.isOpen&&n&&("function"==typeof o&&o(),r&&this.setState({isJustOpened:!0})),e.isOpen&&!n&&("function"==typeof s&&s(),r&&this.setState({isJustOpened:!1}))}_isNotModalClick(e){return e.target===this._scrollableContainerElem||e.target===this._scrollbarFixElem}_modalDidOpen(){const e=this.state.scrollbarWidth;if(!this._scrollableContainerElem||"number"!=typeof e)return;const t=getComputedStyle(this._scrollableContainerElem).direction;this.setState({margin:"rtl"===t?`0 0 0 ${-e}px`:`0 ${-e}px 0 0`}),document.body&&(document.body.style.overflow="hidden");const n=e=>{if(this._isNotModalClick(e)){e.preventDefault();const t=this.props,n=t.shouldCloseOnOuterClick,r=t.close;n&&"function"==typeof r&&r()}};this._whileOpenListenerStorage.add(document,"mousedown",n,{passive:!1}),this._whileOpenListenerStorage.add(document,"touchstart",n,{passive:!1}),this._whileOpenListenerStorage.add(document,"keydown",e=>{if(e.keyCode===Ch){const e=this.props,t=e.shouldCloseOnEscClick,n=e.close;t&&"function"==typeof n&&n()}})}_modalDidClose(){this.setState({margin:null}),document.body&&(document.body.style.overflow=""),this._whileOpenListenerStorage.clear()}_renderChildren(){const e=this.props.children;return"function"==typeof e?e():e}_renderModal(){const e=this.props,t=e.isOpen,n=e.isMobileMenu,r=e.close,o=e.containerRef,s=e.withScrollbarFix,i=e.withVerticalAlign,a=e.scrollableContainerRef,c=e.viewType,l=e.isClosable,u=Bt(e,["isOpen","isMobileMenu","close","containerRef","withScrollbarFix","withVerticalAlign","scrollableContainerRef","viewType","isClosable"]),d=this.state,p=d.placeholderElem,h=d.margin,m=d.scrollbarWidth,f=d.isJustOpened,g=s?wh:"div";if(!t||!p||"number"!=typeof m)return null;const _={margin:h,visibility:h?null:"hidden"},b=ua(rc(u,["shouldCloseOnEscClick","shouldCloseOnOuterClick","onClose","onOpen"]),{className:Sh("content",{isMobileMenu:n}),style:f?{bottom:0}:null}),v=this._composeInputRefs(this._scrollableContainerRef,a),y=na.a.createPortal(Rt.a.createElement("div",{ref:v,className:Sh({viewType:c,withVerticalAlign:i}),style:_},Rt.a.createElement(g,{ref:this._scrollbarFixRef,className:Sh("scrollbar-fix")},Rt.a.createElement("div",jt({ref:o},b),this._renderChildren(),l?Rt.a.createElement("div",{className:Sh("close-wrapper")},Rt.a.createElement("button",{className:Sh("close"),onClick:r})):null))),p);return Rt.a.createElement(Ot.Fragment,{key:"modal"},y)}componentDidMount(){this.setState({placeholderElem:document.body,scrollbarWidth:Eh()})}componentWillUnmount(){this._whileOpenListenerStorage.clear()}render(){return Rt.a.createElement(Pa.a,{component:Ot.Fragment,transitionName:"_transition",transitionEnterTimeout:xh,transitionLeaveTimeout:xh},this._renderModal())}}Oh.defaultProps={isOpen:!1,isClosable:!0,shouldCloseOnEscClick:!0,shouldCloseOnOuterClick:!0,withScrollbarFix:!1,withVerticalAlign:!1,viewType:"outer-close"};var Rh=Oh;var Th=dh()(Rh);const Ih=la("featuring-menu");class Nh extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._onClick=((e,t)=>{e(),t.preventDefault(),t.stopPropagation()}),this._onDislike=(e=>{const t=this.props,n=t.onDislike,r=t.isMobile;n(e),r&&this._toggleMenu&&this._toggleMenu(),e.preventDefault(),e.stopPropagation()}),this._renderButton=(e=>{let t=e.containerRef,n=e.toggle;this._toggleMenu=n;const r=this.props,o=r.className,s={backgroundColor:r.color},i=la.mix(o,Ih());return Rt.a.createElement("div",{className:i,ref:t,onClick:e=>this._onClick(n,e)},Rt.a.createElement("div",{className:Ih("dots")},Rt.a.createElement("div",{className:Ih("dot"),style:s}),Rt.a.createElement("div",{className:Ih("dot"),style:s}),Rt.a.createElement("div",{className:Ih("dot"),style:s})))}),this._renderDislikeItem=(()=>{const e=this._getMenuData("dislike");if(!e)return null;const t=this.props.isMobile,n=e.title,r=e.subtitle,o=e.icon;return Rt.a.createElement(_h,{onClick:this._onDislike},Rt.a.createElement(mh,{className:Ih("dislike-icon",{isMobile:t})},Rt.a.createElement("img",{src:o})),Rt.a.createElement(fh,{text:n,description:t&&r}))}),this._onInfoClick=(e=>{const t=this._getMenuData("info").link;window.open(t),e.preventDefault(),e.stopPropagation()}),this._renderInfoItem=(()=>{const e=this._getMenuData("info");if(!e)return null;const t=this.props.isMobile,n=e.title,r=e.subtitle;return Rt.a.createElement(_h,{onClick:this._onInfoClick},Rt.a.createElement(mh,null),Rt.a.createElement(fh,{text:n,description:t&&r}))}),this._getMenuData=(e=>{const t=this.props.menu;if(t){const n=t.find(t=>t.type===e);if(n)return n.enable}return null}),this._renderMenu=(()=>{const e=this.props.isMobile,t=e?Rt.a.createElement(gh,null):null;return Rt.a.createElement(bh,{className:Ih("container",{isMobile:e})},this._renderDislikeItem(),t,this._renderInfoItem())}),e}render(){return this.props.isMobile?Rt.a.createElement(Th,{isMobileMenu:!0,renderTrigger:this._renderButton,renderContent:this._renderMenu}):Rt.a.createElement(yh,{renderTrigger:this._renderButton,position:{x:"right",y:"bottom",shifts:{top:15,right:190},shouldFlip:!1}},this._renderMenu())}}n(248);const Ph=la("featuring-subscribe-button");class Ah extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._onClick=(e=>{const t=this.props,n=t.disabled,r=t.onToggleSubscribe,o=t.onClick;n||(r(),o&&o()),e.preventDefault(),e.stopPropagation()}),e}render(){const e=this.props,t=e.className,n=e.buttonSize,r=e.source,o=e.feedbackButtons,s=e.subscribedKey,i=e.unsubscribedKey,a=o["subscribed"===r.status?i:s],c=a.text,l=a.textColor,u=a.backgroundColor,d={color:l,backgroundColor:u,borderColor:u};return Rt.a.createElement(ac,{className:la.mix(t,Ph()),style:d,onClick:this._onClick,size:n,viewType:"yellow"},Rt.a.createElement("div",{className:Ph("button-text")},c))}}Ah.defaultProps={disabled:!1};var Lh=tc(Ah);n(247);const Mh=la("scaled-container");var Dh=class extends Ot.PureComponent{render(){const e=this.props,t=e.width,n=e.height,r=e.rootRef,o=e.children,s=e.styles,i=void 0===s?{}:s,a=`${n/t*100}%`;return Rt.a.createElement("div",{className:Mh(),style:Object.assign({},i,{paddingBottom:a}),ref:r},Rt.a.createElement("div",{className:Mh("inner")},o))}};n(246);const jh=la("card-container"),Bh={NORMAL:"normal",SCALABLE:"scalable"};class Fh extends Ot.PureComponent{_renderScalable(){const e=this.props,t=e.rootRef,n=e.children,r=e.width,o=e.height,s=e.isNarrativeFeed;return Rt.a.createElement("div",{className:jh({"narrative-feed":s}),ref:t},Rt.a.createElement(Dh,{width:r,height:o},n))}_renderNormal(){const e=this.props,t=e.rootRef,n=e.children,r=e.width,o=e.styles,s=e.height,i=e.isFeedbackCard,a=e.isNarrativeFeed,c=Object.assign({},o,{width:r,height:s});return Rt.a.createElement("div",{className:jh({"is-feedback-card":i,"narrative-feed":a}),ref:t,style:c},n)}render(){switch(this.props.type){case Bh.SCALABLE:return this._renderScalable();case Bh.NORMAL:return this._renderNormal();default:return this.props.children}}}Fh.defaultProps={type:"normal"};var Uh=Fh;const zh=la("featuring-promo-card"),Vh="#DADADA";class Hh extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderHeader=(()=>{const e=this.props,t=e.header,n=e.menu,r=e.onDislike,o=e.isMobile,s={textShadow:this._getHeaderTextShadow()};return Rt.a.createElement("div",{className:zh("header")},Rt.a.createElement("div",{className:zh("promo-text"),style:s},t),Rt.a.createElement("div",{className:zh("menu-button")},Rt.a.createElement(Nh,{menu:n,onDislike:r,color:Vh,isMobile:o})))}),this._renderChannelInfo=(()=>{const e=this.props,t=e.source,n=t.logo,r=t.title,o=e.description,s={backgroundImage:`url(${n})`},i=this._getTextStyle();return Rt.a.createElement("div",{className:zh("info")},Rt.a.createElement("div",{className:zh("logo"),style:s},this._renderVerified()),Rt.a.createElement("div",{className:zh("title"),style:i},r),Rt.a.createElement(su,{className:zh("description"),style:i,isIntersecting:!0},o))}),this._renderSubscribe=(()=>{const e=this.props,t=e.feedbackProps,n=e.feedbackButtons,r=e.logger;return Rt.a.createElement(Lh,jt({subscribedKey:"subscribe_promo",unsubscribedKey:"unsubscribe",className:zh("subscribe-button"),feedbackButtons:n,logger:r,buttonSize:"m"},t))}),this._renderFeedback=(()=>{const e=this.props,t=e.logger,n=e.feedback,r=e.feedbackProps,o=e.onFeedbackClick;return"disliked"!==n?null:Rt.a.createElement("div",{className:zh("feedback"),onClick:o},Rt.a.createElement(Ac,jt({logger:t,cancelExtendFeedbackPopupExp:!0},r)))}),this._renderBackground=(()=>{const e=this.props,t=e.background,n={image:t,cardBackgroundImage:t,cardBackgroundWhiteImage:t,forcedMode:"bci",color:e.mainColor,blurredPreview:e.blurredPreview,theme:e.theme,isRead:!1,size:"small",imageStyle:{backgroundPosition:"0px 0px",backgroundSize:"cover"}};return Rt.a.createElement("div",{className:zh("background")},Rt.a.createElement(Nl,n))}),this._renderVerified=(()=>{const e=this.props.source.verified;if(!e)return null;const t=e.label,n={backgroundImage:`url(${e.icon})`};return Rt.a.createElement("div",{className:zh("verified"),title:t,style:n})}),this._getHeaderTextShadow=(()=>{const e=this.props.textColor,t=Lc(e);return`0 0 10px rgba(${t[0]}, ${t[1]}, ${t[2]}, 0.55)`}),this._getTextStyle=(()=>{return{color:this.props.textColor,textDecoration:"none"}}),e}render(){const e=this.props,t=e.source.feedLink,n=e.mainColor,r=e.onClick,o=e.isMobile,s=e.rootRef,i=Object.assign({},this._getTextStyle(),{backgroundColor:n});return Rt.a.createElement(Uh,null,Rt.a.createElement(Ul,{className:zh({isMobile:o}),href:t,onClick:r,style:i,ref:s},this._renderBackground(),Rt.a.createElement("div",{className:zh("content")},this._renderHeader(),this._renderChannelInfo(),this._renderSubscribe()),this._renderFeedback()))}}const Wh=Object(zi.a)(mn((e,t)=>{let n=t.source;return{bulkParams:n.bulkParams,statEvents:n.statEvents,isMobile:!1}}),hl,tc,Pd,Ad)(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._onFeedbackClick=(e=>{e.preventDefault(),e.stopPropagation()}),e}render(){const e=this.props,t=e.header,n=e.description,r=e.mainColor,o=e.textColor,s=e.background,i=e.blurredPreview,a=e.menu,c=e.source,l=e.isMobile,u=e.feedback,d=e.feedbackProps,p=e.feedbackButtons,h=e.logger,m=e.onClick,f=e.onDislikeClick,g={header:t,description:n,mainColor:r,textColor:o,background:s,blurredPreview:i,menu:a,source:c,isMobile:l,feedback:u,feedbackProps:d,feedbackButtons:p,logger:h,rootRef:e.rootRef,onClick:m,onFeedbackClick:this._onFeedbackClick,onDislike:f};return Rt.a.createElement(Hh,g)}});const $h=Object(zi.a)(mn(()=>{const e=Do(),t=Bo(),n=Ao();return(r,o)=>{let s=o.id;const i=r.sources,a=r.feed,c=rr(r),l=a.items[s],u=i[l.source],d=(ur(r)?t:e)(r,s),p=n(r,s);return Object.assign({},l,{theme:c,source:u,feedbackProps:d,feedbackMittensProps:p})}}),ml,Ia,Pd)(class extends Ot.PureComponent{render(){return Rt.a.createElement(Wh,this.props)}});n(245),n(244);const Gh=la("zen-carousel"),qh=300,Kh=.8,Yh={s:12,m:10,l:8};class Qh extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._scrollPosition=0,this._scrollStep=0,this._itemWidth=0,this.state={isMinScrolled:!0,isMaxScrolled:!0,scrollStep:0},this._scrollWrapperRef=(e=>{this._scrollWrapper=e,this._scrollStep=e?.8*e.clientWidth:0,e&&!this.props.hiddenArrows&&(this._toggleLeftArrowVisibility(),this._toggleRightArrowVisibility())}),this._scrollListRef=(e=>{this._scrollList=e}),this._itemRef=(e=>{const t=this.props.size;e&&!this._itemWidth&&(this._itemWidth=e.clientWidth+Yh[t]),e&&e.addEventListener("transitionend",()=>{const e=this._scrollWrapper,t=e.clientWidth,n=e.scrollLeft,r=e.scrollWidth-t-n;r<0&&this._animateScroll(r)},!1)}),this._arrowRef=(e=>t=>{"left"===e?this._leftArrow=t:this._rightArrow=t}),this._toggleLeftArrowVisibility=(()=>{const e=this.state.isMinScrolled,t=0===this._scrollPosition;e!==t&&this.setState({isMinScrolled:t})}),this._toggleRightArrowVisibility=(()=>{const e=this.state.isMaxScrolled,t=this._scrollWrapper,n=t.scrollWidth-t.scrollLeft-t.clientWidth==0;e!==n&&this.setState({isMaxScrolled:n})}),this._animateScroll=(e=>{this._cancelSaveScroll||(this._cancelSaveScroll=!0,this._scrollPosition=Math.round(this._scrollPosition+e),this._scrollList.style.transitionDuration="0.3s",this._scrollList.style.transform=`translateX(${-e}px)`,qe(qh).then(()=>{this._scrollList.style.transitionDuration="0s",this._scrollList.style.transform="",this._scrollWrapper.scrollLeft=this._scrollPosition,this._toggleLeftArrowVisibility(),this._toggleRightArrowVisibility(),this._cancelSaveScroll=!1}))}),this._onArrowClick=(e=>{const t=this.props.size;return()=>{const n=this._scrollWrapper,r=n.scrollWidth,o=n.scrollLeft,s=n.clientWidth,i="left"===e?r-s-o:o,a=r-i-s,c=this._itemWidth,l=i+s,u=Math.ceil(l/c),d=(l%c/c>Kh?u:u-1)*c-(s%c+Yh[t])/2-i,p=a<d?a:d;this._animateScroll("left"===e?-p:p)}}),this._onScroll=(e=>{this._cancelSaveScroll||(this._scrollPosition=e.target.scrollLeft),this.props.hiddenArrows||(this._toggleLeftArrowVisibility(),this._toggleRightArrowVisibility()),e.preventDefault(),e.stopPropagation()}),this._onWheel=(e=>{const t=this.state,n=t.isMinScrolled,r=t.isMaxScrolled;if(0!==e.deltaY)return;const o=n&&e.deltaX<=0,s=r&&e.deltaX>=0;(o||s)&&(e.preventDefault(),e.stopPropagation())}),this._renderArrows=(()=>{const e=this.props,t=e.leftArrow,n=e.rightArrow,r=e.isMobile,o=this.state,s=o.isMinScrolled,i=o.isMaxScrolled;return t&&n?r?null:Rt.a.createElement(Ot.Fragment,null,s?null:t,i?null:n):r?null:["right","left"].map(e=>{const t=this._arrowRef(e),n=this._onArrowClick(e),r="left"===e?s:i;return Rt.a.createElement("div",{className:Gh("arrow",{type:e,hidden:r}),ref:t,onClick:n,key:e},Rt.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},Rt.a.createElement("path",{transform:"left"===e?"rotate(180) translate(-24, -24)":"",d:"M16.747 11l-.75-.588-4.704-4.705 1.414-1.414L20.414 12l-7.707 7.707-1.414-1.414 4.709-4.709.748-.584H4v-2h12.747z",fill:"#000"})))})}),this._renderChildren=(()=>{const e=this.props.children,t=void 0===e?[]:e;return Ot.Children.map(t,e=>{const t=e.props.hidden;return Rt.a.cloneElement(e,{className:Gh("item",{hidden:t}),carouselRef:this._itemRef})})}),e}componentDidUpdate(){if(this._scrollWrapper&&this._itemWidth){const e=this.state,t=e.isMinScrolled,n=e.isMaxScrolled,r=this.props.children,o=void 0===r?[]:r,s=this._scrollWrapper.clientWidth,i=Ot.Children.toArray(o).filter(e=>!e.props.hidden).length,a=Math.floor(s/this._itemWidth);i<=a&&!t&&this.setState({isMinScrolled:!0}),i<=a&&!n&&this.setState({isMaxScrolled:!0})}}render(){const e=this.props,t=e.isMobile,n=e.className,r=e.contentPadding,o=la.mix(n,Gh({isMobile:t}));return Rt.a.createElement("div",{className:o},this._renderArrows(),Rt.a.createElement("div",{className:Gh("container")},Rt.a.createElement("div",{className:Gh("scroll-wrapper"),ref:this._scrollWrapperRef,onWheel:this._onWheel,onScroll:this._onScroll},Rt.a.createElement("div",{className:Gh("scroll-list",{contentPadding:r}),ref:this._scrollListRef},this._renderChildren()))))}}n(243);var Zh=new Yl.a({id:"featuring-close--inline",use:"featuring-close--inline-usage",viewBox:"0 0 13 13",content:'<symbol viewBox="0 0 13 13" id="featuring-close--inline">\n    <path d="M1.90384 0.424561L0.489624 1.83887L5.08583 6.43506L0.489624 11.0312L1.90383 12.4453L6.50003 7.84912L11.0962 12.4453L12.5104 11.0312L7.91423 6.43506L12.5104 1.83887L11.0962 0.424561L6.50003 5.02075L1.90384 0.424561Z" />\n</symbol>'}),Jh=(Zl.a.add(Zh),Zh);const Xh="featuring_channel_large",em="featuring_channel_small",tm=la("featuring-carousel-card");class nm extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderClose=(()=>{const e=this.props,t=e.color,n=e.cardType,r=e.onCloseClick,o=Jh.id,s=Jh.viewBox;return Rt.a.createElement("div",{className:tm("close-button",{cardType:n}),onClick:r},Rt.a.createElement("svg",{width:"13",height:"13",viewBox:s},Rt.a.createElement("use",{style:{fill:t},xlinkHref:`#${o}`})))}),this._renderLogo=(()=>{const e=this.props,t=e.logo,n=e.cardType,r={backgroundImage:`url(${t})`};return n===em?null:Rt.a.createElement("div",{className:tm("logo",{cardType:n}),style:r})}),this._renderTitle=(()=>{const e=this.props,t=e.title,n=e.color,r=e.cardType,o={color:n};switch(r){case Xh:return Rt.a.createElement("div",{className:tm("title",{cardType:r}),style:o},t);case em:return Rt.a.createElement(su,{className:tm("title",{cardType:r}),style:o,isIntersecting:!0},t);default:return null}}),this._renderDescription=(()=>{const e=this.props,t=e.description,n=e.color;if(e.cardType===em)return null;const r={color:n};return Rt.a.createElement(su,{className:tm("description"),style:r,isIntersecting:!0},t)}),this._renderSubscribe=(()=>{const e=this.props,t=e.cardType,n=e.feedbackProps,r=e.feedbackButtons,o=e.logger,s=e.onSubscribeClick,i=e.subscribeDisabled,a=t===Xh?"m":"s";return Rt.a.createElement(Lh,jt({subscribedKey:"subscribe",unsubscribedKey:"unsubscribe",className:tm("subscribe"),feedbackButtons:r,logger:o,buttonSize:a,onClick:s,disabled:i},n))}),this._renderBackground=(()=>{const e=this.props,t=e.background,n=e.framedLogo,r={backgroundImage:`url(${e.cardType===Xh?t:n})`};return Rt.a.createElement("div",{className:tm("background"),style:r})}),this._ref=(e=>{const t=this.props,n=t.rootRef,r=t.carouselRef;n(e),r(e)}),e}render(){const e=this.props,t=e.className,n=e.link,r=e.cardType,o=e.onClick,s=e.hidden,i=e.isAnimationDelay,a=la.mix(t,tm({cardType:r,hidden:s,isAnimationDelay:i}));return Rt.a.createElement(Ul,{className:a,href:n,ref:this._ref,onClick:o},this._renderBackground(),Rt.a.createElement("div",{className:tm("content",{cardType:r})},this._renderLogo(),this._renderTitle(),this._renderDescription(),this._renderSubscribe()),this._renderClose())}}const rm={closeCarouselItem:(e,t,n)=>({type:"CLOSE_CAROUSEL_ITEM",payload:{id:e,index:t,isAnimationDelay:n}})},om=Object(zi.a)(mn(()=>{const e=Do(),t=Bo();return(n,r)=>{const o=n.sources,s=r.source,i=r.parentId,a=r.index,c=r.textColor,l=r.cardType,u=(ur(n)?t:e)(n,i,a),d=o[s],p=d.logo,h=d.framedLogo,m=d.title,f=d.feedLink,g=d.logoBackgroundColor,_=d.titleColor,b=d.status;return{logo:p,framedLogo:h,title:m,link:f,mainColor:g,color:l===Xh?c:_,feedbackProps:u,subscribeDisabled:"subscribed"===b}}},rm),hl,ml,Ia,Pd,Ad)(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._componentRef=(e=>{this.setState({itemNode:e})}),this._onSubscribeClick=(()=>{const e=this.props,t=e.parentId,n=e.index;(0,e.closeCarouselItem)(t,n,!0)}),this._onCloseClick=(e=>{const t=this.props,n=t.parentId,r=t.index,o=t.closeCarouselItem;(0,t.itemDislike)(),o(n,r),e.preventDefault(),e.stopPropagation()}),e}componentDidUpdate(){const e=this.props,t=e.root,n=e.rootRef,r=e.isContainerVisible,o=this.state.itemNode;t&&o&&r&&n(o)}render(){const e=Object.assign({},this.props,{rootRef:this._componentRef,onCloseClick:this._onCloseClick,onSubscribeClick:this._onSubscribeClick});return Rt.a.createElement(nm,e)}}),sm=la("featuring-carousel");class im extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderChildren=(()=>{const e=this.props,t=e.id,n=e.carouselType,r=e.items,o=e.rootNode,s=e.isVisible;return r.map((e,r)=>{const i=Object.assign({},e,{index:r,parentId:t,visibilityThreshold:.99,cardType:n,root:o,isContainerVisible:s});return Rt.a.createElement(om,jt({key:r},i))})}),this._renderHeader=(()=>{const e=this.props,t=e.menu,n=e.title,r=e.subtitle,o=e.onDislike,s=e.isMobile,i=s&&r?Rt.a.createElement("div",{className:sm("subtitle")},r):null;return Rt.a.createElement("div",{className:sm("header-wrapper")},Rt.a.createElement("div",{className:sm("header")},Rt.a.createElement("div",{className:sm("title")},n),Rt.a.createElement(Nh,{className:sm("menu"),color:"#000000",menu:t,onDislike:o,isMobile:s})),i)}),e}render(){const e=this.props,t=e.hidden,n=e.componentRef,r=e.isMobile,o=this._renderChildren();return Rt.a.createElement("div",{className:sm({hidden:t,isMobile:r}),ref:n},this._renderHeader(),Rt.a.createElement(Qh,{className:sm("content"),isMobile:r,size:"m"},o))}}const am={closeCarousel:e=>({type:"CLOSE_CAROUSEL",payload:{id:e}})},cm=Object(zi.a)(mn(()=>(e,t)=>{let n=t.id;const r=e.feed.items[n];return Object.assign({},r,{isMobile:!1})},am),hl,ml,Ia,Pd)(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={},this._componentRef=(e=>{(0,this.props.rootRef)(e),this.setState({rootNode:e})}),this._onDislike=(()=>{const e=this.props,t=e.id,n=e.closeCarousel;(0,e.itemDislike)(),n(t)}),e}render(){const e=this.props,t=e.id,n=e.title,r=e.subtitle,o=e.items,s=e.carouselType,i=e.menu,a=e.hidden,c=e.isMobile,l=e.logger,u=e.isVisible,d={id:t,title:n,subtitle:r,carouselType:s,menu:i,hidden:a,isMobile:c,items:o,rootNode:this.state.rootNode,logger:l,isVisible:u,componentRef:this._componentRef,onDislike:this._onDislike};return Rt.a.createElement(im,d)}}),lm=(Object(vn.createSelector)((e,t)=>e.feed.items[t],e=>e.sources,(e,t)=>e.items.map(e=>{const n=t[e.source],r=n.status,o=n.feedback,s="subscribed"===r||"disliked"===o;return Object.assign({},e,{hidden:s,hasDislikeButton:!0})})),e=>Object(vn.createSelector)(e,e=>e.sources,(e,t)=>e.items.map(e=>{const n=t[e.source],r=n.status,o=n.feedback,s="subscribed"===r||"disliked"===o;return Object.assign({},e,{hidden:s,hasDislikeButton:!0})}))),um=e=>Object(vn.createSelector)(lm(e),e=>0===e.filter(e=>{return!e.hidden}).length);n(242),n(241);var dm=new Yl.a({id:"cross--inline",use:"cross--inline-usage",viewBox:"0 0 14 14",content:'<symbol viewBox="0 0 14 14" id="cross--inline"><path d="m13.0208153 11.0208153v-7.50000002h-2v7.50000002h-7.50000002v2h7.50000002v7.5h2v-7.5h7.5v-2z" fill-rule="evenodd" transform="matrix(.70710678 -.70710678 .70710678 .70710678 -9.979185 7.020815)" /></symbol>'}),pm=(Zl.a.add(dm),dm);const hm=la("source-card2-view"),mm={s:10,m:10,l:16};class fm extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderClose=(()=>{const e=this.props,t=e.color,n=e.onCloseClick,r=e.hasDislikeButton,o=pm.id,s=pm.viewBox;return r?Ot.createElement("div",{className:hm("close-button"),onClick:n},Ot.createElement("svg",{width:"12",height:"12",viewBox:s},Ot.createElement("use",{style:{fill:t},xlinkHref:`#${o}`}))):null}),this._renderTitle=(()=>{const e=this.props,t=e.title,n=e.size,r={color:e.color},o=Object.assign({size:n},this._hasLongWord(t,mm[n]));return Ot.createElement("div",{className:hm("title",o),style:r},t)}),this._renderSubscribe=(()=>{const e=this.props,t=e.buttonSize,n=e.sourceStatus,r=e.onToggleSubscribe,o="subscribed"===n,s={color:"#000000",backgroundColor:o?"#FFFFFF":"#FFCC00"},i=o?"Отписаться":"Подписаться";return Ot.createElement(ac,{className:hm("subscribe-button"),style:s,onClick:r,size:t},Ot.createElement("div",{className:hm("subscribe-button-text")},i))}),this._renderContentHeader=(()=>Ot.createElement("div",{className:hm("header")},this._renderClose())),this._renderBackground=(()=>{const e=this.props,t=e.image,n={backgroundColor:e.mainColor,backgroundImage:`url(${t})`};return Ot.createElement("div",{className:hm("background"),style:n})}),e}_hasLongWord(e,t){return{lineCount:e.split(" ").length>1&&e.length>t?2:1}}render(){const e=this.props,t=e.className,n=e.link,r=e.size,o=e.onClick,s=e.hidden,i=e.rootRef,a=e.isMobile,c=la.mix(t,hm({size:r,hidden:s,isMobile:a}));return Ot.createElement(Ul,{className:c,href:n,ref:i,onClick:o},this._renderBackground(),Ot.createElement("div",{className:hm("content-box")},this._renderContentHeader(),this._renderTitle(),this._renderSubscribe()))}}const gm={s:"framed_100x128_1x",m:"framed_132x176_1x",l:"framed_212x280_1x"},_m={s:"framed_100x128_1x",m:"framed_132x176_1x",l:"framed_202x260_1x"},bm=Zu(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._componentRef=(e=>{const t=this.props,n=t.rootRef,r=t.carouselRef;r&&r(e),n(e)}),this._onToggleSubscribe=(e=>{(0,this.props.onToggleSubscribe)(),e.preventDefault(),e.stopPropagation()}),this._onCloseClick=(e=>{(0,this.props.onDislike)(),e.preventDefault(),e.stopPropagation()}),e}render(){const e=this.props,t=e.className,n=e.size,r=e.title,o=e.color,s=e.mainColor,i=e.image,a=e.link,c=e.hidden,l=e.onClick,u=e.sourceStatus,d=e.hasDislikeButton,p=e.isVisible,h=e.logger,m=e.isMobile,f={className:t,title:r,color:o,mainColor:s,link:a,hidden:c,size:n,image:i,onClick:l,sourceStatus:u,rootRef:this._componentRef,onCloseClick:this._onCloseClick,onToggleSubscribe:this._onToggleSubscribe,buttonSize:"s"===n?"s":"m",hasDislikeButton:d,isMobile:m};return Ot.createElement(pc,{logger:h,isVisible:p},Ot.createElement(fm,f))}}).to(Ad).to(Ia).to(tc).to(mn(()=>{const e=ko();return(t,n)=>{const r=t.sources,o=n.source,s=n.size,i=n.isMobile,a=i?_m:gm,c=r[o],l=e(n),u=c.logoSizes,d=c.title,p=c.feedLink,h=c.logoBackgroundColor,m=c.titleColor;return{title:d,link:p,mainColor:h,source:c,sourceStatus:c.status,logger:l,color:m,image:u[a[s]],isMobile:i}}})).value;n(240);var vm=n(60),ym=n.n(vm),Em=n(67),km=n.n(Em);n(3),n(37);function wm(e){return"/"===e.charAt(0)}function Cm(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}var xm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&wm(e),s=t&&wm(t),i=o||s;if(e&&wm(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var a=void 0;if(r.length){var c=r[r.length-1];a="."===c||".."===c||""===c}else a=!1;for(var l=0,u=r.length;u>=0;u--){var d=r[u];"."===d?Cm(r,u):".."===d?(Cm(r,u),l++):l&&(Cm(r,u),l--)}if(!i)for(;l--;l)r.unshift("..");!i||""===r[0]||r[0]&&wm(r[0])||r.unshift("");var p=r.join("/");return a&&"/"!==p.substr(-1)&&(p+="/"),p};"function"==typeof Symbol&&Symbol.iterator;var Sm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Om=function(e,t,n,r){var o=void 0;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var s=t.indexOf("?");return-1!==s&&(n=t.substr(s),t=t.substr(0,s)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Sm({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=xm(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o},Rm=("undefined"==typeof window||!window.document||window.document.createElement,"function"==typeof Symbol&&Symbol.iterator,Object.assign,Object.assign,"function"==typeof Symbol&&Symbol.iterator,Object.assign,Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});function Tm(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Im=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},Nm=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=r=Tm(this,e.call.apply(e,[this].concat(s))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!Im(e)){e.preventDefault();var t=r.context.router.history,n=r.props,o=n.replace,s=n.to;o?t.replace(s):t.push(s)}},Tm(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);km()(this.context.router,"You should not use <Link> outside a <Router>"),km()(void 0!==t,'You must specify the "to" property');var o=this.context.router.history,s="string"==typeof t?Om(t,null,null,o.location):t,i=o.createHref(s);return Rt.a.createElement("a",Rm({},r,{onClick:this.handleClick,href:i,ref:n}))},t}(Rt.a.Component);Nm.propTypes={onClick:ym.a.func,target:ym.a.string,replace:ym.a.bool,to:ym.a.oneOfType([ym.a.string,ym.a.object]).isRequired,innerRef:ym.a.oneOfType([ym.a.string,ym.a.func])},Nm.defaultProps={replace:!1},Nm.contextTypes={router:ym.a.shape({history:ym.a.shape({push:ym.a.func.isRequired,replace:ym.a.func.isRequired,createHref:ym.a.func.isRequired}).isRequired}).isRequired};var Pm=Nm;mn(e=>({location:e.router.location}))(e=>{let t=e.location,n=e.to,r=(e.dispatch,Bt(e,["location","to","dispatch"]));const o=((e,t)=>{const n=e.search;let r,o;return r=t&&"string"==typeof t.search?c(Object.assign({},a(n),a(t.search))):n,o="string"==typeof t?{pathname:t,search:r}:Object.assign({},t,{search:r})})(t,n);return Ot.createElement(Pm,jt({to:o},r))});const Am=e=>Ot.createElement(Ul,e),Lm=la("personal-carousel-stub-view");class Mm extends Ot.PureComponent{render(){const e=this.props,t=e.size,n=e.className,r=e.platform,o=e.searchLink,s=e.theme;return Ot.createElement("div",{className:la.mix(Lm({size:t,platform:r}),n)},Ot.createElement("span",{className:Lm("icon",{theme:s})}),Ot.createElement("div",{className:Lm("content",{platform:r})},Ot.createElement("div",{className:Lm("text",{theme:s})},"Новых рекомендаций пока нет"),Ot.createElement(Am,{className:Lm("more-link"),href:o},"Найти другие темы и каналы")))}}var Dm=new Yl.a({id:"right-arrow--inline",use:"right-arrow--inline-usage",viewBox:"0 0 11 18",content:'<symbol viewBox="0 0 11 18" fill="none" id="right-arrow--inline">\n<path d="M1 17L9 9L1 1" stroke-width="2" />\n</symbol>'}),jm=(Zl.a.add(Dm),Dm);const Bm=la("personal-carousel-view");class Fm extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderCarouselItem=(()=>{const e=this.props,t=e.id,n=e.size,r=e.items,o=e.isMobile;return r.map((e,r)=>{const s=e.statEvents,i=e.bulkParams,a=e.source,c=e.hidden,l={size:n,index:r,source:a,statEvents:s,bulkParams:i,hidden:c,key:r,parentId:t,visibilityThreshold:.99,hasDislikeButton:!0,isMobile:o};return Ot.createElement(bm,l)})}),this._renderMore=(()=>{const e=this.props.showMoreLink,t=jm.id,n=jm.viewBox;if(e)return Ot.createElement("div",{className:Bm("more-link")},Ot.createElement("div",{className:Bm("more-link-text")},"Показать больше тем"),Ot.createElement("svg",{className:Bm("more-link-icon"),width:"13",height:"13",viewBox:n},Ot.createElement("use",{xlinkHref:`#${t}`})))}),this._renderHeader=(()=>{const e=this.props.background;return Ot.createElement("div",{className:Bm("header",{background:e})},this._renderHeaderTop(),this._renderSubtitle())}),this._renderBody=(()=>{const e=this.props,t=e.size,n=e.hidden,r=e.background,o=e.searchLink,s=e.isMobile,i=e.theme,a=this._renderCarouselItem(),c={size:t,searchLink:o,platform:"desktop",theme:i};if(n)return Ot.createElement(Mm,c);const l="grey"===r?"s":null;return Ot.createElement(Qh,{className:Bm("carousel",{contentPadding:l}),size:t,isMobile:s},a)}),e}_renderHeaderTop(){const e=this.props,t=e.title,n=e.mode,r=e.theme;return"pinned-lib"===n?null:Ot.createElement("div",{className:Bm("header-top")},Ot.createElement("div",{className:Bm("title",{theme:r})},t),this._renderMore())}_renderSubtitle(){const e=this.props,t=e.subtitle,n=e.mode,r=e.theme;return t?Ot.createElement("div",{className:Bm("subtitle",{mode:n,theme:r})},t):null}render(){const e=this.props,t=e.className,n=e.background,r=e.componentRef;return Ot.createElement("div",{className:la.mix(Bm(),t),ref:r},Ot.createElement("div",{className:Bm("wrapper",{background:n})},this._renderHeader(),this._renderBody()))}}n(237);const Um=la("personal-carousel-view-mobile");class zm extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderCarouselItem=(()=>{const e=this.props,t=e.id,n=e.size,r=e.items,o=e.isMobile;return r.map((e,r)=>{const s=e.statEvents,i=e.bulkParams,a=e.source,c=e.hidden,l={size:n,index:r,source:a,statEvents:s,bulkParams:i,hidden:c,key:r,parentId:t,visibilityThreshold:.99,hasDislikeButton:!0,isMobile:o};return Ot.createElement(bm,l)})}),this._renderHeader=(()=>{const e=this.props,t=e.mode,n=e.title,r=e.subtitle,o="feed"===t||"pinned-lib"===t,s="feed"===t||"pinned"===t,i={background:e.background};return Ot.createElement("div",{className:Um("header",i)},s?Ot.createElement("div",{className:Um("header-top")},Ot.createElement("div",{className:Um("title")},n)):null,o?Ot.createElement("div",{className:Um("subtitle")},r):null)}),this._renderBody=(()=>{const e=this.props,t=e.mode,n=e.size,r=e.hidden,o=e.isMobile,s=e.background,i=e.searchLink,a=this._renderCarouselItem(),c={size:n,className:Um("stub"),platform:"mobile",searchLink:i};if(r)return Ot.createElement(Mm,c);const l="pinned"===t||"feed"===t&&"white"===s?"24":"default";return Ot.createElement(Qh,{className:Um("carousel",{}),size:n,isMobile:o,contentPadding:l},a)}),e}render(){const e=this.props,t=e.className,n=e.background,r=e.componentRef,o=e.mode;return Ot.createElement("div",{className:la.mix(Um({mode:o}),t),ref:r},Ot.createElement("div",{className:Um("wrapper",{background:n})},this._renderHeader(),this._renderBody()))}}const Vm=Zu(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._componentRef=(e=>{this.props.rootRef(e)}),this._setPackShown=(()=>{const e=this.props.packId;gt.packShown(e)}),this._onShow=(()=>{this._setPackShown()}),e}_renderPersonalCarousel(){const e=this.props,t=e.id,n=e.title,r=e.items,o=e.hidden,s=e.background,i=e.subtitle,a=e.size,c=e.isMobile,l=e.logger,u=e.className,d=e.showMoreLink,p=e.searchLink,h=e.mode,m=e.theme,f={id:t,title:n,subtitle:i,size:a,hidden:o,isMobile:c,items:r,logger:l,background:s,className:u,showMoreLink:d,searchLink:p,componentRef:this._componentRef,mode:h,theme:m};return c?Ot.createElement(zm,f):Ot.createElement(Fm,f)}render(){const e=this.props,t=e.isVisible,n=e.logger;return Ot.createElement(pc,{logger:n,isVisible:t,onShow:this._onShow},this._renderPersonalCarousel())}}).to(Ia).to(mn(()=>e=>({isMobile:!1,searchLink:`${(e=>"/"===e[e.length-1]?e.slice(0,-1):e)(e.params.host)}/search`,theme:rr(e)}))).value,Hm=mn(()=>{const e=ko(),t=(e,t)=>e.feed.items[t],n=um(t),r=lm(t);return(o,s)=>{let i=s.id;const a=t(o,i),c=r(o,i),l=n(o,i),u=e(a);return Object.assign({},a,{items:c,hidden:l,logger:u,mode:"feed"})}})(Vm);n(235);const Wm=la("feed-item-header"),$m=37,Gm="…";const qm=mn(()=>(e,t)=>{let n=t.id;const r=e.feed,o=e.params,s=r.items[n],i=e.sources[s.source];return{type:s.type,actionTime:s.actionTime,source:i,isMobile:o.isMobile}})(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderAction=(()=>{const e=this.props,t=e.type,n=e.isMobile,r=t===z,o=r?`${"Комментарий к статье"} `:"Понравилось";return Ot.createElement("span",{className:Wm("action",{isMobile:n,shift:!r})},o)}),this._maybeRenderArticleTitle=(()=>{const e=this.props,t=e.type,n=e.source,r=e.isMobile,o=t===z?"a":"span",s={};let i=n.title.slice(0,$m);return t===z&&n.title?(t===z&&(s.href=n.link,s.target="_blank",s.rel="noreferrer noopener"),i.length<n.title.length&&(i=`${i}${Gm}`),Ot.createElement(o,jt({className:Wm("title",{isMobile:r})},s),i)):null}),this._maybeRenderActionTime=(()=>{const e=this.props,t=e.actionTime,n=e.isMobile,r=e.type===z||n?"span":"div";return t?Ot.createElement(r,{className:Wm("date")},t):null}),e}render(){const e=this.props.isMobile;return Ot.createElement("div",{className:Wm("",{isMobile:e})},this._renderAction(),this._maybeRenderArticleTitle(),this._maybeRenderActionTime())}});n(234);const Km=la("comment-doc"),Ym="12",Qm="13",Zm="M11.22 5.387h.001c.43 0 .779.353.779.789v.031a12.111 12.111 0 0 1-.579 3.031l-.002.007A12.035 12.035 0 0 1 9.5 12.863l-.001.001-.113.136H3.468V6.28l3.433-4.141.002-.003a3.41 3.41 0 0 0 .547-1.031l.002-.005c.09-.276.147-.568.166-.87a.771.771 0 0 1 .55-.23c.402 0 .675.27.839.73.195.55.178 1.17.178 1.17a3.46 3.46 0 0 1-.737 2.14h.002L7.319 5.388h3.901zM2.312 13H0V6.279h2.312v6.72z";const Jm=mn(()=>(e,t)=>{let n=t.id;const r=e.feed.items[n],o=e.sources[r.source],s=e.user||{};return Object.assign({},r,{user:{avatarUrl:s.avatar,displayName:s.displayName},isMobile:e.params.isMobile,source:o})})(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderComment=(()=>{const e=this.props.comment;return Ot.createElement("div",{className:Km("comment")},e.text)}),this._renderLikes=(()=>{const e=this.props.comment;return Ot.createElement("div",{className:Km("likes")},Ot.createElement("svg",{width:Ym,height:Qm,fill:"none",xmlns:"http://www.w3.org/2000/svg",className:Km("likes-icon")},Ot.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:Zm})),Ot.createElement("span",{className:Km("likes-count")},e.likeCount))}),this._renderAuthor=(()=>{const e=this.props.user,t={backgroundImage:`url(${e.avatarUrl})`};return Ot.createElement("div",{className:Km("user")},Ot.createElement("div",{className:Km("user-avatar")},Ot.createElement("div",{className:Km("user-avatar-image"),style:t})),Ot.createElement("div",{className:Km("user-name")},e.displayName))}),this._renderLinkToAllComments=(()=>{const e=this.props.source;return Ot.createElement("div",{className:Km("all-comments-wrap")},Ot.createElement("a",{href:`${e.link}#comments_data=p_root`,target:"_blank",rel:"noreferrer noopener",className:Km("all-comments")},"Все комментарии"))}),e}render(){const e=this.props,t=e.comment,n=e.isMobile;return Ot.createElement("div",{className:Km()},this._renderAuthor(),Ot.createElement("a",{href:t.url,target:"_blank",rel:"noreferrer noopener",className:Km("bubble")},Ot.createElement("div",{className:Km("comment",{isMobile:n})},t.text)),Ot.createElement("div",{className:Km("footer")},this._renderLikes(),this._renderLinkToAllComments()))}});n(233);const Xm=la("profile-onboarding-card");const ef=mn(()=>(e,t)=>{let n=t.id;const r=e.feed,o=e.params,s=r.items[n],i=o.isMobile;return Object.assign({},s,{isMobile:i})})(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._renderInterestsCard=(()=>Ot.createElement("div",{className:Xm("title")},"При желании активность или интересы можно скрыть в настройках")),this._renderLikesCard=(()=>Ot.createElement(Ot.Fragment,null,Ot.createElement("div",{className:Xm("title")},"Здесь будут размещаться ваши лайки, публикации и комментарии"))),this._renderContent=(()=>"likes"===this.props.mode?this._renderLikesCard():this._renderInterestsCard()),e}render(){const e=this.props,t=e.mode,n=e.isMobile;return Ot.createElement("div",{className:Xm({mode:t,isMobile:n})},this._renderContent())}});let tf,nf;!function(e){e.ERROR="ERROR",e.WARNING="WARNING",e.LOG="LOG"}(tf||(tf={})),function(e){e.RUNTIME="RUNTIME",e.LONGTERM="LONGTERM",e.IGNORE="IGNORE"}(nf||(nf={}));const rf={storageLevel:nf.IGNORE},of=e=>{let t=e.grid,n=e.displayedRowsNumber,r=e.zenLogger;const o=[].concat(...t.rows.slice(0,n)),s=o.length<3,i=o.every(e=>e.ad||"ad"===e.type);s?r.error({message:"Feed failed to mount",details:{reason:"Not enough cards",cardsNumber:o.length}},rf):i?r.error({message:"Feed failed to mount",details:{reason:"Only ads in feed"}},rf):r.log({message:"Feed successfully mounted"},rf)},sf=e=>{let t=e.item,n=e.error;e.zenLogger.error({message:"Card failed to mount",details:{reason:n.message,itemId:t.id}},rf)},af={[N]:nd,[j]:nd,[D]:Nd,[A]:Xd,similar:Mp,[L]:lp,hint_eula:Dd,"card-placeholder":jp,placeholder:jp,"user-feedback-question":Hp,similar_interests:Yp,[B]:$h,[F]:cm,[U]:Hm,[z]:Jm,[V]:ef},cf={[N]:Qp(nd),[j]:Qp(nd),[D]:Qp(Nd)},lf=la("feed");var uf=class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this.state={hasError:!1},e}componentDidCatch(e){const t=this.props,n=t.item,r=t.zenLogger;this.setState({hasError:!0}),sf({item:n,error:e,zenLogger:r})}_maybeRenderFeedItemHeader(){const e=this.props,t=e.isActivityFeed,n=e.size,r=e.item,o=r.id,s=r.type;return t&&s!==V?Rt.a.createElement("div",{className:lf("item-header",{size:n})},Rt.a.createElement(qm,{id:o})):null}render(){if(this.state.hasError)return null;const e=this.props,t=e.isVisible,n=e.isIntersecting,r=e.rowIndex,o=e.scrollToID,s=e.itemIndexInRow,i=e.intersectionRatio,a=e.item,c=a.id,l=a.type,u=a.size,d=a.ad,p=e.styles.feedItem,h=e.disableScrollToCard,m=d&&(u===H||d.isBig)&&cf[l]||af[l];if(!m)return null;const f={zenScrollToTarget:o===c,heightFree:l===z,size:u},g={id:c,size:u,ad:d,rowIndex:r,itemIndexInRow:s,isVisible:t,isIntersecting:n,intersectionRatio:i,disableScrollToCard:h};return Rt.a.createElement("div",{className:lf("item-wrap",{size:u})},this._maybeRenderFeedItemHeader(),Rt.a.createElement("div",{className:lf("item",f),style:p},Rt.a.createElement(m,g)))}};const df=la("feed");var pf=class extends Ot.PureComponent{render(){const e=this.props,t=e.row,n=e.rowIndex,r=e.rootRef,o=e.scrollToID,s=e.isVisible,i=e.isIntersecting,a=e.styles,c=e.intersectionRatio,l=e.isActivityFeed,u=e.zenLogger,d=e.disableScrollToCard,p=t.hasPlaceholder;let h=a.feedRow;return p&&(h=Object.assign({},h,{marginBottom:0})),Rt.a.createElement("div",{className:df("row"),ref:r,style:h},t.map((e,t)=>Rt.a.createElement(uf,{key:e.id,item:e,rowIndex:n,itemIndexInRow:t,scrollToID:o,isVisible:s,isIntersecting:i,intersectionRatio:c,styles:a,isActivityFeed:l,zenLogger:u,disableScrollToCard:d})))}};n(232);const hf=la("feed-empty");function mf(e){let t=e.size,n=void 0===t?"m":t;return Rt.a.createElement("h2",{className:hf({size:n})},"Нет публикаций")}let ff,gf;ff=gf=Ia(pf);var _f=class extends Ot.PureComponent{componentDidMount(){this.props.onChange(null,this.props)}componentDidUpdate(e){this.props.onChange(e,this.props)}render(){const e=this.props,t=e.grid,n=e.displayedRowsNumber,r=e.className,o=e.scrollToID,s=e.styles,i=e.visibilityThreshold,a=e.setFeedListContainer,c=e.isActivityFeed,l=e.zenLogger,u=e.disableScrollToCard,d=t.rows.slice(0,n).map((e,t)=>{const n=e.reduce((e,t)=>e+t.id,""),r=0===t?gf:ff;return Rt.a.createElement(r,{key:n,row:e,visibilityThreshold:i,rowIndex:t,scrollToID:o,styles:s,isActivityFeed:c,zenLogger:l,disableScrollToCard:u})});return Rt.a.createElement("div",{ref:a,className:r,style:s.feed},0===t.rows.length?Rt.a.createElement(mf,null):d)}};n(231);const bf=600;var vf=Ia(class extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._lastSessionId=null,e}_updateIfIntersecting(e,t){void 0===e&&(e=this._lastSessionId=Math.random()),void 0===t&&(t=1);const n=this.props,r=n.isIntersecting,o=n.onFeedEndReach;r&&e===this._lastSessionId&&t<=5&&o().then(n=>{n&&setTimeout(()=>{this._updateIfIntersecting(e,t+1)},200)})}componentDidMount(){this._updateIfIntersecting()}componentDidUpdate(e){e.isIntersecting||this._updateIfIntersecting()}render(){const e=this.props.rootRef;return Rt.a.createElement("div",{className:"more-mark-wrapper"},Rt.a.createElement("div",{className:"more-mark",ref:e,style:{height:`${bf}px`}}))}});const yf=30,Ef=la("feed");const kf={switchMoreButtonOffsetMode:no,drawMoreItems:()=>(e,t)=>{const n=t().feed,r=n.displayedRowsNumber,o=n.gridType,s=n.countRowsBeforeBlock,i=vr(n).rows,a=r+dr(o,"rowDisplayStep"),c=[];if(a>i.length?c.push(new Promise(t=>{e(Ps({onAfterPackInsert:t}))})):c.push(Promise.resolve(!1)),r<=i.length){const n=Ar();e(Ms(r<=s&&s<=a?s:a)),c.push(n(t()).then(()=>!0))}else c.push(Promise.resolve(!1));return Promise.all(c).then(e=>{let t=e[0],n=e[1];return t||n})},setCommentsCounts:function(e){return void 0===e&&(e={}),function(){var t=o(regeneratorRuntime.mark(function t(n){var r,o,s,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.elements,o=void 0===r?{}:r,s=[],Object.keys(o).forEach(e=>{const t=o[e]&&o[e].commentsDocumentId;t&&!Bs.includes(t)&&(s.push(t),Bs.push(t))}),s.length){t.next=5;break}return t.abrupt("return",null);case 5:return t.next=7,gt.getCommentsCounters(s);case 7:(i=t.sent)&&n({type:"SET_COMMENTS_COUNTS",payload:i});case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}};var wf=Zu(class extends Ot.Component{constructor(){var e;return e=super(...arguments),this._emitRowsChanged=(e=>{const t=this.props.grid.rows,n=this.props.displayedRowsNumber,r=I.get(e,"grid.rows"),o=e&&e.displayedRowsNumber;(!e||r!==t||o!==n)&&_t.emit(bt.ROWS_CHANGED,br(t,n))}),this._onFeedListChange=((e,t)=>{const n=this.props,r=n.experiments,o=n.setCommentsCounts;e&&e.grid===t.grid&&e.displayedRowsNumber===t.displayedRowsNumber||(Et.emit(kt.FEED_CHANGED,t.grid,t.displayedRowsNumber),(r.isExp("ab:rezen_comments_counter:rezen_comments_counter")||r.isExp("zen_comments"))&&o(t.grid)),this._emitRowsChanged(e)}),e}initScrollEvents(){const e=this.props,t=e.switchMoreButtonOffsetMode,n=e.scrollToID;ms(),n&&ds({delta:yf,direction:1,once:!0},()=>{t("normal")})}componentDidMount(){const e=this.props,t=e.grid,n=e.displayedRowsNumber,r=e.scrollToID,o=e.switchMoreButtonOffsetMode,s=e.hasPinnedCarousel,i=e.zenLogger;this.initScrollEvents(),s?o("pinned-carousel"):r&&o("header"),of({grid:t,displayedRowsNumber:n,zenLogger:i})}render(){const e=this.props,t=e.grid,n=e.columnCount,r=e.rubberyType,o=e.isAdsense,s=e.scrollToID,i=e.displayedRowsNumber,a=e.setFeedListContainer,c=e.styles,l=e.visibilityThreshold,u=e.drawMoreItems,d=e.isActivityFeed,p=e.isInFrame,h=e.isYabroMordaThirdExp,m=e.zenLogger,f=e.disableScrollToCard,g=e.isMordaDesktop,_=Ef({columnCount:n,rubberyType:r,isAdsense:o,isActivityFeed:d,isInFrame:p,isMordaDesktop:g,isYabroMordaThirdExp:h,isMordaDesktop:g});return Rt.a.createElement(Rt.a.Fragment,null,Rt.a.createElement(_f,{className:_,grid:t,displayedRowsNumber:i,scrollToID:s,onChange:this._onFeedListChange,setFeedListContainer:a,styles:c,visibilityThreshold:l,isActivityFeed:d,zenLogger:m,disableScrollToCard:f}),Rt.a.createElement(vf,{onFeedEndReach:u}),Rt.a.createElement(Ta,null))}}).to(Qu(e=>{return{zenLogger:e.zenLogger}})).to(mn(()=>{const e=((e,t,n)=>{const r=Object.keys(e);return Object(vn.createSelector)(Kn,o=>{for(var s=0;s<r.length;s++){let n=r[s];const i=`${t}:${n}`;if(o.isExp(i))return e[n]}return n})})({50:.5},"ab:rezen_item_visibility_threshold"),t={};return n=>{const r=n.iface.isMoreButtonVisible,o=n.shared.scrollToID,s=n.feed.displayedRowsNumber,i=Zn(n),a=Boolean(I.get(n,"pinnedCarousel.id"));return Object.assign({isMoreButtonVisible:r,scrollToID:o,displayedRowsNumber:s,grid:vr(n.feed)},Nr(n),{styles:I.get(n,"params.styles")||t,visibilityThreshold:e(n),experiments:Kn(n),isActivityFeed:i,hasPinnedCarousel:a})}},kf)).value,Cf=(n(230),n(64));n(229),n(228),n(227),n(226);const xf=la("info-button");var Sf=e=>{let t=e.isVisible,n=e.position,r=e.theme;const o=xf({visible:t,position:n,theme:r});return Rt.a.createElement("div",{className:o},Rt.a.createElement("a",{className:xf("link"),href:"https://zen.yandex.com/about",target:"_blank"}))};const Of=()=>Rt.a.createElement("div",{className:xf("spacer")}),Rf=la("more-button");class Tf extends Ot.PureComponent{_renderInfoButton(){const e=this.props,t=e.needInfoButton,n=e.theme;return t?Rt.a.createElement(Sf,{theme:n}):null}_renderInfoButtonSpacer(){return this.props.needInfoButton?Rt.a.createElement(Of,null):null}render(){const e=this.props,t=e.moreButtonOffsetMode,n=e.isMoreButtonVisible,r=e.position,o=e.isNavbarAtBottom,s=e.theme,i=e.onClick,a=e.offsetBottom,c={visible:n,offsetMode:t,isNavbarAtBottom:o,offsetBottom:a,position:r,theme:s},l="bottom"===r?{bottom:a}:{};return Rt.a.createElement("div",{style:l,className:Rf(c)},this._renderInfoButton(),Rt.a.createElement("div",{className:Rf("container")},Rt.a.createElement("div",{className:Rf("content"),onClick:i},Rt.a.createElement("div",{className:Rf("icon")}),Rt.a.createElement("div",{className:Rf("text")},"новые публикации"))),this._renderInfoButtonSpacer())}}Tf.defaultProps={moreButtonOffsetMode:"normal",needInfoButton:!1};var If=Tf;n(225),n(224);const Nf=la("error-message");var Pf=e=>{const t=e.isErrorMessageVisible,n=e.moreButtonOffsetMode,r=e.position,o=e.onClick,s=e.isNavbarAtBottom,i=e.offsetBottom,a=e.theme,c={visible:t,position:r,theme:void 0===a?"black":a,isNavbarAtBottom:s,offsetMode:n},l="bottom"===r?{bottom:i}:{};return Rt.a.createElement("div",{style:l,className:Nf(c),onClick:o},Rt.a.createElement("div",{className:Nf("container")},Rt.a.createElement("div",{className:Nf("content")},Rt.a.createElement("div",{className:Nf("icon")}),Rt.a.createElement("div",{className:Nf("text")},"Новых публикаций пока нет"))))};const Af=parseInt(Cf.header.height),Lf=parseInt(Cf.zenOne.header.height),Mf=la("notifiers"),Df={s:200,m:248,l:352};class jf extends Ot.PureComponent{constructor(){var e;return e=super(...arguments),this._onMoreButtonClick=(()=>{const e=this.props,t=e.getMore,n=e.hideMoreButton,r=e.logger,o=e.shouldRefreshFeed;Eo("more-button")(r).log("client_click"),n(),t({insertOnTop:!0,onAfterPackInsert:Ts,shouldRefreshFeed:o})}),this._onErrorMessageClick=(()=>{const e=this.props,t=e.getMore,n=e.hideErrorMessage;t(),n()}),e}_addMoreButtonScrollEvents(){const e=this.props,t=e.showMoreButton,n=e.hideMoreButton,r=e.switchMoreButtonOffsetMode,o=e.moreButtonResponsiveness,s=e.isZenOneEnabled,i=e.pinnedCarouselSize;ds({delta:o,direction:-1,onceDebounce:!0},t),ds({delta:o,direction:1,onceDebounce:!0},n);const a=(s?Af:Lf)-30;us({scroll:i?Df[i]+30:a,precise:!0},e=>{let t=e.state;r(0===t?i?"pinned-carousel":"header":"normal")})}_renderErrorMessage(){const e=this.props,t=e.theme,n=e.position,r=e.needErrorMessage,o=e.isNativeFeed,s=e.isErrorMessageVisible,i=e.isNavbarAtBottom,a=e.offsetBottom,c=e.moreButtonOffsetMode;if(!r||o)return null;const l={theme:t,position:n,isErrorMessageVisible:s,isNavbarAtBottom:i,offsetBottom:a,moreButtonOffsetMode:c,onClick:this._onErrorMessageClick};return Rt.a.createElement(Pf,l)}_renderMoreButton(){const e=this.props,t=e.position,n=e.needMoreButton,r=e.isMoreButtonVisible,o=e.moreButtonOffsetMode,s=e.needInfoButton,i=e.theme,a=e.isNativeFeed,c=e.offsetBottom,l=e.isNavbarAtBottom;if(!n||a)return null;const u={position:t,moreButtonOffsetMode:o,isMoreButtonVisible:r,needInfoButton:s,theme:i,isNavbarAtBottom:l,offsetBottom:c,onClick:this._onMoreButtonClick};return Rt.a.createElement(If,u)}componentDidMount(){const e=this.props,t=e.needMoreButton,n=e.enableNotifiers,r=e.disableNotifiers;t&&this._addMoreButtonScrollEvents(),vt.on(yt.NOTIFIERS_ENABLED,()=>{n()}),vt.on(yt.NOTIFIERS_DISABLED,()=>{r()})}render(){const e=this.props,t=e.position,n=e.withScrollbarFix?wh:"div";return Rt.a.createElement(n,{className:Mf({position:t})},Rt.a.createElement("div",{className:Mf("container")},this._renderMoreButton(),this._renderErrorMessage()))}}jf.defaultProps={theme:"black",position:"top",needErrorMessage:!0,moreButtonResponsiveness:30};var Bf=mn((e,t)=>{const n=ar(e),r=qn(e),o=Co(),s=e.pinnedCarousel,i=e.iface,a=i.moreButtonOffsetMode,c=i.isErrorMessageVisible,l=i.isMoreButtonVisible,u=i.offsetBottom,d=t&&t.location&&t.location.pathname,p=Kn(e),h=Eo("notifiers")(o(e)),m=p.isExp("ab:rezen_unified:bottom"),f=p.isExp("ab:rezen_more_button_behavior:rezen_more_button_refresh_feed");return{offsetBottom:u,moreButtonOffsetMode:a,needMoreButton:Qn(e)&&(!n||void 0===d||(e=>"/"===e||!!e.match(/^\/people\/[a-z]+\/?$/))(d)),isNativeFeed:r,isErrorMessageVisible:c,isMoreButtonVisible:l,isNavbarAtBottom:m,isZenOneEnabled:n,logger:h,shouldRefreshFeed:f,pinnedCarouselSize:s.size}},{getMore:Ps,showMoreButton:()=>(e,t)=>{const n=t().iface,r=n.isSpinnerVisible,o=n.isErrorMessageVisible,s=n.isNotifiersDisabled;r||o||s||e({type:"SHOW_MORE_BUTTON",payload:null})},hideMoreButton:to,switchMoreButtonOffsetMode:no,hideErrorMessage:ro,disableNotifiers:()=>e=>{e(e=>{e({type:"HIDE_ERROR_MESSAGE",payload:null})}),e(e=>{e({type:"HIDE_MORE_BUTTON",payload:null})}),e({type:"DISABLE_NOTIFIERS",payload:null})},enableNotifiers:()=>({type:"ENABLE_NOTIFIERS",payload:null})},null,{pure:!1})(jf);n(222);const Ff=mn(()=>{const e=ko(),t=e=>e.pinnedCarousel,n=um(t),r=lm(t);return o=>{const s=t(o),i=r(o),a=n(o),c=e(s);return Object.assign({},s,{items:i,hidden:a,logger:c})}})(Vm),Uf=la("zen-app-header-desktop"),zf=mn(e=>Object.assign({pinnedCarousel:e.pinnedCarousel},Nr(e)))(e=>{let t=e.pinnedCarousel,n=e.columnCount,r=e.rubberyType,o=e.isAdsense;const s=Uf({columnCount:n,rubberyType:r,isAdsense:o});return t.id?Ot.createElement("div",{className:s},Ot.createElement(Ff,{className:Uf("pinned-carousel"),mode:"pinned-lib"})):null});n(218);const Vf=la("floating-links"),Hf=mn((e,t)=>{const n=t.isProfileScreen,r=e.params,o=r.withFloatingLinks,s=r.countryCode;return{host:r.host,countryCode:s,columnCount:Nr(e).columnCount,advertisersLink:Yn(e).safeGet("rezen_advertisers_link",""),isVisible:!n&&o}})(e=>{const t=e.advertisersLink,n=e.isVisible,r=e.columnCount,o=e.countryCode,s=void 0===o?"":o,i=e.host,a=void 0===i?"":i;return n&&"ru"===s&&""!==t?Ot.createElement("div",{className:Vf({columnCount:r})},Ot.createElement("div",{className:Vf("container")},Ot.createElement(Ul,{className:Vf("link"),href:t,target:"_blank",host:a},"Рекламодателям"))):null}),Wf=la("zen-page");const $f=Object(zi.a)(mn(e=>({theme:rr(e),libType:e.params.libType,notifiersPosition:e.params.notifiersPosition})),(e=>t=>{const n=function(){var t=o(regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Mn(e);case 2:t.sent.reachGoal(n);case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();return mn((e,t)=>{let n=t.disableMetrika;const r=Kn(e),o=r.isExp("rezen_disable_metrika");return{experiments:r,disableMetrika:n||o}})(class extends Ot.Component{constructor(){var e;return e=super(...arguments),this._reachMetrikaGoal=(e=>this.props.disableMetrika?null:n(e)),e}render(){return Ot.createElement(t,jt({},this.props,{reachMetrikaGoal:this._reachMetrikaGoal}))}})})({id:50377519,clickmap:!1,trackLinks:!1,accurateTrackBounce:!0}))(class extends Ot.Component{componentDidMount(){const e=this.props.reachMetrikaGoal;e&&e("LIB_SHOWED")}render(){const e=this.props,t=e.theme,n=e.libType,r=e.notifiersPosition,o={theme:t,libType:n};return Rt.a.createElement("div",{className:Wf(o)},Rt.a.createElement("div",{className:"zen-app"},r?Rt.a.createElement(Bf,{position:r}):null,Rt.a.createElement(zf,null),Rt.a.createElement(wf,null),Rt.a.createElement(Hf,null)))}});var Gf=e=>(t,n)=>{switch(n.type){case"MERGE_STATE_BRANCH":{const e=n.payload,r=e.branchName,o=e.branchState,s=Object.keys(o).reduce((e,t)=>(void 0!==o[t]&&(e[t]=o[t]),e),{});return I.set(t,[r],e=>Object.assign({},e,s))}default:return e(t,n)}};const qf={feedback:null,complaints:null,complaintsSendedAt:null};var Kf=function(e,t){switch(void 0===e&&(e=qf),t.type){case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{feedback:"liked"});case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{feedback:"disliked"});case"ITEM_FEEDBACK_BLOCK":return Object.assign({},e,{feedback:"blocked"});case"ITEM_FEEDBACK_CANCEL":return Object.assign({},e,{feedback:null,complaints:null});case"ITEM_COMPLAINTS_OPEN":return Object.assign({},e,{complaints:"opened"});case"ITEM_COMPLAINTS_SEND":return Object.assign({},e,{complaints:"sended",complaintsSendedAt:e.feedback});case"ITEM_COMPLAINTS_CANCEL":return Object.assign({},e,{complaints:null,complaintsSendedAt:null});case"ITEM_MITTENS_JUMP":{const n=t.payload.isMittensJumping;return Object.assign({},e,{isMittensJumping:n})}case"ITEM_FEEDBACK_ANSWER_TOGGLE":{const n=t.payload,r=n.targetKey,o=n.questionType,s=e.customUserFeedbackData.questions,i=(void 0===s?[]:s).findIndex(e=>e.type===o);if(i<0)return e;const a=["customUserFeedbackData","questions",i,"answers",r,"isChecked"],c=I.get(e,a);return I.set(e,a,!c)}case"ITEM_FEEDBACK_ANSWERS_UNCHECK":{const t=e.customUserFeedbackData.questions,n=(void 0===t?[]:t).findIndex(e=>"extended_dislike_feedback"===e.type);if(n<0)return e;const r=["customUserFeedbackData","questions",n,"answers"],o=(I.get(e,r)||[]).map(e=>Object.assign({},e,{isChecked:!1}));return I.set(e,r,o)}default:return e}};var Yf=ei(Kf,function(e,t){switch(void 0===e&&(e={}),t.type){case"DOC_READ":return Object.assign({},e,{read:!0});case"DOC_CLICK":return Object.assign({},e,{subscribeTriggerEvent:"click"});case"ITEM_FEEDBACK_LIKE":return Object.assign({},e,{subscribeTriggerEvent:"feedback_more"});default:return e}});var Qf=ei(Kf,function(e,t){switch(void 0===e&&(e={}),t.type){case"VIDEO_READ":return Object.assign({},e,{read:!0,currentTime:t.payload.currentTime});case"VIDEO_START":return Object.assign({},e,{started:!0,paused:!1});case"VIDEO_RESET":case"ITEM_FEEDBACK_DISLIKE":case"ITEM_FEEDBACK_CANCEL_BLOCK":return Object.assign({},e,{started:!1,paused:!0});case"VIDEO_TOGGLE_MODAL":{const n=t.payload,r=n.paused,o=n.isFullScreen;return Object.assign({},e,{started:!0,paused:r,isFullScreen:o})}default:return e}});const Zf={hidden:!1,items:[]};var Jf=ei(Kf,function(e,t){switch(void 0===e&&(e=Zf),t.type){case"CLOSE_CAROUSEL_ITEM":{const n=e,r=n.items,o=n.hidden,s=t.payload,i=s.index,a=s.isAnimationDelay,c=r[i],l=[...r];return l[i]=Object.assign({},c,{hidden:!0,isAnimationDelay:a}),Object.assign({},e,{hidden:o||l.every(e=>e.hidden),items:l})}case"CLOSE_CAROUSEL":return Object.assign({},e,{hidden:!0});default:return e}});var Xf=(e,t)=>{switch(e.type){case j:case N:case P:case B:return Yf(e,t);case D:return Qf(e,t);case F:case U:return Jf(e,t);default:return e}};var eg=(e,t)=>t.reduce((e,t)=>{let n=t[0],r=t.slice(1);return I[n](e,...r)},e);const tg={gridType:"two_column",items:{},itemsOrder:[],displayedRowsNumber:0,countRowsBeforeBlock:-1,isChildWindow:!1,isBlocked:!1},ng=function(e,t,n,r){void 0===r&&(r=!0);const o=e.indexOf(n),s=Number(r);if(-1===o)throw new Error("Array not contains item.");return e.slice(0,o+s).concat(t,e.slice(o+s))},rg=(e,t,n)=>ng(e,t,n,!1),og=(e,t,n)=>ng(e,t,n,!0),sg={moreButtonOffsetMode:"header",offsetBottom:null,isMoreButtonVisible:!1,isSpinnerVisible:!1,isErrorMessageVisible:!1,isNotifiersDisabled:!1,isBodyScrollEnabled:!0,isVideoAutoplayEnabled:null,isOpenCardScrollEnabled:!0,channelTooltipVisible:!1,subsTooltipVisible:!1,feedLoadingProgressVisible:!1,smsTooltipVisible:!1,blockFeedBannerVisible:!1};var ig=function(e,t){switch(void 0===e&&(e=sg),t.type){case"SHOW_MORE_BUTTON":return Object.assign({},e,{isMoreButtonVisible:!0});case"HIDE_MORE_BUTTON":return Object.assign({},e,{isMoreButtonVisible:!1});case"SET_OFFSET_BOTTOM":{const n=t.payload.offsetBottom;return Object.assign({},e,{offsetBottom:n})}case"SWITCH_MORE_BUTTON_OFFSET_MODE":{const n=t.payload.offsetMode;return Object.assign({},e,{moreButtonOffsetMode:n})}case"SHOW_SPINNER":return Object.assign({},e,{isSpinnerVisible:!0});case"HIDE_SPINNER":return Object.assign({},e,{isSpinnerVisible:!1});case"SHOW_ERROR_MESSAGE":return Object.assign({},e,{isErrorMessageVisible:!0});case"HIDE_ERROR_MESSAGE":return Object.assign({},e,{isErrorMessageVisible:!1});case"ENABLE_NOTIFIERS":return Object.assign({},e,{isNotifiersDisabled:!1});case"DISABLE_NOTIFIERS":return Object.assign({},e,{isNotifiersDisabled:!0});case"DISABLE_BODY_SCROLL":return Object.assign({},e,{isBodyScrollEnabled:!1});case"ENABLE_BODY_SCROLL":return Object.assign({},e,{isBodyScrollEnabled:!0});case"VIDEO_AUTOPLAY_ON":return Object.assign({},e,{isVideoAutoplayEnabled:!0});case"VIDEO_AUTOPLAY_OFF":return Object.assign({},e,{isVideoAutoplayEnabled:!1});case"DISABLE_OPEN_CARD_SCROLL":return Object.assign({},e,{isOpenCardScrollEnabled:!1});case"ENABLE_OPEN_CARD_SCROLL":return Object.assign({},e,{isOpenCardScrollEnabled:!0});case"SET_CHANNEL_TOOLTIP_VISIBLE":{const n=t.payload;return e.smsTooltipVisible?e:Object.assign({},e,{channelTooltipVisible:Boolean(n),subsTooltipVisible:!1,smsTooltipVisible:!1})}case"SET_SUBS_TOOLTIP_VISIBLE":{const n=t.payload;return Object.assign({},e,{subsTooltipVisible:Boolean(n),channelTooltipVisible:!1,smsTooltipVisible:!1})}case"SET_FEED_LOADING_PROGRESS_VISIBLE":{const n=t.payload;return Object.assign({},e,{subsTooltipVisible:!1,smsTooltipVisible:!1,channelTooltipVisible:!1,feedLoadingProgressVisible:Boolean(n)})}case"SET_SMS_TOOLTIP_VISIBLE":{const n=t.payload;return Object.assign({},e,{smsTooltipVisible:Boolean(n),channelTooltipVisible:!1,subsTooltipVisible:!1})}case"SET_BLOCK_FEED_BANNER_OPEN":{const n=t.payload;return Object.assign({},e,{blockFeedBannerVisible:Boolean(n),channelTooltipVisible:!1,subsTooltipVisible:!1})}default:return e}};const ag={checkedSources:[]};var cg=function(e,t){switch(void 0===e&&(e=ag),t.type){case"CHECK_SOURCE":{const n=t.payload.id;return{checkedSources:[...e.checkedSources,n]}}case"UNCHECK_SOURCE":{const n=t.payload.id,r=e.checkedSources,o=r.slice(0);return o.splice(r.indexOf(n),1),{checkedSources:o}}default:return e}};const lg=Ur("categories",()=>gt.getCategories(),e=>e.categories,e=>{let t=e.sources,n=e.list;return{sources:t&&t.map(e=>e.id),list:n}}),ug=(Fr(()=>(function(){var e=o(regeneratorRuntime.mark(function e(t,n){var r,o,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),o=Zr(r),s=o.zenApi,e.t0=t,e.t1=lg.succeed,e.next=6,s.getCategories();case 6:e.t2=e.sent,e.t3={type:e.t1,payload:e.t2},(0,e.t0)(e.t3);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}})()),(e,t)=>new Promise((n,r)=>{e.then(n,r),setTimeout(()=>{r(new Error("Request timeout."))},t)})),dg=e=>({type:"suggest-set-filter",payload:e}),pg=function(e,t,n,r){void 0===n&&(n=jr),void 0===r&&(r=1e3);const o=Br(e,t,n),s=o.action,i=Bt(o,["action"]);return Object.assign({action:Fr(s,r)},i)}("suggest",function(){var e=o(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",ug(n?gt.getBlockedSuggest(t):gt.getSuggest(t),1e4));case 3:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),e=>e&&e.map(e=>e.id),500),hg=Object.assign({},pg,{action:function(e,t){return void 0===t&&(t=!1),n=>{n(dg(e)),n(pg.action(e,t))}},retryAction:e=>(t,n)=>{const r=n().search.filter;t(pg.action(r,e))}});let mg;Fr(function(e,t){return void 0===t&&(t=!1),function(){var n=o(regeneratorRuntime.mark(function n(r){var o,s;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==e){n.next=3;break}return r({type:hg.succeed,payload:void 0}),n.abrupt("return");case 3:return o=mg=ug(t?gt.getBlockedSuggest(e):gt.getSuggest(e),1e4),n.next=6,o;case 6:if(s=n.sent,o===mg){n.next=9;break}return n.abrupt("return");case 9:r({type:hg.succeed,payload:s});case 10:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},500);const fg=Ur("category",e=>gt.getCategory(e),(e,t)=>e.category[t]||{status:"pending"},e=>{let t=e.sources,n=e.category;return{sources:t&&t.map(e=>e.id),category:n}}),gg=(Fr(e=>t=>gt.getCategory(e).then(n=>{t({type:fg.succeed,payload:n,meta:e})})),{});var _g=ei(function(e,t){switch(void 0===e&&(e=gg),t.type){case fn:case gn:case"USER_FOLLOWERS_REQUEST":{if(t.payload.status!==zs.SUCCESS)return e;const n=t.payload.value,r=t.__data__&&t.__data__.selfUserId,o=!([fn,gn].includes(t.type)&&t.payload.id===r);let s;return s=o?e:Object.keys(e).reduce((t,n)=>{const r=e[n];return"not_subscribed"===r.status?t[n]=r:t[n]=Object.assign({},r,{status:"not_subscribed"}),t},{}),n?n.reduce((e,t)=>{const n=o?s[t.id]?s[t.id].status:"not_subscribed":t.status;return e[t.id]=Object.assign({},t,{status:n}),e},Object.assign({},s)):s}case"USER_PROFILE_REQUEST":{if(t.payload.status!==zs.SUCCESS)return e;const n=t.payload.value.source,r=e[n.id]?e[n.id].status:"not_subscribed";return Object.assign({},e,{[n.id]:Object.assign({},n,{status:r})})}case fg.succeed:case lg.succeed:{const n=t.payload.sources;return n?n.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e)):e}case hg.succeed:{const n=t.payload;return n?n.reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e)):e}case"APPLY_EXPORT_DATA":{const n=t.payload.exportData,r=n.onboardingInterests,o=n.pinnedCarousel;return[...r?r.sources:[],...o?o.items.map(e=>e.source):[]].reduce((e,t)=>(e[t.id]=t,e),Object.assign({},e))}case"VIDEO_MODAL_SET_SOURCES":{const n=t.payload.sources,r=void 0===n?[]:n;return Object.assign({},e,r)}case"RECEIVE_ITEMS":{const n=t.payload.items,r=(void 0===n?[]:n).reduce((t,n)=>{let r=n.type,o=n.items,s=n.source,i=n.statEvents,a=n.bulkParams;return r!==F&&r!==U||o.forEach(n=>{let r=n.source;r&&!e[r.id]&&(t[r.id]=Object.assign({},r,{statEvents:r.statEvents||i,bulkParams:r.bulkParams||a}))}),!s||e[s.id]?t:(t[s.id]=Object.assign({},s,{statEvents:s.statEvents||i,bulkParams:s.bulkParams||a}),t)},{});return Object.assign({},e,r)}case"RECEIVE_SIMILAR":{const n=t.payload.similar,r=(void 0===n?{}:n).items,o=(void 0===r?{}:r).sources,s=(void 0===o?[]:o).reduce((e,t)=>(e[t.id]=Object.assign({},t),e),{});return Object.assign({},e,s)}case"SOURCE_MERGE":{const n=t.payload;return Object.assign({},e,{[n.id]:n})}default:return e}},((e,t)=>(function(n,r){void 0===n&&(n={});const o=e(r);if(void 0===o)return n;const s=t(n[o],r);return n[o]!==s?Object.assign({},n,{[o]:s}):n}))(e=>e.payload&&e.payload.id,(e,t)=>{if(!e)return e;switch(t.type){case"SOURCE_SUBSCRIBE":return Object.assign({},e,{status:"subscribed",subscribers:(e.subscribers||0)+1,isSubscribedInCurrentSession:!0});case"SOURCE_UNSUBSCRIBE":return Object.assign({},e,{status:"not_subscribed",subscribers:(e.subscribers||0)-1,isUnsubscribedInCurrentSession:!0});case"SOURCE_BLOCK":return Object.assign({},e,{status:"blocked"});case"SOURCE_UNBLOCK":return Object.assign({},e,{status:"not_subscribed",isUnblockedInCurrentSession:!0});case"SOURCE_DISLIKE":return Object.assign({},e,{feedback:"disliked"});default:return e}}));const bg={openedItemId:null,videoFeed:{}};const vg={};var yg=function(e,t){switch(void 0===e&&(e=vg),t.type){case"SET_COMMENTS_COUNTS":return Object.assign({},e,t.payload);case"INIT_COMMENTS":return Object.assign({},e,{commentsContent:t.payload});default:return e}};const Eg={id:null,type:null,size:null,title:null,subtitle:null,background:null,items:[],statEvents:null,bulkParams:null,showMoreLink:null};var kg=function(e){return void 0===e&&(e={}),t=>void 0===t?"function"==typeof e?e():e:t};const wg=kg({onboarding:null,more:null,bulk:null}),Cg=kg({host:"https://zen.yandex.ru/",clid:null,countryCode:null,integration:null,product:null,tld:"ru",lang:"ru",isIceStart:!1,zenFeatures:{},clientExperiments:[],experimentsData:{},clientDefinition:{},complaints:[],bannerStats:null,bulk:{},withFloatingLinks:!1}),xg=kg({scrollToID:null}),Sg=kg({}),Og=(kg({}),kg({})),Rg={lastSawFeed:{zenApp:null,zenAppIos:null},serverTimeDiff:0,serverTime:null},Tg=Object(zi.a)(Gf,Js.a)({sessionId:function(e,t){switch(void 0===e&&(e=""),t.type){case"SET_SESSION_ID":return t.payload;default:return e}},feed:function(e,t){switch(void 0===e&&(e=tg),t.type){case"PREPEND_ITEM":{const n=t.payload.item;return eg(e,[["set",["items",n.id],n],["set","itemsOrder",e=>[n.id].concat(e)]])}case"APPEND_ITEM":{const n=t.payload.item;return eg(e,[["set",["items",n.id],n],["set","itemsOrder",e=>e.concat(n.id)]])}case"INSERT_ITEM_BEFORE":{const n=t.payload,r=n.item,o=n.beforeId;return eg(e,[["set",["items",r.id],r],["set","itemsOrder",e=>rg(e,r.id,o)]])}case"INSERT_ITEM_AFTER":{const n=t.payload,r=n.item,o=n.afterId;return eg(e,[["set",["items",r.id],r],["set","itemsOrder",e=>og(e,r.id,o)]])}case"REMOVE_ITEM":{const n=t.payload.itemId,r=e.itemsOrder.indexOf(n);return eg(e,[["del",["items",n]],["del",["itemsOrder",r]]])}case"REPLACE_ITEM":{const n=t.payload,r=n.item,o=n.replaceId,s=e.itemsOrder.indexOf(o);return eg(e,[["del",["items",o]],["set",["items",r.id],r],["set",["itemsOrder",s],r.id]])}case"RECEIVE_ITEMS":{const n=t.payload,r=n.items,o=n.insertOnTop,s=n.shouldRefreshFeed,i=Jr(t).zenLogger,a=Object.keys(e.items),c={},l=[];if(r.forEach(e=>{let t,n=e.source,r=Bt(e,["source"]);a.includes(r.id)||l.includes(r.id)?(i.warn({message:"Non-unique item",details:{itemId:r.id,itemTitle:r.title}}),t=`${r.id}_${Date.now()}`):t=r.id,c[t]=Object.assign({},r,{id:t,source:n?n.id:void 0}),r.type!==F&&r.type!==U||(c[t].items=r.items.map(e=>{const t=e.source;return Object.assign({},e,{source:t.id})})),l.push(t)}),s)return Object.assign({},e,{items:c,itemsOrder:l});const u=Object.assign({},e.items,c),d=o?l.concat(e.itemsOrder):e.itemsOrder.concat(l);return Object.assign({},e,{items:u,itemsOrder:d})}case"REQUEST_SIMILAR":case"RECEIVE_SIMILAR":{const n=["items",t.payload.itemId,"isSimilarRequested"],r="REQUEST_SIMILAR"===t.type;return I.set(e,n,r)}case"LINK_CHILD_ITEM":{const n=t.payload,r=n.itemId,o=n.childItemId;return eg(e,[["set",["items",r,"childItemId"],o],["set",["items",o,"parentId"],r]])}case"UNLINK_CHILD_ITEM":{const n=t.payload.itemId,r=e.items[n].childItemId;return eg(e,[["del",["items",n,"childItemId"]],["del",["items",r,"parentId"]]])}case"REPORT_AD_DIDNT_LOAD":{const n=t.payload.itemId;return eg(e,[["set",["items",n,"adDidntLoad"],!0]])}case"ANSWER_USER_QUESTION":{const n=t.payload,r=n.id,o=n.parentId;return eg(e,[["set",["items",r,"isAnswered"],!0],["set",["items",o,"isUserQuestionAnswered"],!0]])}case"SET_GRID_TYPE":{const n=t.payload.gridType;return Object.assign({},e,{gridType:n})}case"SET_DISPLAYED_ROWS_NUMBER":{const n=t.payload.displayedRowsNumber;return Object.assign({},e,{displayedRowsNumber:n})}case"SET_IS_CHILD_WINDOW":{const n=t.payload.isChildWindow;return Object.assign({},e,{isChildWindow:n})}case"CLEAR_FEED":return tg;case"SET_COUNT_ROWS_BEFORE_BLOCK":{const n=t.payload.countRowsBeforeBlock;return Object.assign({},e,{countRowsBeforeBlock:n})}default:{const n=t.payload&&t.payload.id,r=t.payload&&t.payload.ids;if(n&&e.items[n]){const r=e.items[n];if(!r)return e;const o=Xf(r,t);return r!==o?I.set(e,["items",n],o):e}if(Array.isArray(r)){const n=e.items,o={};let s=!1;for(let e=0;e<r.length;e++){const i=r[e],a=n[i];a&&a!==(o[i]=Xf(a,t))&&(s=!0)}return s?Object.assign({},e,{items:Object.assign({},n,o)}):e}return e}}},iface:ig,iceboarding:cg,links:wg,params:Cg,shared:xg,context:Sg,user:function(e,t){switch(void 0===e&&(e=Rg),t.type){case"APPLY_EXPORT_DATA":{const n=t.payload,r=n.exportData,o=n.currentTime,s=r.user,i=s.serverTime;return Object.assign({},e,{lastSawFeed:Object.assign({},e.lastSawFeed,s.lastSawFeed),serverTime:i,serverTimeDiff:i?i-o:0})}case"INIT_FROM_STATE":{const n=t.payload.currentTime,r=e.serverTime;return Object.assign({},e,{serverTimeDiff:r?r-n:0})}default:return e}},sources:_g,request:Og,videoCards:function(e,t){switch(void 0===e&&(e=Od),t.type){case"VIDEO_CARD_CHANGE_VISIBILITY":{const n=Rd(e,t,"visibleCardIndices","visible"),r=t.payload,o=r.id,s=r.visible,i=r.index,a=n.visibleCardIndices,c=e,l=c.interactionCardId,u=c.activeCard;if(!l){if(!s&&u.id===o)return Object.assign({},n,{activeCard:Object.assign({},Od.activeCard)});const e=i===Math.min(...Object.values(a));if(s&&e)return Object.assign({},n,{activeCard:Object.assign({},Od.activeCard,{id:o})})}return n}case"VIDEO_CARD_CHANGE_INTERSECTING":{const n=Rd(e,t,"intersectingCardIndices","intersecting"),r=e.interactionCardId,o=t.payload,s=o.id;return o.intersecting||s!==r?n:Object.assign({},n,{interactionCardId:null})}case"VIDEO_CARD_CHANGE_INTERACTION":return Object.assign({},e,{interactionCardId:t.payload.id});case"VIDEO_CHANGE_ACTIVE_CARD":return Object.assign({},e,{activeCard:t.payload});default:return e}},videoModal:function(e,t){switch(void 0===e&&(e=bg),t.type){case"VIDEO_MODAL_TOGGLE":{const e=t.payload.openedItem;if(!e)return bg;const n=e.id;return{openedItemId:n,videoFeed:{[n]:e}}}case"VIDEO_MODAL_CHANGE":{const n=t.payload.openedItemId;return Object.assign({},e,{openedItemId:n})}case"VIDEO_MODAL_GET_RECOMMEND":{const n=t.payload.videoFeed;return Object.assign({},e,{videoFeed:Object.assign({},e.videoFeed,n)})}default:{const n=t.payload&&t.payload.id;if(!n||!e.videoFeed[n])return e;const r=e.videoFeed[n],o=Xf(r,t);return r!==o?I.set(e,["videoFeed",n],o):e}}},commentsData:yg,pinnedCarousel:function(e,t){switch(void 0===e&&(e=Eg),t.type){case"APPLY_EXPORT_DATA":{const n=t.payload.exportData.pinnedCarousel;if(n){const t=n.items.map(e=>Object.assign({},e,{source:e.source.id}));return Object.assign({},e,n,{items:t})}return e}}return e}});t.default=new class{constructor(e,t){this._app=null,this._store=null,this._App=e,this._reducer=t}init(e,t){const n={product:Ct,host:e.host,clid:e.clid,referrerClid:e.referrerClid,referrerPlace:e.referrerPlace,countryCode:e.countryCode,lang:e.lang,teethType:e.teethType,zenFeatures:e.zenFeatures,clientExperiments:e.exps,libType:e.libType,notifiersPosition:e.notifiersPosition,styles:e.styles,isMobile:!1,isAdaptiveDesign:e.isAdaptiveDesign,disableMetrika:e.disableMetrika,cspNonce:e.cspNonce,withFloatingLinks:e.withFloatingLinks,adId:e.adId};let r;e.userInfo&&(r={oauthToken:e.userInfo.oauthToken,login:e.userInfo.login,deviceId:e.userInfo.deviceId,profileId:e.userInfo.profileId,yandexuid:e.userInfo.yandexuid,partnerId:e.userInfo.partnerId,avatar:e.userInfo.avatarUrl,displayName:e.userInfo.displayName});const o=Xi({settings:{exportData:t,params:n,user:r,initialDisplayedRowsNumber:e.initialDisplayedRowsNumber},App:this._App,reducer:this._reducer,middlewares:qi,sessionContext:{zenApi:gt},nativeZenApiMethods:e.nativeZenApiMethods}),s=o.app,i=o.store;sa(gt,i),gt.configure(t=>Object.assign({},t,{cache:e.cache,chromeExtensionId:e.chromeExtensionId,feedFilter:e.feedFilter,referrerPlace:e.referrerPlace,referrerClid:e.referrerClid,isAdblockEnabled:e.isAdblock})),gt.addListener(Me.BULK_EVENT_LOGGED,e=>{let t=e.event,n=e.statMeta;_t.emit(bt.STAT,{eventName:t,statMeta:n})}),gt.addListener(Me.NOT_SHOWN_PACK_UPDATED,(e,t)=>{_t.emit(bt.CACHE_PUT,t)}),gt.packUsed(i.getState().request.rid),this._app=s,this._store=i}render(e){ra(this._app,e)}setParams(e){ea(e,this._store)}on(e,t,n){_t.on(e,t,n)}off(e,t){_t.off(e,t)}addListener(){return this.on(...arguments)}removeListener(){return this.off(...arguments)}trigger(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];vt.emit(e,n)}}($f,Tg)},,,,,,,,,function(e,t,n){t.f=n(9)},function(e,t,n){var r=n(10),o=n(24),s=n(43),i=n(115),a=n(16).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=s?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:i.f(e)})}},function(e,t,n){var r=n(9)("unscopables"),o=Array.prototype;null==o[r]&&n(17)(o,r,{}),e.exports=function(e){o[r][e]=!0}},function(e,t,n){"use strict";var r=n(117),o=n(75),s=n(22),i=n(29);e.exports=n(77)(Array,"Array",function(e,t){this._t=i(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r="transform",o=void 0,s=void 0,i=void 0,a=void 0,c=void 0,l=void 0,u=void 0,d=void 0,p=void 0,h=void 0,m=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(55)).default){var f=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,o=void 0,s="",i=0;i<n.length;i++){var a=n[i];if(a+"TransitionProperty"in e){s="-"+a.toLowerCase(),r=t[a]("TransitionEnd"),o=t[a]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!o&&"animationName"in e&&(o="animationend");return e=null,{animationEnd:o,transitionEnd:r,prefix:s}}();o=f.prefix,t.transitionEnd=s=f.transitionEnd,t.animationEnd=i=f.animationEnd,t.transform=r=o+"-"+r,t.transitionProperty=a=o+"-transition-property",t.transitionDuration=c=o+"-transition-duration",t.transitionDelay=u=o+"-transition-delay",t.transitionTiming=l=o+"-transition-timing-function",t.animationName=d=o+"-animation-name",t.animationDuration=p=o+"-animation-duration",t.animationTiming=h=o+"-animation-delay",t.animationDelay=m=o+"-animation-timing-function"}t.transform=r,t.transitionProperty=a,t.transitionTiming=l,t.transitionDelay=u,t.transitionDuration=c,t.transitionEnd=s,t.animationName=d,t.animationDuration=p,t.animationTiming=h,t.animationDelay=m,t.animationEnd=i,t.default={transform:r,end:s,property:a,timing:l,delay:u,duration:c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(n(55));var o,s="clearTimeout",i=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},a=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};r.default&&["","webkit","moz","o","ms"].some(function(e){var t=a(e,"request");if(t in window)return s=a(e,"cancel"),i=function(e){return window[t](e)}});var c=(new Date).getTime();(o=function(e){return i(e)}).cancel=function(e){window[s]&&"function"==typeof window[s]&&window[s](e)},t.default=o,e.exports=t.default},function(e,t,n){"use strict";e.exports=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+e.className+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e)||(e.className=e.className+" "+t)};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(122));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=p(n(123)),s=p(n(121)),i=p(n(120)),a=n(119),c=p(n(0)),l=p(n(25)),u=n(11),d=n(54);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[];a.transitionEnd&&m.push(a.transitionEnd),a.animationEnd&&m.push(a.animationEnd);l.default.node,d.nameShape.isRequired,l.default.bool,l.default.bool,l.default.bool,l.default.number,l.default.number,l.default.number;var f=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),i=0;i<o;i++)s[i]=arguments[i];return n=r=h(this,e.call.apply(e,[this].concat(s))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,u.findDOMNode)(this);if(r){var i=this.props.name[e]||this.props.name+"-"+e,c=this.props.name[e+"Active"]||i+"-active",l=null,d=void 0;(0,o.default)(r,i),this.queueClassAndNode(c,r);var p=function(e){e&&e.target!==r||(clearTimeout(l),d&&d(),(0,s.default)(r,i),(0,s.default)(r,c),d&&d(),t&&t())};n?(l=setTimeout(p,n),this.transitionTimeouts.push(l)):a.transitionEnd&&(d=function(e,t){return m.length?m.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){m.length&&m.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,p))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,i.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,o.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,c.default.cloneElement(c.default.Children.only(this.props.children),e)},t}(c.default.Component);f.displayName="CSSTransitionGroupChild",f.propTypes={},t.default=f,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var s in e)t.hasOwnProperty(s)?o.length&&(r[s]=o,o=[]):o.push(s);var i=void 0,a={};for(var c in t){if(r.hasOwnProperty(c))for(i=0;i<r[c].length;i++){var l=r[c][i];a[r[c][i]]=n(l)}a[c]=n(c)}for(i=0;i<o.length;i++)a[o[i]]=n(o[i]);return a};var r=n(0)},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(126)),s=c(n(0)),i=c(n(25)),a=(c(n(3)),n(125));function c(e){return e&&e.__esModule?e:{default:e}}i.default.any,i.default.func,i.default.node;var l=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return s.performAppear=function(e,t){s.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(s._handleDoneAppearing.bind(s,e,t)):s._handleDoneAppearing(e,t)},s._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete s.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(s.props.children);n&&n.hasOwnProperty(e)||s.performLeave(e,t)},s.performEnter=function(e,t){s.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(s._handleDoneEntering.bind(s,e,t)):s._handleDoneEntering(e,t)},s._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete s.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(s.props.children);n&&n.hasOwnProperty(e)||s.performLeave(e,t)},s.performLeave=function(e,t){s.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(s._handleDoneLeaving.bind(s,e,t)):s._handleDoneLeaving(e,t)},s._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete s.currentlyTransitioningKeys[e];var n=(0,a.getChildMapping)(s.props.children);n&&n.hasOwnProperty(e)?s.keysToEnter.push(e):s.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},s.childRefs=Object.create(null),s.state={children:(0,a.getChildMapping)(n.children)},s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,a.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,a.mergeChildMappings)(n,t)}),t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var s in n){var i=t&&t.hasOwnProperty(s);!n[s]||i||this.currentlyTransitioningKeys[s]||this.keysToLeave.push(s)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var i="string"!=typeof r.ref,a=e.props.childFactory(r),c=function(t){e.childRefs[n]=t};a===r&&i&&(c=(0,o.default)(r.ref,c)),t.push(s.default.cloneElement(a,{key:n,ref:c}))}};for(var i in this.state.children)n(i);var a=r({},this.props);return delete a.transitionLeave,delete a.transitionName,delete a.transitionAppear,delete a.transitionEnter,delete a.childFactory,delete a.transitionLeaveTimeout,delete a.transitionEnterTimeout,delete a.transitionAppearTimeout,delete a.component,s.default.createElement(this.props.component,a,t)},t}(s.default.Component);l.displayName="TransitionGroup",l.propTypes={},l.defaultProps={component:"span",childFactory:function(e){return e}},t.default=l,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(0)),s=l(n(25)),i=l(n(127)),a=l(n(124)),c=n(54);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}c.nameShape.isRequired,s.default.bool,s.default.bool,s.default.bool,(0,c.transitionTimeout)("Appear"),(0,c.transitionTimeout)("Enter"),(0,c.transitionTimeout)("Leave");var d=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,i=Array(s),c=0;c<s;c++)i[c]=arguments[c];return n=r=u(this,e.call.apply(e,[this].concat(i))),r._wrapChild=function(e){return o.default.createElement(a.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement(i.default,r({},this.props,{childFactory:this._wrapChild}))},t}(o.default.Component);d.displayName="CSSTransitionGroup",d.propTypes={},d.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=d,e.exports=t.default},,function(e,t,n){"use strict";var r=n(2).compose;t.__esModule=!0,t.composeWithDevTools=function(){if(0!==arguments.length)return"object"==typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer=function(){return function(e){return e}}},,function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,o,s,i,a,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,o,s,i,a,c],d=0;(l=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function r(e){return function(){return e}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";var r=n(134),o=n(133),s=n(132);e.exports=function(){function e(e,t,n,r,i,a){a!==s&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(137);function o(){}function s(){}s.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,s,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";
/** @license React v16.6.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,s=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,f=r?Symbol.for("react.lazy"):60116;function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case i:case c:case a:return e;default:switch(e=e&&e.$$typeof){case u:case p:case l:return e;default:return t}}case s:return t}}}function _(e){return g(e)===d}t.typeOf=g,t.AsyncMode=d,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=o,t.ForwardRef=p,t.Fragment=i,t.Profiler=c,t.Portal=s,t.StrictMode=a,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===d||e===c||e===a||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return _(e)},t.isConcurrentMode=_,t.isContextConsumer=function(e){return g(e)===u},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return g(e)===p},t.isFragment=function(e){return g(e)===i},t.isProfiler=function(e){return g(e)===c},t.isPortal=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===a}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=n(140);function o(){}e.exports=function(){function e(e,t,n,o,s,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n=e.Symbol;"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable";return t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0});var o,s=function(e){return e&&e.__esModule?e:{default:e}}(n(142));o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var i=(0,s.default)(o);t.default=i}).call(this,n(26),n(143)(e))},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(145),o=n(42),s=n(29),i=n(89),a=n(18),c=n(91),l=Object.getOwnPropertyDescriptor;t.f=n(15)?l:function(e,t){if(e=s(e),t=i(t,!0),c)try{return l(e,t)}catch(e){}if(a(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(13),o=n(19),s=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(27)(Function.call,n(146).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return s(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:s}},function(e,t,n){var r=n(13),o=n(147).set;e.exports=function(e,t,n){var s,i=t.constructor;return i!==n&&"function"==typeof i&&(s=i.prototype)!==n.prototype&&r(s)&&o&&o(e,s),e}},function(e,t,n){var r=n(9)("iterator"),o=!1;try{var s=[7][r]();s.return=function(){o=!0},Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var s=[7],i=s[r]();i.next=function(){return{done:n=!0}},s[r]=function(){return i},e(s)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(10),o=n(16),s=n(15),i=n(9)("species");e.exports=function(e){var t=r[e];s&&t&&!t[i]&&o.f(t,i,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(85);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(18),o=n(151),s=n(44)("IE_PROTO"),i=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?i:null}},function(e,t,n){"use strict";var r=n(88),o=n(42),s=n(41),i={};n(17)(i,n(9)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(i,{next:o(1,n)}),s(e,t+" Iterator")}},function(e,t,n){var r=n(86),o=n(9)("toStringTag"),s="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:s?r(t):"Object"==(i=r(t))&&"function"==typeof t.callee?"Arguments":i}},function(e,t,n){var r=n(154),o=n(9)("iterator"),s=n(22);e.exports=n(24).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||s[r(e)]}},function(e,t,n){var r=n(22),o=n(9)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[o]===e)}},function(e,t,n){var r=n(19);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var s=e.return;throw void 0!==s&&r(s.call(e)),t}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(10).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(83),o=Math.max,s=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):s(e,t)}},function(e,t,n){var r=n(29),o=n(84),s=n(160);e.exports=function(e){return function(t,n,i){var a,c=r(t),l=o(c.length),u=s(i,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(86);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(18),o=n(29),s=n(161)(!1),i=n(44)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),c=0,l=[];for(n in a)n!=i&&r(a,n)&&l.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~s(l,n)||l.push(n));return l}},function(e,t,n){var r=n(16),o=n(19),s=n(87);e.exports=n(15)?Object.defineProperties:function(e,t){o(e);for(var n,i=s(t),a=i.length,c=0;a>c;)r.f(e,n=i[c++],t[n]);return e}},function(e,t){!function(e,t){"use strict";if("IntersectionObserver"in e&&"IntersectionObserverEntry"in e&&"intersectionRatio"in e.IntersectionObserverEntry.prototype)"isIntersecting"in e.IntersectionObserverEntry.prototype||Object.defineProperty(e.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var n=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.observe=function(e){if(!this._observationTargets.some(function(t){return t.element==e})){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter(function(t){return t.element!=e}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},o.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter(function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]})},o.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map(function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}});return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(s(e,"resize",this._checkForIntersections,!0),s(t,"scroll",this._checkForIntersections,!0),"MutationObserver"in e&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(e,"resize",this._checkForIntersections,!0),i(t,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),n=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var s=o.element,i=c(s),a=this._rootContainsTarget(s),l=o.entry,u=t&&a&&this._computeTargetAndRootIntersection(s,n),d=o.entry=new r({time:e.performance&&performance.now&&performance.now(),target:s,boundingClientRect:i,rootBounds:n,intersectionRect:u});l?t&&a?this._hasCrossedThreshold(l,d)&&this._queuedEntries.push(d):l&&l.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(n,r){if("none"!=e.getComputedStyle(n).display){for(var o=c(n),s=u(n),i=!1;!i;){var l=null,d=1==s.nodeType?e.getComputedStyle(s):{};if("none"==d.display)return;if(s==this.root||s==t?(i=!0,l=r):s!=t.body&&s!=t.documentElement&&"visible"!=d.overflow&&(l=c(s)),l&&!(o=a(l,o)))break;s=u(s)}return o}},o.prototype._getRootRect=function(){var e;if(this.root)e=c(this.root);else{var n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},o.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map(function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100}),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var s=this.thresholds[o];if(s==n||s==r||s<n!=s<r)return!0}},o.prototype._rootIsInDom=function(){return!this.root||l(t,this.root)},o.prototype._rootContainsTarget=function(e){return l(this.root||t,e)},o.prototype._registerInstance=function(){n.indexOf(this)<0&&n.push(this)},o.prototype._unregisterInstance=function(){var e=n.indexOf(this);-1!=e&&n.splice(e,1)},e.IntersectionObserver=o,e.IntersectionObserverEntry=r}function r(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?o/n:this.isIntersecting?1:0}function o(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=function(e,t){var n=null;return function(){n||(n=setTimeout(function(){e(),n=null},t))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(e){return e.value+e.unit}).join(" ")}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function i(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function a(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),o=Math.max(e.left,t.left),s=Math.min(e.right,t.right),i=s-o,a=r-n;return i>=0&&a>=0&&{top:n,bottom:r,left:o,right:s,width:i,height:a}}function c(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e,t){for(var n=t;n;){if(n==e)return!0;n=u(n)}return!1}function u(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t}}(window,document)},function(e,t,n){n(165),n(105),e.exports=n(106)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r="@@router/CALL_HISTORY_METHOD";function o(e){return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return{type:r,payload:{method:e,args:n}}}}o("push");var s=o("replace");o("go"),o("goBack"),o("goForward")},,,function(e,t){},,,,function(e,t){},,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,function(e,t){},function(e,t){},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){},function(e,t){},,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,function(e,t){}]).default;if(window.Ya&&Ya.Rum){Ya.Rum.sendTimeMark("1604.1428");}